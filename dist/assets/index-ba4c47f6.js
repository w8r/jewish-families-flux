(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=e(i);fetch(i.href,a)}})();function nn(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function Xn(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function Xi(t){let n,e,r;t.length!==2?(n=nn,e=(f,c)=>nn(t(f),c),r=(f,c)=>t(f)-c):(n=t===nn||t===Xn?t:u1,e=t,r=t);function i(f,c,s=0,u=f.length){if(s<u){if(n(c,c)!==0)return u;do{const d=s+u>>>1;e(f[d],c)<0?s=d+1:u=d}while(s<u)}return s}function a(f,c,s=0,u=f.length){if(s<u){if(n(c,c)!==0)return u;do{const d=s+u>>>1;e(f[d],c)<=0?s=d+1:u=d}while(s<u)}return s}function o(f,c,s=0,u=f.length){const d=i(f,c,s,u-1);return d>s&&r(f[d-1],c)>-r(f[d],c)?d-1:d}return{left:i,center:o,right:a}}function u1(){return 0}function es(t){return t===null?NaN:+t}function*s1(t,n){if(n===void 0)for(let e of t)e!=null&&(e=+e)>=e&&(yield e);else{let e=-1;for(let r of t)(r=n(r,++e,t))!=null&&(r=+r)>=r&&(yield r)}}const l1=Xi(nn),d1=l1.right;Xi(es).center;const af=d1;function h1(t){return t.length|0}function p1(t){return!(t>0)}function g1(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function m1(t){return n=>t(...n)}function b1(...t){const n=typeof t[t.length-1]=="function"&&m1(t.pop());t=t.map(g1);const e=t.map(h1),r=t.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||e.some(p1))return a;for(;;){a.push(i.map((f,c)=>t[c][f]));let o=r;for(;++i[o]===e[o];){if(o===0)return n?a.map(n):a;i[o--]=0}}}function rs(t,n){let e=0,r,i=0,a=0;if(n===void 0)for(let o of t)o!=null&&(o=+o)>=o&&(r=o-i,i+=r/++e,a+=r*(o-i));else{let o=-1;for(let f of t)(f=n(f,++o,t))!=null&&(f=+f)>=f&&(r=f-i,i+=r/++e,a+=r*(f-i))}if(e>1)return a/(e-1)}function y1(t,n){const e=rs(t,n);return e&&Math.sqrt(e)}function Nn(t,n){let e,r;if(n===void 0)for(const i of t)i!=null&&(e===void 0?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)));else{let i=-1;for(let a of t)(a=n(a,++i,t))!=null&&(e===void 0?a>=a&&(e=r=a):(e>a&&(e=a),r<a&&(r=a)))}return[e,r]}class Gn{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const e=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=e[i],o=n+a,f=Math.abs(n)<Math.abs(a)?n-(o-a):a-(o-n);f&&(e[r++]=f),n=o}return e[r]=n,this._n=r+1,this}valueOf(){const n=this._partials;let e=this._n,r,i,a,o=0;if(e>0){for(o=n[--e];e>0&&(r=o,i=n[--e],o=r+i,a=i-(o-r),!a););e>0&&(a<0&&n[e-1]<0||a>0&&n[e-1]>0)&&(i=a*2,r=o+i,i==r-o&&(o=r))}return o}}class or extends Map{constructor(n,e=os){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const[r,i]of n)this.set(r,i)}get(n){return super.get(uo(this,n))}has(n){return super.has(uo(this,n))}set(n,e){return super.set(is(this,n),e)}delete(n){return super.delete(as(this,n))}}class Gi extends Set{constructor(n,e=os){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const r of n)this.add(r)}has(n){return super.has(uo(this,n))}add(n){return super.add(is(this,n))}delete(n){return super.delete(as(this,n))}}function uo({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function is({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function as({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function os(t){return t!==null&&typeof t=="object"?t.valueOf():t}function w1(t){return t}function Ca(t,n,...e){return fs(t,w1,n,e)}function v1(t,n,...e){return fs(t,Array.from,n,e)}function fs(t,n,e,r){return function i(a,o){if(o>=r.length)return e(a);const f=new or,c=r[o++];let s=-1;for(const u of a){const d=c(u,++s,a),l=f.get(d);l?l.push(u):f.set(d,[u])}for(const[u,d]of f)f.set(u,i(d,o));return n(f)}(t,0)}function x1(t,n){return Array.from(n,e=>t[e])}function M1(t,...n){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[e]=n;if(e&&e.length!==2||n.length>1){const r=Uint32Array.from(t,(i,a)=>a);return n.length>1?(n=n.map(i=>t.map(i)),r.sort((i,a)=>{for(const o of n){const f=di(o[i],o[a]);if(f)return f}})):(e=t.map(e),r.sort((i,a)=>di(e[i],e[a]))),x1(t,r)}return t.sort(cs(e))}function cs(t=nn){if(t===nn)return di;if(typeof t!="function")throw new TypeError("compare is not a function");return(n,e)=>{const r=t(n,e);return r||r===0?r:(t(e,e)===0)-(t(n,n)===0)}}function di(t,n){return(t==null||!(t>=t))-(n==null||!(n>=n))||(t<n?-1:t>n?1:0)}const $1=Math.sqrt(50),_1=Math.sqrt(10),S1=Math.sqrt(2);function hi(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=$1?10:a>=_1?5:a>=S1?2:1;let f,c,s;return i<0?(s=Math.pow(10,-i)/o,f=Math.round(t*s),c=Math.round(n*s),f/s<t&&++f,c/s>n&&--c,s=-s):(s=Math.pow(10,i)*o,f=Math.round(t/s),c=Math.round(n/s),f*s<t&&++f,c*s>n&&--c),c<f&&.5<=e&&e<2?hi(t,n,e*2):[f,c,s]}function pi(t,n,e){if(n=+n,t=+t,e=+e,!(e>0))return[];if(t===n)return[t];const r=n<t,[i,a,o]=r?hi(n,t,e):hi(t,n,e);if(!(a>=i))return[];const f=a-i+1,c=new Array(f);if(r)if(o<0)for(let s=0;s<f;++s)c[s]=(a-s)/-o;else for(let s=0;s<f;++s)c[s]=(a-s)*o;else if(o<0)for(let s=0;s<f;++s)c[s]=(i+s)/-o;else for(let s=0;s<f;++s)c[s]=(i+s)*o;return c}function so(t,n,e){return n=+n,t=+t,e=+e,hi(t,n,e)[2]}function lo(t,n,e){n=+n,t=+t,e=+e;const r=n<t,i=r?so(n,t,e):so(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function an(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e<i||e===void 0&&i>=i)&&(e=i)}return e}function T1(t,n){let e,r=-1,i=-1;if(n===void 0)for(const a of t)++i,a!=null&&(e<a||e===void 0&&a>=a)&&(e=a,r=i);else for(let a of t)(a=n(a,++i,t))!=null&&(e<a||e===void 0&&a>=a)&&(e=a,r=i);return r}function fr(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e>r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e>i||e===void 0&&i>=i)&&(e=i)}return e}function A1(t,n){let e,r=-1,i=-1;if(n===void 0)for(const a of t)++i,a!=null&&(e>a||e===void 0&&a>=a)&&(e=a,r=i);else for(let a of t)(a=n(a,++i,t))!=null&&(e>a||e===void 0&&a>=a)&&(e=a,r=i);return r}function us(t,n,e=0,r=1/0,i){if(n=Math.floor(n),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(t.length-1,r)),!(e<=n&&n<=r))return t;for(i=i===void 0?di:cs(i);r>e;){if(r-e>600){const c=r-e+1,s=n-e+1,u=Math.log(c),d=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*d*(c-d)/c)*(s-c/2<0?-1:1),h=Math.max(e,Math.floor(n-s*d/c+l)),p=Math.min(r,Math.floor(n+(c-s)*d/c+l));us(t,n,h,p,i)}const a=t[n];let o=e,f=r;for(qe(t,e,n),i(t[r],a)>0&&qe(t,e,r);o<f;){for(qe(t,o,f),++o,--f;i(t[o],a)<0;)++o;for(;i(t[f],a)>0;)--f}i(t[e],a)===0?qe(t,e,f):(++f,qe(t,f,r)),f<=n&&(e=f+1),n<=f&&(r=f-1)}return t}function qe(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function gi(t,n,e){if(t=Float64Array.from(s1(t,e)),!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return fr(t);if(n>=1)return an(t);var r,i=(r-1)*n,a=Math.floor(i),o=an(us(t,a).subarray(0,a+1)),f=fr(t.subarray(a+1));return o+(f-o)*(i-a)}}function C1(t,n,e=es){if(!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,a=Math.floor(i),o=+e(t[a],a,t),f=+e(t[a+1],a+1,t);return o+(f-o)*(i-a)}}function E1(t,n){let e=0,r=0;if(n===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++e,r+=i);else{let i=-1;for(let a of t)(a=n(a,++i,t))!=null&&(a=+a)>=a&&(++e,r+=a)}if(e)return r/e}function ho(t,n){return gi(t,.5,n)}function*N1(t){for(const n of t)yield*n}function ss(t){return Array.from(N1(t))}function k1(t,n){const e=new or;if(n===void 0)for(let a of t)a!=null&&a>=a&&e.set(a,(e.get(a)||0)+1);else{let a=-1;for(let o of t)(o=n(o,++a,t))!=null&&o>=o&&e.set(o,(e.get(o)||0)+1)}let r,i=0;for(const[a,o]of e)o>i&&(i=o,r=a);return r}function L1(t,n=D1){const e=[];let r,i=!1;for(const a of t)i&&e.push(n(r,a)),r=a,i=!0;return e}function D1(t,n){return[t,n]}function po(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((n-t)/e))|0,a=new Array(i);++r<i;)a[r]=t+r*e;return a}function of(t,n){let e=0;if(n===void 0)for(let r of t)(r=+r)&&(e+=r);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}function mi(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function I1(t){return t}var Ea=1,Na=2,go=3,Yr=4,ec=1e-6;function F1(t){return"translate("+t+",0)"}function R1(t){return"translate(0,"+t+")"}function P1(t){return n=>+t(n)}function O1(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function U1(){return!this.__axis}function q1(t,n){var e=[],r=null,i=null,a=6,o=6,f=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,s=t===Ea||t===Yr?-1:1,u=t===Yr||t===Na?"x":"y",d=t===Ea||t===go?F1:R1;function l(h){var p=r??(n.ticks?n.ticks.apply(n,e):n.domain()),g=i??(n.tickFormat?n.tickFormat.apply(n,e):I1),m=Math.max(a,0)+f,v=n.range(),b=+v[0]+c,M=+v[v.length-1]+c,y=(n.bandwidth?O1:P1)(n.copy(),c),x=h.selection?h.selection():h,w=x.selectAll(".domain").data([null]),$=x.selectAll(".tick").data(p,n).order(),C=$.exit(),T=$.enter().append("g").attr("class","tick"),N=$.select("line"),_=$.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),$=$.merge(T),N=N.merge(T.append("line").attr("stroke","currentColor").attr(u+"2",s*a)),_=_.merge(T.append("text").attr("fill","currentColor").attr(u,s*m).attr("dy",t===Ea?"0em":t===go?"0.71em":"0.32em")),h!==x&&(w=w.transition(h),$=$.transition(h),N=N.transition(h),_=_.transition(h),C=C.transition(h).attr("opacity",ec).attr("transform",function(L){return isFinite(L=y(L))?d(L+c):this.getAttribute("transform")}),T.attr("opacity",ec).attr("transform",function(L){var I=this.parentNode.__axis;return d((I&&isFinite(I=I(L))?I:y(L))+c)})),C.remove(),w.attr("d",t===Yr||t===Na?o?"M"+s*o+","+b+"H"+c+"V"+M+"H"+s*o:"M"+c+","+b+"V"+M:o?"M"+b+","+s*o+"V"+c+"H"+M+"V"+s*o:"M"+b+","+c+"H"+M),$.attr("opacity",1).attr("transform",function(L){return d(y(L)+c)}),N.attr(u+"2",s*a),_.attr(u,s*m).text(g),x.filter(U1).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Na?"start":t===Yr?"end":"middle"),x.each(function(){this.__axis=y})}return l.scale=function(h){return arguments.length?(n=h,l):n},l.ticks=function(){return e=Array.from(arguments),l},l.tickArguments=function(h){return arguments.length?(e=h==null?[]:Array.from(h),l):e.slice()},l.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),l):r&&r.slice()},l.tickFormat=function(h){return arguments.length?(i=h,l):i},l.tickSize=function(h){return arguments.length?(a=o=+h,l):a},l.tickSizeInner=function(h){return arguments.length?(a=+h,l):a},l.tickSizeOuter=function(h){return arguments.length?(o=+h,l):o},l.tickPadding=function(h){return arguments.length?(f=+h,l):f},l.offset=function(h){return arguments.length?(c=+h,l):c},l}function z1(t){return q1(go,t)}var Y1={value:()=>{}};function ls(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new fi(e)}function fi(t){this._=t}function H1(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}fi.prototype=ls.prototype={constructor:fi,on:function(t,n){var e=this._,r=H1(t+"",e),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=W1(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++a<o;)if(i=(t=r[a]).type)e[i]=rc(e[i],t.name,n);else if(n==null)for(i in e)e[i]=rc(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new fi(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,a;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(n,e)}};function W1(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function rc(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Y1,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var mo="http://www.w3.org/1999/xhtml";const ve={svg:"http://www.w3.org/2000/svg",xhtml:mo,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ji(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),ve.hasOwnProperty(n)?{space:ve[n],local:t}:t}function B1(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===mo&&n.documentElement.namespaceURI===mo?n.createElement(t):n.createElementNS(e,t)}}function V1(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Zi(t){var n=ji(t);return(n.local?V1:B1)(n)}function X1(){}function ff(t){return t==null?X1:function(){return this.querySelector(t)}}function G1(t){typeof t!="function"&&(t=ff(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,f=r[i]=new Array(o),c,s,u=0;u<o;++u)(c=a[u])&&(s=t.call(c,c.__data__,u,a))&&("__data__"in c&&(s.__data__=c.__data__),f[u]=s);return new Nt(r,this._parents)}function j1(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Z1(){return[]}function ds(t){return t==null?Z1:function(){return this.querySelectorAll(t)}}function K1(t){return function(){return j1(t.apply(this,arguments))}}function Q1(t){typeof t=="function"?t=K1(t):t=ds(t);for(var n=this._groups,e=n.length,r=[],i=[],a=0;a<e;++a)for(var o=n[a],f=o.length,c,s=0;s<f;++s)(c=o[s])&&(r.push(t.call(c,c.__data__,s,o)),i.push(c));return new Nt(r,i)}function hs(t){return function(){return this.matches(t)}}function ps(t){return function(n){return n.matches(t)}}var J1=Array.prototype.find;function tp(t){return function(){return J1.call(this.children,t)}}function np(){return this.firstElementChild}function ep(t){return this.select(t==null?np:tp(typeof t=="function"?t:ps(t)))}var rp=Array.prototype.filter;function ip(){return Array.from(this.children)}function ap(t){return function(){return rp.call(this.children,t)}}function op(t){return this.selectAll(t==null?ip:ap(typeof t=="function"?t:ps(t)))}function fp(t){typeof t!="function"&&(t=hs(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,f=r[i]=[],c,s=0;s<o;++s)(c=a[s])&&t.call(c,c.__data__,s,a)&&f.push(c);return new Nt(r,this._parents)}function gs(t){return new Array(t.length)}function cp(){return new Nt(this._enter||this._groups.map(gs),this._parents)}function bi(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}bi.prototype={constructor:bi,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function up(t){return function(){return t}}function sp(t,n,e,r,i,a){for(var o=0,f,c=n.length,s=a.length;o<s;++o)(f=n[o])?(f.__data__=a[o],r[o]=f):e[o]=new bi(t,a[o]);for(;o<c;++o)(f=n[o])&&(i[o]=f)}function lp(t,n,e,r,i,a,o){var f,c,s=new Map,u=n.length,d=a.length,l=new Array(u),h;for(f=0;f<u;++f)(c=n[f])&&(l[f]=h=o.call(c,c.__data__,f,n)+"",s.has(h)?i[f]=c:s.set(h,c));for(f=0;f<d;++f)h=o.call(t,a[f],f,a)+"",(c=s.get(h))?(r[f]=c,c.__data__=a[f],s.delete(h)):e[f]=new bi(t,a[f]);for(f=0;f<u;++f)(c=n[f])&&s.get(l[f])===c&&(i[f]=c)}function dp(t){return t.__data__}function hp(t,n){if(!arguments.length)return Array.from(this,dp);var e=n?lp:sp,r=this._parents,i=this._groups;typeof t!="function"&&(t=up(t));for(var a=i.length,o=new Array(a),f=new Array(a),c=new Array(a),s=0;s<a;++s){var u=r[s],d=i[s],l=d.length,h=pp(t.call(u,u&&u.__data__,s,r)),p=h.length,g=f[s]=new Array(p),m=o[s]=new Array(p),v=c[s]=new Array(l);e(u,d,g,m,v,h,n);for(var b=0,M=0,y,x;b<p;++b)if(y=g[b]){for(b>=M&&(M=b+1);!(x=m[M])&&++M<p;);y._next=x||null}}return o=new Nt(o,r),o._enter=f,o._exit=c,o}function pp(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function gp(){return new Nt(this._exit||this._groups.map(gs),this._parents)}function mp(t,n,e){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?a.remove():e(a),r&&i?r.merge(i).order():i}function bp(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,a=r.length,o=Math.min(i,a),f=new Array(i),c=0;c<o;++c)for(var s=e[c],u=r[c],d=s.length,l=f[c]=new Array(d),h,p=0;p<d;++p)(h=s[p]||u[p])&&(l[p]=h);for(;c<i;++c)f[c]=e[c];return new Nt(f,this._parents)}function yp(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function wp(t){t||(t=vp);function n(d,l){return d&&l?t(d.__data__,l.__data__):!d-!l}for(var e=this._groups,r=e.length,i=new Array(r),a=0;a<r;++a){for(var o=e[a],f=o.length,c=i[a]=new Array(f),s,u=0;u<f;++u)(s=o[u])&&(c[u]=s);c.sort(n)}return new Nt(i,this._parents).order()}function vp(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function xp(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Mp(){return Array.from(this)}function $p(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function _p(){let t=0;for(const n of this)++t;return t}function Sp(){return!this.node()}function Tp(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],a=0,o=i.length,f;a<o;++a)(f=i[a])&&t.call(f,f.__data__,a,i);return this}function Ap(t){return function(){this.removeAttribute(t)}}function Cp(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ep(t,n){return function(){this.setAttribute(t,n)}}function Np(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function kp(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function Lp(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Dp(t,n){var e=ji(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?Cp:Ap:typeof n=="function"?e.local?Lp:kp:e.local?Np:Ep)(e,n))}function ms(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ip(t){return function(){this.style.removeProperty(t)}}function Fp(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Rp(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function Pp(t,n,e){return arguments.length>1?this.each((n==null?Ip:typeof n=="function"?Rp:Fp)(t,n,e??"")):xe(this.node(),t)}function xe(t,n){return t.style.getPropertyValue(n)||ms(t).getComputedStyle(t,null).getPropertyValue(n)}function Op(t){return function(){delete this[t]}}function Up(t,n){return function(){this[t]=n}}function qp(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function zp(t,n){return arguments.length>1?this.each((n==null?Op:typeof n=="function"?qp:Up)(t,n)):this.node()[t]}function bs(t){return t.trim().split(/^|\s+/)}function cf(t){return t.classList||new ys(t)}function ys(t){this._node=t,this._names=bs(t.getAttribute("class")||"")}ys.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function ws(t,n){for(var e=cf(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function vs(t,n){for(var e=cf(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Yp(t){return function(){ws(this,t)}}function Hp(t){return function(){vs(this,t)}}function Wp(t,n){return function(){(n.apply(this,arguments)?ws:vs)(this,t)}}function Bp(t,n){var e=bs(t+"");if(arguments.length<2){for(var r=cf(this.node()),i=-1,a=e.length;++i<a;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?Wp:n?Yp:Hp)(e,n))}function Vp(){this.textContent=""}function Xp(t){return function(){this.textContent=t}}function Gp(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function jp(t){return arguments.length?this.each(t==null?Vp:(typeof t=="function"?Gp:Xp)(t)):this.node().textContent}function Zp(){this.innerHTML=""}function Kp(t){return function(){this.innerHTML=t}}function Qp(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function Jp(t){return arguments.length?this.each(t==null?Zp:(typeof t=="function"?Qp:Kp)(t)):this.node().innerHTML}function tg(){this.nextSibling&&this.parentNode.appendChild(this)}function ng(){return this.each(tg)}function eg(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function rg(){return this.each(eg)}function ig(t){var n=typeof t=="function"?t:Zi(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function ag(){return null}function og(t,n){var e=typeof t=="function"?t:Zi(t),r=n==null?ag:typeof n=="function"?n:ff(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function fg(){var t=this.parentNode;t&&t.removeChild(this)}function cg(){return this.each(fg)}function ug(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function sg(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function lg(t){return this.select(t?sg:ug)}function dg(t){return arguments.length?this.property("__data__",t):this.node().__data__}function hg(t){return function(n){t.call(this,n,this.__data__)}}function pg(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function gg(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,a;e<i;++e)a=n[e],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):n[++r]=a;++r?n.length=r:delete this.__on}}}function mg(t,n,e){return function(){var r=this.__on,i,a=hg(n);if(r){for(var o=0,f=r.length;o<f;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=e),i.value=n;return}}this.addEventListener(t.type,a,e),i={type:t.type,name:t.name,value:n,listener:a,options:e},r?r.push(i):this.__on=[i]}}function bg(t,n,e){var r=pg(t+""),i,a=r.length,o;if(arguments.length<2){var f=this.node().__on;if(f){for(var c=0,s=f.length,u;c<s;++c)for(i=0,u=f[c];i<a;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value}return}for(f=n?mg:gg,i=0;i<a;++i)this.each(f(r[i],n,e));return this}function xs(t,n,e){var r=ms(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function yg(t,n){return function(){return xs(this,t,n)}}function wg(t,n){return function(){return xs(this,t,n.apply(this,arguments))}}function vg(t,n){return this.each((typeof n=="function"?wg:yg)(t,n))}function*xg(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var Ms=[null];function Nt(t,n){this._groups=t,this._parents=n}function xr(){return new Nt([[document.documentElement]],Ms)}function Mg(){return this}Nt.prototype=xr.prototype={constructor:Nt,select:G1,selectAll:Q1,selectChild:ep,selectChildren:op,filter:fp,data:hp,enter:cp,exit:gp,join:mp,merge:bp,selection:Mg,order:yp,sort:wp,call:xp,nodes:Mp,node:$p,size:_p,empty:Sp,each:Tp,attr:Dp,style:Pp,property:zp,classed:Bp,text:jp,html:Jp,raise:ng,lower:rg,append:ig,insert:og,remove:cg,clone:lg,datum:dg,on:bg,dispatch:vg,[Symbol.iterator]:xg};function nr(t){return typeof t=="string"?new Nt([[document.querySelector(t)]],[document.documentElement]):new Nt([[t]],Ms)}function $g(t){let n;for(;n=t.sourceEvent;)t=n;return t}function _g(t,n){if(t=$g(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}function Ie(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Mr(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Ln(){}var jn=.7,Me=1/jn,be="\\s*([+-]?\\d+)\\s*",cr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",en="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Sg=/^#([0-9a-f]{3,8})$/,Tg=new RegExp(`^rgb\\(${be},${be},${be}\\)$`),Ag=new RegExp(`^rgb\\(${en},${en},${en}\\)$`),Cg=new RegExp(`^rgba\\(${be},${be},${be},${cr}\\)$`),Eg=new RegExp(`^rgba\\(${en},${en},${en},${cr}\\)$`),Ng=new RegExp(`^hsl\\(${cr},${en},${en}\\)$`),kg=new RegExp(`^hsla\\(${cr},${en},${en},${cr}\\)$`),ic={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ie(Ln,Zn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ac,formatHex:ac,formatHex8:Lg,formatHsl:Dg,formatRgb:oc,toString:oc});function ac(){return this.rgb().formatHex()}function Lg(){return this.rgb().formatHex8()}function Dg(){return $s(this).formatHsl()}function oc(){return this.rgb().formatRgb()}function Zn(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Sg.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?fc(n):e===3?new mt(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?Hr(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?Hr(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=Tg.exec(t))?new mt(n[1],n[2],n[3],1):(n=Ag.exec(t))?new mt(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=Cg.exec(t))?Hr(n[1],n[2],n[3],n[4]):(n=Eg.exec(t))?Hr(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=Ng.exec(t))?sc(n[1],n[2]/100,n[3]/100,1):(n=kg.exec(t))?sc(n[1],n[2]/100,n[3]/100,n[4]):ic.hasOwnProperty(t)?fc(ic[t]):t==="transparent"?new mt(NaN,NaN,NaN,0):null}function fc(t){return new mt(t>>16&255,t>>8&255,t&255,1)}function Hr(t,n,e,r){return r<=0&&(t=n=e=NaN),new mt(t,n,e,r)}function uf(t){return t instanceof Ln||(t=Zn(t)),t?(t=t.rgb(),new mt(t.r,t.g,t.b,t.opacity)):new mt}function kn(t,n,e,r){return arguments.length===1?uf(t):new mt(t,n,e,r??1)}function mt(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}Ie(mt,kn,Mr(Ln,{brighter(t){return t=t==null?Me:Math.pow(Me,t),new mt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?jn:Math.pow(jn,t),new mt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new mt(Hn(this.r),Hn(this.g),Hn(this.b),yi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cc,formatHex:cc,formatHex8:Ig,formatRgb:uc,toString:uc}));function cc(){return`#${Un(this.r)}${Un(this.g)}${Un(this.b)}`}function Ig(){return`#${Un(this.r)}${Un(this.g)}${Un(this.b)}${Un((isNaN(this.opacity)?1:this.opacity)*255)}`}function uc(){const t=yi(this.opacity);return`${t===1?"rgb(":"rgba("}${Hn(this.r)}, ${Hn(this.g)}, ${Hn(this.b)}${t===1?")":`, ${t})`}`}function yi(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Hn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Un(t){return t=Hn(t),(t<16?"0":"")+t.toString(16)}function sc(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Ht(t,n,e,r)}function $s(t){if(t instanceof Ht)return new Ht(t.h,t.s,t.l,t.opacity);if(t instanceof Ln||(t=Zn(t)),!t)return new Ht;if(t instanceof Ht)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),a=Math.max(n,e,r),o=NaN,f=a-i,c=(a+i)/2;return f?(n===a?o=(e-r)/f+(e<r)*6:e===a?o=(r-n)/f+2:o=(n-e)/f+4,f/=c<.5?a+i:2-a-i,o*=60):f=c>0&&c<1?0:o,new Ht(o,f,c,t.opacity)}function bo(t,n,e,r){return arguments.length===1?$s(t):new Ht(t,n,e,r??1)}function Ht(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}Ie(Ht,bo,Mr(Ln,{brighter(t){return t=t==null?Me:Math.pow(Me,t),new Ht(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?jn:Math.pow(jn,t),new Ht(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new mt(ka(t>=240?t-240:t+120,i,r),ka(t,i,r),ka(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ht(lc(this.h),Wr(this.s),Wr(this.l),yi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=yi(this.opacity);return`${t===1?"hsl(":"hsla("}${lc(this.h)}, ${Wr(this.s)*100}%, ${Wr(this.l)*100}%${t===1?")":`, ${t})`}`}}));function lc(t){return t=(t||0)%360,t<0?t+360:t}function Wr(t){return Math.max(0,Math.min(1,t||0))}function ka(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const _s=Math.PI/180,Ss=180/Math.PI,wi=18,Ts=.96422,As=1,Cs=.82521,Es=4/29,ye=6/29,Ns=3*ye*ye,Fg=ye*ye*ye;function ks(t){if(t instanceof rn)return new rn(t.l,t.a,t.b,t.opacity);if(t instanceof mn)return Ls(t);t instanceof mt||(t=uf(t));var n=Fa(t.r),e=Fa(t.g),r=Fa(t.b),i=La((.2225045*n+.7168786*e+.0606169*r)/As),a,o;return n===e&&e===r?a=o=i:(a=La((.4360747*n+.3850649*e+.1430804*r)/Ts),o=La((.0139322*n+.0971045*e+.7141733*r)/Cs)),new rn(116*i-16,500*(a-i),200*(i-o),t.opacity)}function yo(t,n,e,r){return arguments.length===1?ks(t):new rn(t,n,e,r??1)}function rn(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}Ie(rn,yo,Mr(Ln,{brighter(t){return new rn(this.l+wi*(t??1),this.a,this.b,this.opacity)},darker(t){return new rn(this.l-wi*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return n=Ts*Da(n),t=As*Da(t),e=Cs*Da(e),new mt(Ia(3.1338561*n-1.6168667*t-.4906146*e),Ia(-.9787684*n+1.9161415*t+.033454*e),Ia(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}}));function La(t){return t>Fg?Math.pow(t,1/3):t/Ns+Es}function Da(t){return t>ye?t*t*t:Ns*(t-Es)}function Ia(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Fa(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Rg(t){if(t instanceof mn)return new mn(t.h,t.c,t.l,t.opacity);if(t instanceof rn||(t=ks(t)),t.a===0&&t.b===0)return new mn(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*Ss;return new mn(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function wo(t,n,e,r){return arguments.length===1?Rg(t):new mn(t,n,e,r??1)}function mn(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function Ls(t){if(isNaN(t.h))return new rn(t.l,0,0,t.opacity);var n=t.h*_s;return new rn(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}Ie(mn,wo,Mr(Ln,{brighter(t){return new mn(this.h,this.c,this.l+wi*(t??1),this.opacity)},darker(t){return new mn(this.h,this.c,this.l-wi*(t??1),this.opacity)},rgb(){return Ls(this).rgb()}}));var Ds=-.14861,sf=1.78277,lf=-.29227,Ki=-.90649,ur=1.97294,dc=ur*Ki,hc=ur*sf,pc=sf*lf-Ki*Ds;function Pg(t){if(t instanceof Wn)return new Wn(t.h,t.s,t.l,t.opacity);t instanceof mt||(t=uf(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(pc*r+dc*n-hc*e)/(pc+dc-hc),a=r-i,o=(ur*(e-i)-lf*a)/Ki,f=Math.sqrt(o*o+a*a)/(ur*i*(1-i)),c=f?Math.atan2(o,a)*Ss-120:NaN;return new Wn(c<0?c+360:c,f,i,t.opacity)}function on(t,n,e,r){return arguments.length===1?Pg(t):new Wn(t,n,e,r??1)}function Wn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}Ie(Wn,on,Mr(Ln,{brighter(t){return t=t==null?Me:Math.pow(Me,t),new Wn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?jn:Math.pow(jn,t),new Wn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*_s,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new mt(255*(n+e*(Ds*r+sf*i)),255*(n+e*(lf*r+Ki*i)),255*(n+e*(ur*r)),this.opacity)}}));function Og(t,n,e,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*n+(4-6*a+3*o)*e+(1+3*t+3*a-3*o)*r+o*i)/6}function Ug(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,f=r<n-1?t[r+2]:2*a-i;return Og((e-r/n)*n,o,i,a,f)}}const Qi=t=>()=>t;function Is(t,n){return function(e){return t+e*n}}function qg(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function df(t,n){var e=n-t;return e?Is(t,e>180||e<-180?e-360*Math.round(e/360):e):Qi(isNaN(t)?n:t)}function zg(t){return(t=+t)==1?vt:function(n,e){return e-n?qg(n,e,t):Qi(isNaN(n)?e:n)}}function vt(t,n){var e=n-t;return e?Is(t,e):Qi(isNaN(t)?n:t)}const Kn=function t(n){var e=zg(n);function r(i,a){var o=e((i=kn(i)).r,(a=kn(a)).r),f=e(i.g,a.g),c=e(i.b,a.b),s=vt(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=f(u),i.b=c(u),i.opacity=s(u),i+""}}return r.gamma=t,r}(1);function Yg(t){return function(n){var e=n.length,r=new Array(e),i=new Array(e),a=new Array(e),o,f;for(o=0;o<e;++o)f=kn(n[o]),r[o]=f.r||0,i[o]=f.g||0,a[o]=f.b||0;return r=t(r),i=t(i),a=t(a),f.opacity=1,function(c){return f.r=r(c),f.g=i(c),f.b=a(c),f+""}}}var Hg=Yg(Ug);function Wg(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(a){for(i=0;i<e;++i)r[i]=t[i]*(1-a)+n[i]*a;return r}}function Bg(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Vg(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),a=new Array(e),o;for(o=0;o<r;++o)i[o]=$r(t[o],n[o]);for(;o<e;++o)a[o]=n[o];return function(f){for(o=0;o<r;++o)a[o]=i[o](f);return a}}function Xg(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function wt(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Gg(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=$r(t[i],n[i]):r[i]=n[i];return function(a){for(i in e)r[i]=e[i](a);return r}}var vo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ra=new RegExp(vo.source,"g");function jg(t){return function(){return t}}function Zg(t){return function(n){return t(n)+""}}function Fs(t,n){var e=vo.lastIndex=Ra.lastIndex=0,r,i,a,o=-1,f=[],c=[];for(t=t+"",n=n+"";(r=vo.exec(t))&&(i=Ra.exec(n));)(a=i.index)>e&&(a=n.slice(e,a),f[o]?f[o]+=a:f[++o]=a),(r=r[0])===(i=i[0])?f[o]?f[o]+=i:f[++o]=i:(f[++o]=null,c.push({i:o,x:wt(r,i)})),e=Ra.lastIndex;return e<n.length&&(a=n.slice(e),f[o]?f[o]+=a:f[++o]=a),f.length<2?c[0]?Zg(c[0].x):jg(n):(n=c.length,function(s){for(var u=0,d;u<n;++u)f[(d=c[u]).i]=d.x(s);return f.join("")})}function $r(t,n){var e=typeof n,r;return n==null||e==="boolean"?Qi(n):(e==="number"?wt:e==="string"?(r=Zn(n))?(n=r,Kn):Fs:n instanceof Zn?Kn:n instanceof Date?Xg:Bg(n)?Wg:Array.isArray(n)?Vg:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?Gg:wt)(t,n)}function hf(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var gc=180/Math.PI,xo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Rs(t,n,e,r,i,a){var o,f,c;return(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(f=Math.sqrt(e*e+r*r))&&(e/=f,r/=f,c/=f),t*r<n*e&&(t=-t,n=-n,c=-c,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(n,t)*gc,skewX:Math.atan(c)*gc,scaleX:o,scaleY:f}}var Br;function Kg(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?xo:Rs(n.a,n.b,n.c,n.d,n.e,n.f)}function Qg(t){return t==null||(Br||(Br=document.createElementNS("http://www.w3.org/2000/svg","g")),Br.setAttribute("transform",t),!(t=Br.transform.baseVal.consolidate()))?xo:(t=t.matrix,Rs(t.a,t.b,t.c,t.d,t.e,t.f))}function Ps(t,n,e,r){function i(s){return s.length?s.pop()+" ":""}function a(s,u,d,l,h,p){if(s!==d||u!==l){var g=h.push("translate(",null,n,null,e);p.push({i:g-4,x:wt(s,d)},{i:g-2,x:wt(u,l)})}else(d||l)&&h.push("translate("+d+n+l+e)}function o(s,u,d,l){s!==u?(s-u>180?u+=360:u-s>180&&(s+=360),l.push({i:d.push(i(d)+"rotate(",null,r)-2,x:wt(s,u)})):u&&d.push(i(d)+"rotate("+u+r)}function f(s,u,d,l){s!==u?l.push({i:d.push(i(d)+"skewX(",null,r)-2,x:wt(s,u)}):u&&d.push(i(d)+"skewX("+u+r)}function c(s,u,d,l,h,p){if(s!==d||u!==l){var g=h.push(i(h)+"scale(",null,",",null,")");p.push({i:g-4,x:wt(s,d)},{i:g-2,x:wt(u,l)})}else(d!==1||l!==1)&&h.push(i(h)+"scale("+d+","+l+")")}return function(s,u){var d=[],l=[];return s=t(s),u=t(u),a(s.translateX,s.translateY,u.translateX,u.translateY,d,l),o(s.rotate,u.rotate,d,l),f(s.skewX,u.skewX,d,l),c(s.scaleX,s.scaleY,u.scaleX,u.scaleY,d,l),s=u=null,function(h){for(var p=-1,g=l.length,m;++p<g;)d[(m=l[p]).i]=m.x(h);return d.join("")}}}var Jg=Ps(Kg,"px, ","px)","deg)"),tm=Ps(Qg,", ",")",")");function nm(t){return function(n,e){var r=t((n=bo(n)).h,(e=bo(e)).h),i=vt(n.s,e.s),a=vt(n.l,e.l),o=vt(n.opacity,e.opacity);return function(f){return n.h=r(f),n.s=i(f),n.l=a(f),n.opacity=o(f),n+""}}}const em=nm(df);function rm(t,n){var e=vt((t=yo(t)).l,(n=yo(n)).l),r=vt(t.a,n.a),i=vt(t.b,n.b),a=vt(t.opacity,n.opacity);return function(o){return t.l=e(o),t.a=r(o),t.b=i(o),t.opacity=a(o),t+""}}function im(t){return function(n,e){var r=t((n=wo(n)).h,(e=wo(e)).h),i=vt(n.c,e.c),a=vt(n.l,e.l),o=vt(n.opacity,e.opacity);return function(f){return n.h=r(f),n.c=i(f),n.l=a(f),n.opacity=o(f),n+""}}}const am=im(df);function Os(t){return function n(e){e=+e;function r(i,a){var o=t((i=on(i)).h,(a=on(a)).h),f=vt(i.s,a.s),c=vt(i.l,a.l),s=vt(i.opacity,a.opacity);return function(u){return i.h=o(u),i.s=f(u),i.l=c(Math.pow(u,e)),i.opacity=s(u),i+""}}return r.gamma=n,r}(1)}Os(df);var pf=Os(vt);function Ji(t,n){n===void 0&&(n=t,t=$r);for(var e=0,r=n.length-1,i=n[0],a=new Array(r<0?0:r);e<r;)a[e]=t(i,i=n[++e]);return function(o){var f=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[f](o-f)}}function Bt(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}var $e=0,Xe=0,ze=0,Us=1e3,vi,Ge,xi=0,Qn=0,ta=0,sr=typeof performance=="object"&&performance.now?performance:Date,qs=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function gf(){return Qn||(qs(om),Qn=sr.now()+ta)}function om(){Qn=0}function Mi(){this._call=this._time=this._next=null}Mi.prototype=zs.prototype={constructor:Mi,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?gf():+e)+(n==null?0:+n),!this._next&&Ge!==this&&(Ge?Ge._next=this:vi=this,Ge=this),this._call=t,this._time=e,Mo()},stop:function(){this._call&&(this._call=null,this._time=1/0,Mo())}};function zs(t,n,e){var r=new Mi;return r.restart(t,n,e),r}function fm(){gf(),++$e;for(var t=vi,n;t;)(n=Qn-t._time)>=0&&t._call.call(void 0,n),t=t._next;--$e}function mc(){Qn=(xi=sr.now())+ta,$e=Xe=0;try{fm()}finally{$e=0,um(),Qn=0}}function cm(){var t=sr.now(),n=t-xi;n>Us&&(ta-=n,xi=t)}function um(){for(var t,n=vi,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:vi=e);Ge=t,Mo(r)}function Mo(t){if(!$e){Xe&&(Xe=clearTimeout(Xe));var n=t-Qn;n>24?(t<1/0&&(Xe=setTimeout(mc,t-sr.now()-ta)),ze&&(ze=clearInterval(ze))):(ze||(xi=sr.now(),ze=setInterval(cm,Us)),$e=1,qs(mc))}}function bc(t,n,e){var r=new Mi;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var sm=ls("start","end","cancel","interrupt"),lm=[],Ys=0,yc=1,$o=2,ci=3,wc=4,_o=5,ui=6;function na(t,n,e,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(e in o)return;dm(t,e,{name:n,index:r,group:i,on:sm,tween:lm,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Ys})}function mf(t,n){var e=Gt(t,n);if(e.state>Ys)throw new Error("too late; already scheduled");return e}function cn(t,n){var e=Gt(t,n);if(e.state>ci)throw new Error("too late; already running");return e}function Gt(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function dm(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=zs(a,0,e.time);function a(s){e.state=yc,e.timer.restart(o,e.delay,e.time),e.delay<=s&&o(s-e.delay)}function o(s){var u,d,l,h;if(e.state!==yc)return c();for(u in r)if(h=r[u],h.name===e.name){if(h.state===ci)return bc(o);h.state===wc?(h.state=ui,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[u]):+u<n&&(h.state=ui,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[u])}if(bc(function(){e.state===ci&&(e.state=wc,e.timer.restart(f,e.delay,e.time),f(s))}),e.state=$o,e.on.call("start",t,t.__data__,e.index,e.group),e.state===$o){for(e.state=ci,i=new Array(l=e.tween.length),u=0,d=-1;u<l;++u)(h=e.tween[u].value.call(t,t.__data__,e.index,e.group))&&(i[++d]=h);i.length=d+1}}function f(s){for(var u=s<e.duration?e.ease.call(null,s/e.duration):(e.timer.restart(c),e.state=_o,1),d=-1,l=i.length;++d<l;)i[d].call(t,u);e.state===_o&&(e.on.call("end",t,t.__data__,e.index,e.group),c())}function c(){e.state=ui,e.timer.stop(),delete r[n];for(var s in r)return;delete t.__transition}}function hm(t,n){var e=t.__transition,r,i,a=!0,o;if(e){n=n==null?null:n+"";for(o in e){if((r=e[o]).name!==n){a=!1;continue}i=r.state>$o&&r.state<_o,r.state=ui,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[o]}a&&delete t.__transition}}function pm(t){return this.each(function(){hm(this,t)})}function gm(t,n){var e,r;return function(){var i=cn(this,t),a=i.tween;if(a!==e){r=e=a;for(var o=0,f=r.length;o<f;++o)if(r[o].name===n){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function mm(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var a=cn(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var f={name:n,value:e},c=0,s=i.length;c<s;++c)if(i[c].name===n){i[c]=f;break}c===s&&i.push(f)}a.tween=i}}function bm(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=Gt(this.node(),e).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((n==null?gm:mm)(e,t,n))}function bf(t,n,e){var r=t._id;return t.each(function(){var i=cn(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return Gt(i,r).value[n]}}function Hs(t,n){var e;return(typeof n=="number"?wt:n instanceof Zn?Kn:(e=Zn(n))?(n=e,Kn):Fs)(t,n)}function ym(t){return function(){this.removeAttribute(t)}}function wm(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vm(t,n,e){var r,i=e+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=n(r=o,e)}}function xm(t,n,e){var r,i=e+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=n(r=o,e)}}function Mm(t,n,e){var r,i,a;return function(){var o,f=e(this),c;return f==null?void this.removeAttribute(t):(o=this.getAttribute(t),c=f+"",o===c?null:o===r&&c===i?a:(i=c,a=n(r=o,f)))}}function $m(t,n,e){var r,i,a;return function(){var o,f=e(this),c;return f==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),c=f+"",o===c?null:o===r&&c===i?a:(i=c,a=n(r=o,f)))}}function _m(t,n){var e=ji(t),r=e==="transform"?tm:Hs;return this.attrTween(t,typeof n=="function"?(e.local?$m:Mm)(e,r,bf(this,"attr."+t,n)):n==null?(e.local?wm:ym)(e):(e.local?xm:vm)(e,r,n))}function Sm(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function Tm(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function Am(t,n){var e,r;function i(){var a=n.apply(this,arguments);return a!==r&&(e=(r=a)&&Tm(t,a)),e}return i._value=n,i}function Cm(t,n){var e,r;function i(){var a=n.apply(this,arguments);return a!==r&&(e=(r=a)&&Sm(t,a)),e}return i._value=n,i}function Em(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=ji(t);return this.tween(e,(r.local?Am:Cm)(r,n))}function Nm(t,n){return function(){mf(this,t).delay=+n.apply(this,arguments)}}function km(t,n){return n=+n,function(){mf(this,t).delay=n}}function Lm(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?Nm:km)(n,t)):Gt(this.node(),n).delay}function Dm(t,n){return function(){cn(this,t).duration=+n.apply(this,arguments)}}function Im(t,n){return n=+n,function(){cn(this,t).duration=n}}function Fm(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?Dm:Im)(n,t)):Gt(this.node(),n).duration}function Rm(t,n){if(typeof n!="function")throw new Error;return function(){cn(this,t).ease=n}}function Pm(t){var n=this._id;return arguments.length?this.each(Rm(n,t)):Gt(this.node(),n).ease}function Om(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;cn(this,t).ease=e}}function Um(t){if(typeof t!="function")throw new Error;return this.each(Om(this._id,t))}function qm(t){typeof t!="function"&&(t=hs(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,f=r[i]=[],c,s=0;s<o;++s)(c=a[s])&&t.call(c,c.__data__,s,a)&&f.push(c);return new wn(r,this._parents,this._name,this._id)}function zm(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,a=Math.min(r,i),o=new Array(r),f=0;f<a;++f)for(var c=n[f],s=e[f],u=c.length,d=o[f]=new Array(u),l,h=0;h<u;++h)(l=c[h]||s[h])&&(d[h]=l);for(;f<r;++f)o[f]=n[f];return new wn(o,this._parents,this._name,this._id)}function Ym(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function Hm(t,n,e){var r,i,a=Ym(n)?mf:cn;return function(){var o=a(this,t),f=o.on;f!==r&&(i=(r=f).copy()).on(n,e),o.on=i}}function Wm(t,n){var e=this._id;return arguments.length<2?Gt(this.node(),e).on.on(t):this.each(Hm(e,t,n))}function Bm(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function Vm(){return this.on("end.remove",Bm(this._id))}function Xm(t){var n=this._name,e=this._id;typeof t!="function"&&(t=ff(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var f=r[o],c=f.length,s=a[o]=new Array(c),u,d,l=0;l<c;++l)(u=f[l])&&(d=t.call(u,u.__data__,l,f))&&("__data__"in u&&(d.__data__=u.__data__),s[l]=d,na(s[l],n,e,l,s,Gt(u,e)));return new wn(a,this._parents,n,e)}function Gm(t){var n=this._name,e=this._id;typeof t!="function"&&(t=ds(t));for(var r=this._groups,i=r.length,a=[],o=[],f=0;f<i;++f)for(var c=r[f],s=c.length,u,d=0;d<s;++d)if(u=c[d]){for(var l=t.call(u,u.__data__,d,c),h,p=Gt(u,e),g=0,m=l.length;g<m;++g)(h=l[g])&&na(h,n,e,g,l,p);a.push(l),o.push(u)}return new wn(a,o,n,e)}var jm=xr.prototype.constructor;function Zm(){return new jm(this._groups,this._parents)}function Km(t,n){var e,r,i;return function(){var a=xe(this,t),o=(this.style.removeProperty(t),xe(this,t));return a===o?null:a===e&&o===r?i:i=n(e=a,r=o)}}function Ws(t){return function(){this.style.removeProperty(t)}}function Qm(t,n,e){var r,i=e+"",a;return function(){var o=xe(this,t);return o===i?null:o===r?a:a=n(r=o,e)}}function Jm(t,n,e){var r,i,a;return function(){var o=xe(this,t),f=e(this),c=f+"";return f==null&&(c=f=(this.style.removeProperty(t),xe(this,t))),o===c?null:o===r&&c===i?a:(i=c,a=n(r=o,f))}}function tb(t,n){var e,r,i,a="style."+n,o="end."+a,f;return function(){var c=cn(this,t),s=c.on,u=c.value[a]==null?f||(f=Ws(n)):void 0;(s!==e||i!==u)&&(r=(e=s).copy()).on(o,i=u),c.on=r}}function nb(t,n,e){var r=(t+="")=="transform"?Jg:Hs;return n==null?this.styleTween(t,Km(t,r)).on("end.style."+t,Ws(t)):typeof n=="function"?this.styleTween(t,Jm(t,r,bf(this,"style."+t,n))).each(tb(this._id,t)):this.styleTween(t,Qm(t,r,n),e).on("end.style."+t,null)}function eb(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function rb(t,n,e){var r,i;function a(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&eb(t,o,e)),r}return a._value=n,a}function ib(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,rb(t,n,e??""))}function ab(t){return function(){this.textContent=t}}function ob(t){return function(){var n=t(this);this.textContent=n??""}}function fb(t){return this.tween("text",typeof t=="function"?ob(bf(this,"text",t)):ab(t==null?"":t+""))}function cb(t){return function(n){this.textContent=t.call(this,n)}}function ub(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&cb(i)),n}return r._value=t,r}function sb(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,ub(t))}function lb(){for(var t=this._name,n=this._id,e=Bs(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],f=o.length,c,s=0;s<f;++s)if(c=o[s]){var u=Gt(c,n);na(c,t,e,s,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new wn(r,this._parents,t,e)}function db(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(a,o){var f={value:o},c={value:function(){--i===0&&a()}};e.each(function(){var s=cn(this,r),u=s.on;u!==t&&(n=(t=u).copy(),n._.cancel.push(f),n._.interrupt.push(f),n._.end.push(c)),s.on=n}),i===0&&a()})}var hb=0;function wn(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Bs(){return++hb}var sn=xr.prototype;wn.prototype={constructor:wn,select:Xm,selectAll:Gm,selectChild:sn.selectChild,selectChildren:sn.selectChildren,filter:qm,merge:zm,selection:Zm,transition:lb,call:sn.call,nodes:sn.nodes,node:sn.node,size:sn.size,empty:sn.empty,each:sn.each,on:Wm,attr:_m,attrTween:Em,style:nb,styleTween:ib,text:fb,textTween:sb,remove:Vm,tween:bm,delay:Lm,duration:Fm,ease:Pm,easeVarying:Um,end:db,[Symbol.iterator]:sn[Symbol.iterator]};function pb(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var gb={time:null,delay:0,duration:250,ease:pb};function mb(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function bb(t){var n,e;t instanceof wn?(n=t._id,t=t._name):(n=Bs(),(e=gb).time=gf(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],f=o.length,c,s=0;s<f;++s)(c=o[s])&&na(c,t,n,s,o,e||mb(c,n));return new wn(r,this._parents,t,n)}xr.prototype.interrupt=pm;xr.prototype.transition=bb;const So=Math.PI,To=2*So,Pn=1e-6,yb=To-Pn;function Vs(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function wb(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return Vs;const e=10**n;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}class vb{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?Vs:wb(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,r,i){this._append`Q${+n},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(n,e,r,i,a,o){this._append`C${+n},${+e},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(n,e,r,i,a){if(n=+n,e=+e,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,f=this._y1,c=r-n,s=i-e,u=o-n,d=f-e,l=u*u+d*d;if(this._x1===null)this._append`M${this._x1=n},${this._y1=e}`;else if(l>Pn)if(!(Math.abs(d*c-s*u)>Pn)||!a)this._append`L${this._x1=n},${this._y1=e}`;else{let h=r-o,p=i-f,g=c*c+s*s,m=h*h+p*p,v=Math.sqrt(g),b=Math.sqrt(l),M=a*Math.tan((So-Math.acos((g+l-m)/(2*v*b)))/2),y=M/b,x=M/v;Math.abs(y-1)>Pn&&this._append`L${n+y*u},${e+y*d}`,this._append`A${a},${a},0,0,${+(d*h>u*p)},${this._x1=n+x*c},${this._y1=e+x*s}`}}arc(n,e,r,i,a,o){if(n=+n,e=+e,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(i),c=r*Math.sin(i),s=n+f,u=e+c,d=1^o,l=o?i-a:a-i;this._x1===null?this._append`M${s},${u}`:(Math.abs(this._x1-s)>Pn||Math.abs(this._y1-u)>Pn)&&this._append`L${s},${u}`,r&&(l<0&&(l=l%To+To),l>yb?this._append`A${r},${r},0,1,${d},${n-f},${e-c}A${r},${r},0,1,${d},${this._x1=s},${this._y1=u}`:l>Pn&&this._append`A${r},${r},0,${+(l>=So)},${d},${this._x1=n+r*Math.cos(a)},${this._y1=e+r*Math.sin(a)}`)}rect(n,e,r,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function qn(t=3){return new vb(+t)}function xb(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function $i(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function _e(t){return t=$i(Math.abs(t)),t?t[1]:NaN}function Mb(t,n){return function(e,r){for(var i=e.length,a=[],o=0,f=t[0],c=0;i>0&&f>0&&(c+f+1>r&&(f=Math.max(1,r-c)),a.push(e.substring(i-=f,i+f)),!((c+=f+1)>r));)f=t[o=(o+1)%t.length];return a.reverse().join(n)}}function $b(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var _b=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function lr(t){if(!(n=_b.exec(t)))throw new Error("invalid format: "+t);var n;return new yf({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}lr.prototype=yf.prototype;function yf(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}yf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Sb(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Xs;function Tb(t,n){var e=$i(t,n);if(!e)return t+"";var r=e[0],i=e[1],a=i-(Xs=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+$i(t,Math.max(0,n+a-1))[0]}function vc(t,n){var e=$i(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const xc={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:xb,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>vc(t*100,n),r:vc,s:Tb,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Mc(t){return t}var $c=Array.prototype.map,_c=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ab(t){var n=t.grouping===void 0||t.thousands===void 0?Mc:Mb($c.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?Mc:$b($c.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function s(d){d=lr(d);var l=d.fill,h=d.align,p=d.sign,g=d.symbol,m=d.zero,v=d.width,b=d.comma,M=d.precision,y=d.trim,x=d.type;x==="n"?(b=!0,x="g"):xc[x]||(M===void 0&&(M=12),y=!0,x="g"),(m||l==="0"&&h==="=")&&(m=!0,l="0",h="=");var w=g==="$"?e:g==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",$=g==="$"?r:/[%p]/.test(x)?o:"",C=xc[x],T=/[defgprs%]/.test(x);M=M===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function N(_){var L=w,I=$,D,S,F;if(x==="c")I=C(_)+I,_="";else{_=+_;var W=_<0||1/_<0;if(_=isNaN(_)?c:C(Math.abs(_),M),y&&(_=Sb(_)),W&&+_==0&&p!=="+"&&(W=!1),L=(W?p==="("?p:f:p==="-"||p==="("?"":p)+L,I=(x==="s"?_c[8+Xs/3]:"")+I+(W&&p==="("?")":""),T){for(D=-1,S=_.length;++D<S;)if(F=_.charCodeAt(D),48>F||F>57){I=(F===46?i+_.slice(D+1):_.slice(D))+I,_=_.slice(0,D);break}}}b&&!m&&(_=n(_,1/0));var H=L.length+_.length+I.length,k=H<v?new Array(v-H+1).join(l):"";switch(b&&m&&(_=n(k+_,k.length?v-I.length:1/0),k=""),h){case"<":_=L+_+I+k;break;case"=":_=L+k+_+I;break;case"^":_=k.slice(0,H=k.length>>1)+L+_+I+k.slice(H);break;default:_=k+L+_+I;break}return a(_)}return N.toString=function(){return d+""},N}function u(d,l){var h=s((d=lr(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(_e(l)/3)))*3,g=Math.pow(10,-p),m=_c[8+p/3];return function(v){return h(g*v)+m}}return{format:s,formatPrefix:u}}var Vr,Fe,Gs;Cb({thousands:",",grouping:[3],currency:["$",""]});function Cb(t){return Vr=Ab(t),Fe=Vr.format,Gs=Vr.formatPrefix,Vr}function Eb(t){return Math.max(0,-_e(Math.abs(t)))}function Nb(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_e(n)/3)))*3-_e(Math.abs(t)))}function kb(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,_e(n)-_e(t))+1}var j=1e-6,js=1e-12,J=Math.PI,ut=J/2,Sc=J/4,kt=J*2,yt=180/J,ft=J/180,rt=Math.abs,Re=Math.atan,vn=Math.atan2,K=Math.cos,Zs=Math.exp,_i=Math.log,Pa=Math.pow,G=Math.sin,Ft=Math.sign||function(t){return t>0?1:t<0?-1:0},At=Math.sqrt,wf=Math.tan;function Ks(t){return t>1?0:t<-1?J:Math.acos(t)}function Ut(t){return t>1?ut:t<-1?-ut:Math.asin(t)}function Rt(){}function Si(t,n){t&&Ac.hasOwnProperty(t.type)&&Ac[t.type](t,n)}var Tc={Feature:function(t,n){Si(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Si(e[r].geometry,n)}},Ac={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Ao(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Ao(e[r],n,0)},Polygon:function(t,n){Cc(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Cc(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Si(e[r],n)}};function Ao(t,n,e){var r=-1,i=t.length-e,a;for(n.lineStart();++r<i;)a=t[r],n.point(a[0],a[1],a[2]);n.lineEnd()}function Cc(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Ao(t[e],n,1);n.polygonEnd()}function On(t,n){t&&Tc.hasOwnProperty(t.type)?Tc[t.type](t,n):Si(t,n)}function Co(t){return[vn(t[1],t[0]),Ut(t[2])]}function Se(t){var n=t[0],e=t[1],r=K(e);return[r*K(n),r*G(n),G(e)]}function Xr(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Ti(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Oa(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Gr(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Eo(t){var n=At(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function le(t){return function(){return t}}function No(t,n){function e(r,i){return r=t(r,i),n(r[0],r[1])}return t.invert&&n.invert&&(e.invert=function(r,i){return r=n.invert(r,i),r&&t.invert(r[0],r[1])}),e}function ko(t,n){return rt(t)>J&&(t-=Math.round(t/kt)*kt),[t,n]}ko.invert=ko;function vf(t,n,e){return(t%=kt)?n||e?No(Nc(t),kc(n,e)):Nc(t):n||e?kc(n,e):ko}function Ec(t){return function(n,e){return n+=t,rt(n)>J&&(n-=Math.round(n/kt)*kt),[n,e]}}function Nc(t){var n=Ec(t);return n.invert=Ec(-t),n}function kc(t,n){var e=K(t),r=G(t),i=K(n),a=G(n);function o(f,c){var s=K(c),u=K(f)*s,d=G(f)*s,l=G(c),h=l*e+u*r;return[vn(d*i-h*a,u*e-l*r),Ut(h*i+d*a)]}return o.invert=function(f,c){var s=K(c),u=K(f)*s,d=G(f)*s,l=G(c),h=l*i-d*a;return[vn(d*i+l*a,u*e+h*r),Ut(h*e-u*r)]},o}function Lb(t){t=vf(t[0]*ft,t[1]*ft,t.length>2?t[2]*ft:0);function n(e){return e=t(e[0]*ft,e[1]*ft),e[0]*=yt,e[1]*=yt,e}return n.invert=function(e){return e=t.invert(e[0]*ft,e[1]*ft),e[0]*=yt,e[1]*=yt,e},n}function Qs(t,n,e,r,i,a){if(e){var o=K(n),f=G(n),c=r*e;i==null?(i=n+r*kt,a=n-c/2):(i=Lc(o,i),a=Lc(o,a),(r>0?i<a:i>a)&&(i+=r*kt));for(var s,u=i;r>0?u>a:u<a;u-=c)s=Co([o,-f*K(u),-f*G(u)]),t.point(s[0],s[1])}}function Lc(t,n){n=Se(n),n[0]-=t,Eo(n);var e=Ks(-n[1]);return((-n[2]<0?-e:e)+kt-j)%kt}function Db(){var t=le([0,0]),n=le(90),e=le(6),r,i,a={point:o};function o(c,s){r.push(c=i(c,s)),c[0]*=yt,c[1]*=yt}function f(){var c=t.apply(this,arguments),s=n.apply(this,arguments)*ft,u=e.apply(this,arguments)*ft;return r=[],i=vf(-c[0]*ft,-c[1]*ft,0).invert,Qs(a,s,u,1),c={type:"Polygon",coordinates:[r]},r=i=null,c}return f.center=function(c){return arguments.length?(t=typeof c=="function"?c:le([+c[0],+c[1]]),f):t},f.radius=function(c){return arguments.length?(n=typeof c=="function"?c:le(+c),f):n},f.precision=function(c){return arguments.length?(e=typeof c=="function"?c:le(+c),f):e},f}function Js(){var t=[],n;return{point:function(e,r,i){n.push([e,r,i])},lineStart:function(){t.push(n=[])},lineEnd:Rt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function si(t,n){return rt(t[0]-n[0])<j&&rt(t[1]-n[1])<j}function jr(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function tl(t,n,e,r,i){var a=[],o=[],f,c;if(t.forEach(function(p){if(!((g=p.length-1)<=0)){var g,m=p[0],v=p[g],b;if(si(m,v)){if(!m[2]&&!v[2]){for(i.lineStart(),f=0;f<g;++f)i.point((m=p[f])[0],m[1]);i.lineEnd();return}v[0]+=2*j}a.push(b=new jr(m,p,null,!0)),o.push(b.o=new jr(m,null,b,!1)),a.push(b=new jr(v,p,null,!1)),o.push(b.o=new jr(v,null,b,!0))}}),!!a.length){for(o.sort(n),Dc(a),Dc(o),f=0,c=o.length;f<c;++f)o[f].e=e=!e;for(var s=a[0],u,d;;){for(var l=s,h=!0;l.v;)if((l=l.n)===s)return;u=l.z,i.lineStart();do{if(l.v=l.o.v=!0,l.e){if(h)for(f=0,c=u.length;f<c;++f)i.point((d=u[f])[0],d[1]);else r(l.x,l.n.x,1,i);l=l.n}else{if(h)for(u=l.p.z,f=u.length-1;f>=0;--f)i.point((d=u[f])[0],d[1]);else r(l.x,l.p.x,-1,i);l=l.p}l=l.o,u=l.z,h=!h}while(!l.v);i.lineEnd()}}}function Dc(t){if(n=t.length){for(var n,e=0,r=t[0],i;++e<n;)r.n=i=t[e],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Ua(t){return rt(t[0])<=J?t[0]:Ft(t[0])*((rt(t[0])+J)%kt-J)}function Ib(t,n){var e=Ua(n),r=n[1],i=G(r),a=[G(e),-K(e),0],o=0,f=0,c=new Gn;i===1?r=ut+j:i===-1&&(r=-ut-j);for(var s=0,u=t.length;s<u;++s)if(l=(d=t[s]).length)for(var d,l,h=d[l-1],p=Ua(h),g=h[1]/2+Sc,m=G(g),v=K(g),b=0;b<l;++b,p=y,m=w,v=$,h=M){var M=d[b],y=Ua(M),x=M[1]/2+Sc,w=G(x),$=K(x),C=y-p,T=C>=0?1:-1,N=T*C,_=N>J,L=m*w;if(c.add(vn(L*T*G(N),v*$+L*K(N))),o+=_?C+T*kt:C,_^p>=e^y>=e){var I=Ti(Se(h),Se(M));Eo(I);var D=Ti(a,I);Eo(D);var S=(_^C>=0?-1:1)*Ut(D[2]);(r>S||r===S&&(I[0]||I[1]))&&(f+=_^C>=0?1:-1)}}return(o<-j||o<j&&c<-js)^f&1}function nl(t,n,e,r){return function(i){var a=n(i),o=Js(),f=n(o),c=!1,s,u,d,l={point:h,lineStart:g,lineEnd:m,polygonStart:function(){l.point=v,l.lineStart=b,l.lineEnd=M,u=[],s=[]},polygonEnd:function(){l.point=h,l.lineStart=g,l.lineEnd=m,u=ss(u);var y=Ib(s,r);u.length?(c||(i.polygonStart(),c=!0),tl(u,Rb,y,e,i)):y&&(c||(i.polygonStart(),c=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),u=s=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(y,x){t(y,x)&&i.point(y,x)}function p(y,x){a.point(y,x)}function g(){l.point=p,a.lineStart()}function m(){l.point=h,a.lineEnd()}function v(y,x){d.push([y,x]),f.point(y,x)}function b(){f.lineStart(),d=[]}function M(){v(d[0][0],d[0][1]),f.lineEnd();var y=f.clean(),x=o.result(),w,$=x.length,C,T,N;if(d.pop(),s.push(d),d=null,!!$){if(y&1){if(T=x[0],(C=T.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),w=0;w<C;++w)i.point((N=T[w])[0],N[1]);i.lineEnd()}return}$>1&&y&2&&x.push(x.pop().concat(x.shift())),u.push(x.filter(Fb))}}return l}}function Fb(t){return t.length>1}function Rb(t,n){return((t=t.x)[0]<0?t[1]-ut-j:ut-t[1])-((n=n.x)[0]<0?n[1]-ut-j:ut-n[1])}const Ic=nl(function(){return!0},Pb,Ub,[-J,-ut]);function Pb(t){var n=NaN,e=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,o){var f=a>0?J:-J,c=rt(a-n);rt(c-J)<j?(t.point(n,e=(e+o)/2>0?ut:-ut),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(f,e),t.point(a,e),i=0):r!==f&&c>=J&&(rt(n-r)<j&&(n-=r*j),rt(a-f)<j&&(a-=f*j),e=Ob(n,e,a,o),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(f,e),i=0),t.point(n=a,e=o),r=f},lineEnd:function(){t.lineEnd(),n=e=NaN},clean:function(){return 2-i}}}function Ob(t,n,e,r){var i,a,o=G(t-e);return rt(o)>j?Re((G(n)*(a=K(r))*G(e)-G(r)*(i=K(n))*G(t))/(i*a*o)):(n+r)/2}function Ub(t,n,e,r){var i;if(t==null)i=e*ut,r.point(-J,i),r.point(0,i),r.point(J,i),r.point(J,0),r.point(J,-i),r.point(0,-i),r.point(-J,-i),r.point(-J,0),r.point(-J,i);else if(rt(t[0]-n[0])>j){var a=t[0]<n[0]?J:-J;i=e*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(n[0],n[1])}function qb(t){var n=K(t),e=6*ft,r=n>0,i=rt(n)>j;function a(u,d,l,h){Qs(h,t,e,l,u,d)}function o(u,d){return K(u)*K(d)>n}function f(u){var d,l,h,p,g;return{lineStart:function(){p=h=!1,g=1},point:function(m,v){var b=[m,v],M,y=o(m,v),x=r?y?0:s(m,v):y?s(m+(m<0?J:-J),v):0;if(!d&&(p=h=y)&&u.lineStart(),y!==h&&(M=c(d,b),(!M||si(d,M)||si(b,M))&&(b[2]=1)),y!==h)g=0,y?(u.lineStart(),M=c(b,d),u.point(M[0],M[1])):(M=c(d,b),u.point(M[0],M[1],2),u.lineEnd()),d=M;else if(i&&d&&r^y){var w;!(x&l)&&(w=c(b,d,!0))&&(g=0,r?(u.lineStart(),u.point(w[0][0],w[0][1]),u.point(w[1][0],w[1][1]),u.lineEnd()):(u.point(w[1][0],w[1][1]),u.lineEnd(),u.lineStart(),u.point(w[0][0],w[0][1],3)))}y&&(!d||!si(d,b))&&u.point(b[0],b[1]),d=b,h=y,l=x},lineEnd:function(){h&&u.lineEnd(),d=null},clean:function(){return g|(p&&h)<<1}}}function c(u,d,l){var h=Se(u),p=Se(d),g=[1,0,0],m=Ti(h,p),v=Xr(m,m),b=m[0],M=v-b*b;if(!M)return!l&&u;var y=n*v/M,x=-n*b/M,w=Ti(g,m),$=Gr(g,y),C=Gr(m,x);Oa($,C);var T=w,N=Xr($,T),_=Xr(T,T),L=N*N-_*(Xr($,$)-1);if(!(L<0)){var I=At(L),D=Gr(T,(-N-I)/_);if(Oa(D,$),D=Co(D),!l)return D;var S=u[0],F=d[0],W=u[1],H=d[1],k;F<S&&(k=S,S=F,F=k);var U=F-S,q=rt(U-J)<j,R=q||U<j;if(!q&&H<W&&(k=W,W=H,H=k),R?q?W+H>0^D[1]<(rt(D[0]-S)<j?W:H):W<=D[1]&&D[1]<=H:U>J^(S<=D[0]&&D[0]<=F)){var Y=Gr(T,(-N+I)/_);return Oa(Y,$),[D,Co(Y)]}}}function s(u,d){var l=r?t:J-t,h=0;return u<-l?h|=1:u>l&&(h|=2),d<-l?h|=4:d>l&&(h|=8),h}return nl(o,f,a,r?[0,-t]:[-J,t-J])}function zb(t,n,e,r,i,a){var o=t[0],f=t[1],c=n[0],s=n[1],u=0,d=1,l=c-o,h=s-f,p;if(p=e-o,!(!l&&p>0)){if(p/=l,l<0){if(p<u)return;p<d&&(d=p)}else if(l>0){if(p>d)return;p>u&&(u=p)}if(p=i-o,!(!l&&p<0)){if(p/=l,l<0){if(p>d)return;p>u&&(u=p)}else if(l>0){if(p<u)return;p<d&&(d=p)}if(p=r-f,!(!h&&p>0)){if(p/=h,h<0){if(p<u)return;p<d&&(d=p)}else if(h>0){if(p>d)return;p>u&&(u=p)}if(p=a-f,!(!h&&p<0)){if(p/=h,h<0){if(p>d)return;p>u&&(u=p)}else if(h>0){if(p<u)return;p<d&&(d=p)}return u>0&&(t[0]=o+u*l,t[1]=f+u*h),d<1&&(n[0]=o+d*l,n[1]=f+d*h),!0}}}}}var je=1e9,Zr=-je;function el(t,n,e,r){function i(s,u){return t<=s&&s<=e&&n<=u&&u<=r}function a(s,u,d,l){var h=0,p=0;if(s==null||(h=o(s,d))!==(p=o(u,d))||c(s,u)<0^d>0)do l.point(h===0||h===3?t:e,h>1?r:n);while((h=(h+d+4)%4)!==p);else l.point(u[0],u[1])}function o(s,u){return rt(s[0]-t)<j?u>0?0:3:rt(s[0]-e)<j?u>0?2:1:rt(s[1]-n)<j?u>0?1:0:u>0?3:2}function f(s,u){return c(s.x,u.x)}function c(s,u){var d=o(s,1),l=o(u,1);return d!==l?d-l:d===0?u[1]-s[1]:d===1?s[0]-u[0]:d===2?s[1]-u[1]:u[0]-s[0]}return function(s){var u=s,d=Js(),l,h,p,g,m,v,b,M,y,x,w,$={point:C,lineStart:L,lineEnd:I,polygonStart:N,polygonEnd:_};function C(S,F){i(S,F)&&u.point(S,F)}function T(){for(var S=0,F=0,W=h.length;F<W;++F)for(var H=h[F],k=1,U=H.length,q=H[0],R,Y,Q=q[0],B=q[1];k<U;++k)R=Q,Y=B,q=H[k],Q=q[0],B=q[1],Y<=r?B>r&&(Q-R)*(r-Y)>(B-Y)*(t-R)&&++S:B<=r&&(Q-R)*(r-Y)<(B-Y)*(t-R)&&--S;return S}function N(){u=d,l=[],h=[],w=!0}function _(){var S=T(),F=w&&S,W=(l=ss(l)).length;(F||W)&&(s.polygonStart(),F&&(s.lineStart(),a(null,null,1,s),s.lineEnd()),W&&tl(l,f,S,a,s),s.polygonEnd()),u=s,l=h=p=null}function L(){$.point=D,h&&h.push(p=[]),x=!0,y=!1,b=M=NaN}function I(){l&&(D(g,m),v&&y&&d.rejoin(),l.push(d.result())),$.point=C,y&&u.lineEnd()}function D(S,F){var W=i(S,F);if(h&&p.push([S,F]),x)g=S,m=F,v=W,x=!1,W&&(u.lineStart(),u.point(S,F));else if(W&&y)u.point(S,F);else{var H=[b=Math.max(Zr,Math.min(je,b)),M=Math.max(Zr,Math.min(je,M))],k=[S=Math.max(Zr,Math.min(je,S)),F=Math.max(Zr,Math.min(je,F))];zb(H,k,t,n,e,r)?(y||(u.lineStart(),u.point(H[0],H[1])),u.point(k[0],k[1]),W||u.lineEnd(),w=!1):W&&(u.lineStart(),u.point(S,F),w=!1)}b=S,M=F,y=W}return $}}const Lo=t=>t;var qa=new Gn,Do=new Gn,rl,il,Io,Fo,En={point:Rt,lineStart:Rt,lineEnd:Rt,polygonStart:function(){En.lineStart=Yb,En.lineEnd=Wb},polygonEnd:function(){En.lineStart=En.lineEnd=En.point=Rt,qa.add(rt(Do)),Do=new Gn},result:function(){var t=qa/2;return qa=new Gn,t}};function Yb(){En.point=Hb}function Hb(t,n){En.point=al,rl=Io=t,il=Fo=n}function al(t,n){Do.add(Fo*t-Io*n),Io=t,Fo=n}function Wb(){al(rl,il)}const Fc=En;var Te=1/0,Ai=Te,dr=-Te,Ci=dr,Bb={point:Vb,lineStart:Rt,lineEnd:Rt,polygonStart:Rt,polygonEnd:Rt,result:function(){var t=[[Te,Ai],[dr,Ci]];return dr=Ci=-(Ai=Te=1/0),t}};function Vb(t,n){t<Te&&(Te=t),t>dr&&(dr=t),n<Ai&&(Ai=n),n>Ci&&(Ci=n)}const Ei=Bb;var Ro=0,Po=0,Ze=0,Ni=0,ki=0,ge=0,Oo=0,Uo=0,Ke=0,ol,fl,Kt,Qt,Wt={point:Jn,lineStart:Rc,lineEnd:Pc,polygonStart:function(){Wt.lineStart=jb,Wt.lineEnd=Zb},polygonEnd:function(){Wt.point=Jn,Wt.lineStart=Rc,Wt.lineEnd=Pc},result:function(){var t=Ke?[Oo/Ke,Uo/Ke]:ge?[Ni/ge,ki/ge]:Ze?[Ro/Ze,Po/Ze]:[NaN,NaN];return Ro=Po=Ze=Ni=ki=ge=Oo=Uo=Ke=0,t}};function Jn(t,n){Ro+=t,Po+=n,++Ze}function Rc(){Wt.point=Xb}function Xb(t,n){Wt.point=Gb,Jn(Kt=t,Qt=n)}function Gb(t,n){var e=t-Kt,r=n-Qt,i=At(e*e+r*r);Ni+=i*(Kt+t)/2,ki+=i*(Qt+n)/2,ge+=i,Jn(Kt=t,Qt=n)}function Pc(){Wt.point=Jn}function jb(){Wt.point=Kb}function Zb(){cl(ol,fl)}function Kb(t,n){Wt.point=cl,Jn(ol=Kt=t,fl=Qt=n)}function cl(t,n){var e=t-Kt,r=n-Qt,i=At(e*e+r*r);Ni+=i*(Kt+t)/2,ki+=i*(Qt+n)/2,ge+=i,i=Qt*t-Kt*n,Oo+=i*(Kt+t),Uo+=i*(Qt+n),Ke+=i*3,Jn(Kt=t,Qt=n)}const Oc=Wt;function ul(t){this._context=t}ul.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,kt);break}}},result:Rt};var qo=new Gn,za,sl,ll,Qe,Je,Li={point:Rt,lineStart:function(){Li.point=Qb},lineEnd:function(){za&&dl(sl,ll),Li.point=Rt},polygonStart:function(){za=!0},polygonEnd:function(){za=null},result:function(){var t=+qo;return qo=new Gn,t}};function Qb(t,n){Li.point=dl,sl=Qe=t,ll=Je=n}function dl(t,n){Qe-=t,Je-=n,qo.add(At(Qe*Qe+Je*Je)),Qe=t,Je=n}const Uc=Li;let qc,Di,zc,Yc;class Hc{constructor(n){this._append=n==null?hl:Jb(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,e){switch(this._point){case 0:{this._append`M${n},${e}`,this._point=1;break}case 1:{this._append`L${n},${e}`;break}default:{if(this._append`M${n},${e}`,this._radius!==zc||this._append!==Di){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,zc=r,Di=this._append,Yc=this._,this._=i}this._+=Yc;break}}}result(){const n=this._;return this._="",n.length?n:null}}function hl(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function Jb(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return hl;if(n!==qc){const e=10**n;qc=n,Di=function(i){let a=1;this._+=i[0];for(const o=i.length;a<o;++a)this._+=Math.round(arguments[a]*e)/e+i[a]}}return Di}function ea(t,n){let e=3,r=4.5,i,a;function o(f){return f&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),On(f,i(a))),a.result()}return o.area=function(f){return On(f,i(Fc)),Fc.result()},o.measure=function(f){return On(f,i(Uc)),Uc.result()},o.bounds=function(f){return On(f,i(Ei)),Ei.result()},o.centroid=function(f){return On(f,i(Oc)),Oc.result()},o.projection=function(f){return arguments.length?(i=f==null?(t=null,Lo):(t=f).stream,o):t},o.context=function(f){return arguments.length?(a=f==null?(n=null,new Hc(e)):new ul(n=f),typeof r!="function"&&a.pointRadius(r),o):n},o.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(a.pointRadius(+f),+f),o):r},o.digits=function(f){if(!arguments.length)return e;if(f==null)e=null;else{const c=Math.floor(f);if(!(c>=0))throw new RangeError(`invalid digits: ${f}`);e=c}return n===null&&(a=new Hc(e)),o},o.projection(t).digits(e).context(n)}function Ii(t){return{stream:ra(t)}}function ra(t){return function(n){var e=new zo;for(var r in t)e[r]=t[r];return e.stream=n,e}}function zo(){}zo.prototype={constructor:zo,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function xf(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),On(e,t.stream(Ei)),n(Ei.result()),r!=null&&t.clipExtent(r),t}function Mf(t,n,e){return xf(t,function(r){var i=n[1][0]-n[0][0],a=n[1][1]-n[0][1],o=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),f=+n[0][0]+(i-o*(r[1][0]+r[0][0]))/2,c=+n[0][1]+(a-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([f,c])},e)}function pl(t,n,e){return Mf(t,[[0,0],n],e)}function gl(t,n,e){return xf(t,function(r){var i=+n,a=i/(r[1][0]-r[0][0]),o=(i-a*(r[1][0]+r[0][0]))/2,f=-a*r[0][1];t.scale(150*a).translate([o,f])},e)}function ml(t,n,e){return xf(t,function(r){var i=+n,a=i/(r[1][1]-r[0][1]),o=-a*r[0][0],f=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([o,f])},e)}var Wc=16,t2=K(30*ft);function Bc(t,n){return+n?e2(t,n):n2(t)}function n2(t){return ra({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function e2(t,n){function e(r,i,a,o,f,c,s,u,d,l,h,p,g,m){var v=s-r,b=u-i,M=v*v+b*b;if(M>4*n&&g--){var y=o+l,x=f+h,w=c+p,$=At(y*y+x*x+w*w),C=Ut(w/=$),T=rt(rt(w)-1)<j||rt(a-d)<j?(a+d)/2:vn(x,y),N=t(T,C),_=N[0],L=N[1],I=_-r,D=L-i,S=b*I-v*D;(S*S/M>n||rt((v*I+b*D)/M-.5)>.3||o*l+f*h+c*p<t2)&&(e(r,i,a,o,f,c,_,L,T,y/=$,x/=$,w,g,m),m.point(_,L),e(_,L,T,y,x,w,s,u,d,l,h,p,g,m))}}return function(r){var i,a,o,f,c,s,u,d,l,h,p,g,m={point:v,lineStart:b,lineEnd:y,polygonStart:function(){r.polygonStart(),m.lineStart=x},polygonEnd:function(){r.polygonEnd(),m.lineStart=b}};function v(C,T){C=t(C,T),r.point(C[0],C[1])}function b(){d=NaN,m.point=M,r.lineStart()}function M(C,T){var N=Se([C,T]),_=t(C,T);e(d,l,u,h,p,g,d=_[0],l=_[1],u=C,h=N[0],p=N[1],g=N[2],Wc,r),r.point(d,l)}function y(){m.point=v,r.lineEnd()}function x(){b(),m.point=w,m.lineEnd=$}function w(C,T){M(i=C,T),a=d,o=l,f=h,c=p,s=g,m.point=M}function $(){e(d,l,u,h,p,g,a,o,i,f,c,s,Wc,r),m.lineEnd=y,y()}return m}}var r2=ra({point:function(t,n){this.stream.point(t*ft,n*ft)}});function i2(t){return ra({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}function a2(t,n,e,r,i){function a(o,f){return o*=r,f*=i,[n+t*o,e-t*f]}return a.invert=function(o,f){return[(o-n)/t*r,(e-f)/t*i]},a}function Vc(t,n,e,r,i,a){if(!a)return a2(t,n,e,r,i);var o=K(a),f=G(a),c=o*t,s=f*t,u=o/t,d=f/t,l=(f*e-o*n)/t,h=(f*n+o*e)/t;function p(g,m){return g*=r,m*=i,[c*g-s*m+n,e-s*g-c*m]}return p.invert=function(g,m){return[r*(u*g-d*m+l),i*(h-d*g-u*m)]},p}function Dn(t){return bl(function(){return t})()}function bl(t){var n,e=150,r=480,i=250,a=0,o=0,f=0,c=0,s=0,u,d=0,l=1,h=1,p=null,g=Ic,m=null,v,b,M,y=Lo,x=.5,w,$,C,T,N;function _(S){return C(S[0]*ft,S[1]*ft)}function L(S){return S=C.invert(S[0],S[1]),S&&[S[0]*yt,S[1]*yt]}_.stream=function(S){return T&&N===S?T:T=r2(i2(u)(g(w(y(N=S)))))},_.preclip=function(S){return arguments.length?(g=S,p=void 0,D()):g},_.postclip=function(S){return arguments.length?(y=S,m=v=b=M=null,D()):y},_.clipAngle=function(S){return arguments.length?(g=+S?qb(p=S*ft):(p=null,Ic),D()):p*yt},_.clipExtent=function(S){return arguments.length?(y=S==null?(m=v=b=M=null,Lo):el(m=+S[0][0],v=+S[0][1],b=+S[1][0],M=+S[1][1]),D()):m==null?null:[[m,v],[b,M]]},_.scale=function(S){return arguments.length?(e=+S,I()):e},_.translate=function(S){return arguments.length?(r=+S[0],i=+S[1],I()):[r,i]},_.center=function(S){return arguments.length?(a=S[0]%360*ft,o=S[1]%360*ft,I()):[a*yt,o*yt]},_.rotate=function(S){return arguments.length?(f=S[0]%360*ft,c=S[1]%360*ft,s=S.length>2?S[2]%360*ft:0,I()):[f*yt,c*yt,s*yt]},_.angle=function(S){return arguments.length?(d=S%360*ft,I()):d*yt},_.reflectX=function(S){return arguments.length?(l=S?-1:1,I()):l<0},_.reflectY=function(S){return arguments.length?(h=S?-1:1,I()):h<0},_.precision=function(S){return arguments.length?(w=Bc($,x=S*S),D()):At(x)},_.fitExtent=function(S,F){return Mf(_,S,F)},_.fitSize=function(S,F){return pl(_,S,F)},_.fitWidth=function(S,F){return gl(_,S,F)},_.fitHeight=function(S,F){return ml(_,S,F)};function I(){var S=Vc(e,0,0,l,h,d).apply(null,n(a,o)),F=Vc(e,r-S[0],i-S[1],l,h,d);return u=vf(f,c,s),$=No(n,F),C=No(u,$),w=Bc($,x),D()}function D(){return T=N=null,_}return function(){return n=t.apply(this,arguments),_.invert=n.invert&&L,I()}}function $f(t){var n=0,e=J/3,r=bl(t),i=r(n,e);return i.parallels=function(a){return arguments.length?r(n=a[0]*ft,e=a[1]*ft):[n*yt,e*yt]},i}function o2(t){var n=K(t);function e(r,i){return[r*n,G(i)/n]}return e.invert=function(r,i){return[r/n,Ut(i*n)]},e}function f2(t,n){var e=G(t),r=(e+G(n))/2;if(rt(r)<j)return o2(t);var i=1+e*(2*r-e),a=At(i)/r;function o(f,c){var s=At(i-2*r*G(c))/r;return[s*G(f*=r),a-s*K(f)]}return o.invert=function(f,c){var s=a-c,u=vn(f,rt(s))*Ft(s);return s*r<0&&(u-=J*Ft(f)*Ft(s)),[u/r,Ut((i-(f*f+s*s)*r*r)/(2*r))]},o}function Fi(){return $f(f2).scale(155.424).center([0,33.6442])}function yl(){return Fi().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function c2(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}function u2(){var t,n,e=yl(),r,i=Fi().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=Fi().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,c,s={point:function(l,h){c=[l,h]}};function u(l){var h=l[0],p=l[1];return c=null,r.point(h,p),c||(a.point(h,p),c)||(f.point(h,p),c)}u.invert=function(l){var h=e.scale(),p=e.translate(),g=(l[0]-p[0])/h,m=(l[1]-p[1])/h;return(m>=.12&&m<.234&&g>=-.425&&g<-.214?i:m>=.166&&m<.234&&g>=-.214&&g<-.115?o:e).invert(l)},u.stream=function(l){return t&&n===l?t:t=c2([e.stream(n=l),i.stream(l),o.stream(l)])},u.precision=function(l){return arguments.length?(e.precision(l),i.precision(l),o.precision(l),d()):e.precision()},u.scale=function(l){return arguments.length?(e.scale(l),i.scale(l*.35),o.scale(l),u.translate(e.translate())):e.scale()},u.translate=function(l){if(!arguments.length)return e.translate();var h=e.scale(),p=+l[0],g=+l[1];return r=e.translate(l).clipExtent([[p-.455*h,g-.238*h],[p+.455*h,g+.238*h]]).stream(s),a=i.translate([p-.307*h,g+.201*h]).clipExtent([[p-.425*h+j,g+.12*h+j],[p-.214*h-j,g+.234*h-j]]).stream(s),f=o.translate([p-.205*h,g+.212*h]).clipExtent([[p-.214*h+j,g+.166*h+j],[p-.115*h-j,g+.234*h-j]]).stream(s),d()},u.fitExtent=function(l,h){return Mf(u,l,h)},u.fitSize=function(l,h){return pl(u,l,h)},u.fitWidth=function(l,h){return gl(u,l,h)},u.fitHeight=function(l,h){return ml(u,l,h)};function d(){return t=n=null,u}return u.scale(1070)}function wl(t){return function(n,e){var r=K(n),i=K(e),a=t(r*i);return a===1/0?[2,0]:[a*i*G(n),a*G(e)]}}function _r(t){return function(n,e){var r=At(n*n+e*e),i=t(r),a=G(i),o=K(i);return[vn(n*a,r*o),Ut(r&&e*a/r)]}}var vl=wl(function(t){return At(2/(1+t))});vl.invert=_r(function(t){return 2*Ut(t/2)});function s2(){return Dn(vl).scale(124.75).clipAngle(180-.001)}var xl=wl(function(t){return(t=Ks(t))&&t/G(t)});xl.invert=_r(function(t){return t});function l2(){return Dn(xl).scale(79.4188).clipAngle(180-.001)}function ia(t,n){return[t,_i(wf((ut+n)/2))]}ia.invert=function(t,n){return[t,2*Re(Zs(n))-ut]};function d2(){return Ml(ia).scale(961/kt)}function Ml(t){var n=Dn(t),e=n.center,r=n.scale,i=n.translate,a=n.clipExtent,o=null,f,c,s;n.scale=function(d){return arguments.length?(r(d),u()):r()},n.translate=function(d){return arguments.length?(i(d),u()):i()},n.center=function(d){return arguments.length?(e(d),u()):e()},n.clipExtent=function(d){return arguments.length?(d==null?o=f=c=s=null:(o=+d[0][0],f=+d[0][1],c=+d[1][0],s=+d[1][1]),u()):o==null?null:[[o,f],[c,s]]};function u(){var d=J*r(),l=n(Lb(n.rotate()).invert([0,0]));return a(o==null?[[l[0]-d,l[1]-d],[l[0]+d,l[1]+d]]:t===ia?[[Math.max(l[0]-d,o),f],[Math.min(l[0]+d,c),s]]:[[o,Math.max(l[1]-d,f)],[c,Math.min(l[1]+d,s)]])}return u()}function Kr(t){return wf((ut+t)/2)}function h2(t,n){var e=K(t),r=t===n?G(t):_i(e/K(n))/_i(Kr(n)/Kr(t)),i=e*Pa(Kr(t),r)/r;if(!r)return ia;function a(o,f){i>0?f<-ut+j&&(f=-ut+j):f>ut-j&&(f=ut-j);var c=i/Pa(Kr(f),r);return[c*G(r*o),i-c*K(r*o)]}return a.invert=function(o,f){var c=i-f,s=Ft(r)*At(o*o+c*c),u=vn(o,rt(c))*Ft(c);return c*r<0&&(u-=J*Ft(o)*Ft(c)),[u/r,2*Re(Pa(i/s,1/r))-ut]},a}function p2(){return $f(h2).scale(109.5).parallels([30,30])}function Ri(t,n){return[t,n]}Ri.invert=Ri;function g2(){return Dn(Ri).scale(152.63)}function m2(t,n){var e=K(t),r=t===n?G(t):(e-K(n))/(n-t),i=e/r+t;if(rt(r)<j)return Ri;function a(o,f){var c=i-f,s=r*o;return[c*G(s),i-c*K(s)]}return a.invert=function(o,f){var c=i-f,s=vn(o,rt(c))*Ft(c);return c*r<0&&(s-=J*Ft(o)*Ft(c)),[s/r,i-Ft(r)*At(o*o+c*c)]},a}function b2(){return $f(m2).scale(131.154).center([0,13.9389])}var er=1.340264,rr=-.081106,ir=893e-6,ar=.003796,Pi=At(3)/2,y2=12;function $l(t,n){var e=Ut(Pi*G(n)),r=e*e,i=r*r*r;return[t*K(e)/(Pi*(er+3*rr*r+i*(7*ir+9*ar*r))),e*(er+rr*r+i*(ir+ar*r))]}$l.invert=function(t,n){for(var e=n,r=e*e,i=r*r*r,a=0,o,f,c;a<y2&&(f=e*(er+rr*r+i*(ir+ar*r))-n,c=er+3*rr*r+i*(7*ir+9*ar*r),e-=o=f/c,r=e*e,i=r*r*r,!(rt(o)<js));++a);return[Pi*t*(er+3*rr*r+i*(7*ir+9*ar*r))/K(e),Ut(G(e)/Pi)]};function w2(){return Dn($l).scale(177.158)}function _l(t,n){var e=K(n),r=K(t)*e;return[e*G(t)/r,G(n)/r]}_l.invert=_r(Re);function v2(){return Dn(_l).scale(144.049).clipAngle(60)}function Sl(t,n){return[K(n)*G(t),G(n)]}Sl.invert=_r(Ut);function x2(){return Dn(Sl).scale(249.5).clipAngle(90+j)}function Tl(t,n){var e=K(n),r=1+K(t)*e;return[e*G(t)/r,G(n)/r]}Tl.invert=_r(function(t){return 2*Re(t)});function M2(){return Dn(Tl).scale(250).clipAngle(142)}function Al(t,n){return[_i(wf((ut+n)/2)),-t]}Al.invert=function(t,n){return[-n,2*Re(Zs(t))-ut]};function $2(){var t=Ml(Al),n=t.center,e=t.rotate;return t.center=function(r){return arguments.length?n([-r[1],r[0]]):(r=n(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?e([r[0],r[1],r.length>2?r[2]+90:90]):(r=e(),[r[0],r[1],r[2]-90])},e([0,0,90]).scale(159.155)}function un(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function aa(t,n){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof n=="function"?this.interpolator(n):this.range(n);break}}return this}const Yo=Symbol("implicit");function _f(){var t=new or,n=[],e=[],r=Yo;function i(a){let o=t.get(a);if(o===void 0){if(r!==Yo)return r;t.set(a,o=n.push(a)-1)}return e[o%e.length]}return i.domain=function(a){if(!arguments.length)return n.slice();n=[],t=new or;for(const o of a)t.has(o)||t.set(o,n.push(o)-1);return i},i.range=function(a){return arguments.length?(e=Array.from(a),i):e.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return _f(n,e).unknown(r)},un.apply(i,arguments),i}function oa(){var t=_f().unknown(void 0),n=t.domain,e=t.range,r=0,i=1,a,o,f=!1,c=0,s=0,u=.5;delete t.unknown;function d(){var l=n().length,h=i<r,p=h?i:r,g=h?r:i;a=(g-p)/Math.max(1,l-c+s*2),f&&(a=Math.floor(a)),p+=(g-p-a*(l-c))*u,o=a*(1-c),f&&(p=Math.round(p),o=Math.round(o));var m=po(l).map(function(v){return p+a*v});return e(h?m.reverse():m)}return t.domain=function(l){return arguments.length?(n(l),d()):n()},t.range=function(l){return arguments.length?([r,i]=l,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(l){return[r,i]=l,r=+r,i=+i,f=!0,d()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(l){return arguments.length?(f=!!l,d()):f},t.padding=function(l){return arguments.length?(c=Math.min(1,s=+l),d()):c},t.paddingInner=function(l){return arguments.length?(c=Math.min(1,l),d()):c},t.paddingOuter=function(l){return arguments.length?(s=+l,d()):s},t.align=function(l){return arguments.length?(u=Math.max(0,Math.min(1,l)),d()):u},t.copy=function(){return oa(n(),[r,i]).round(f).paddingInner(c).paddingOuter(s).align(u)},un.apply(d(),arguments)}function Cl(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Cl(n())},t}function _2(){return Cl(oa.apply(null,arguments).paddingInner(1))}function S2(t){return function(){return t}}function Ho(t){return+t}var Xc=[0,1];function Pt(t){return t}function Wo(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:S2(isNaN(n)?NaN:.5)}function T2(t,n){var e;return t>n&&(e=t,t=n,n=e),function(r){return Math.max(t,Math.min(n,r))}}function A2(t,n,e){var r=t[0],i=t[1],a=n[0],o=n[1];return i<r?(r=Wo(i,r),a=e(o,a)):(r=Wo(r,i),a=e(a,o)),function(f){return a(r(f))}}function C2(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++o<r;)i[o]=Wo(t[o],t[o+1]),a[o]=e(n[o],n[o+1]);return function(f){var c=af(t,f,1,r)-1;return a[c](i[c](f))}}function Sr(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function fa(){var t=Xc,n=Xc,e=$r,r,i,a,o=Pt,f,c,s;function u(){var l=Math.min(t.length,n.length);return o!==Pt&&(o=T2(t[0],t[l-1])),f=l>2?C2:A2,c=s=null,d}function d(l){return l==null||isNaN(l=+l)?a:(c||(c=f(t.map(r),n,e)))(r(o(l)))}return d.invert=function(l){return o(i((s||(s=f(n,t.map(r),wt)))(l)))},d.domain=function(l){return arguments.length?(t=Array.from(l,Ho),u()):t.slice()},d.range=function(l){return arguments.length?(n=Array.from(l),u()):n.slice()},d.rangeRound=function(l){return n=Array.from(l),e=hf,u()},d.clamp=function(l){return arguments.length?(o=l?!0:Pt,u()):o!==Pt},d.interpolate=function(l){return arguments.length?(e=l,u()):e},d.unknown=function(l){return arguments.length?(a=l,d):a},function(l,h){return r=l,i=h,u()}}function El(){return fa()(Pt,Pt)}function E2(t,n,e,r){var i=lo(t,n,e),a;switch(r=lr(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(a=Nb(i,o))&&(r.precision=a),Gs(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=kb(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Eb(i))&&(r.precision=a-(r.type==="%")*2);break}}return Fe(r)}function Tr(t){var n=t.domain;return t.ticks=function(e){var r=n();return pi(r[0],r[r.length-1],e??10)},t.tickFormat=function(e,r){var i=n();return E2(i[0],i[i.length-1],e??10,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,a=r.length-1,o=r[i],f=r[a],c,s,u=10;for(f<o&&(s=o,o=f,f=s,s=i,i=a,a=s);u-- >0;){if(s=so(o,f,e),s===c)return r[i]=o,r[a]=f,n(r);if(s>0)o=Math.floor(o/s)*s,f=Math.ceil(f/s)*s;else if(s<0)o=Math.ceil(o*s)/s,f=Math.floor(f*s)/s;else break;c=s}return t},t}function Sf(){var t=El();return t.copy=function(){return Sr(t,Sf())},un.apply(t,arguments),Tr(t)}function Nl(t){var n;function e(r){return r==null||isNaN(r=+r)?n:r}return e.invert=e,e.domain=e.range=function(r){return arguments.length?(t=Array.from(r,Ho),e):t.slice()},e.unknown=function(r){return arguments.length?(n=r,e):n},e.copy=function(){return Nl(t).unknown(n)},t=arguments.length?Array.from(t,Ho):[0,1],Tr(e)}function kl(t,n){t=t.slice();var e=0,r=t.length-1,i=t[e],a=t[r],o;return a<i&&(o=e,e=r,r=o,o=i,i=a,a=o),t[e]=n.floor(i),t[r]=n.ceil(a),t}function Gc(t){return Math.log(t)}function jc(t){return Math.exp(t)}function N2(t){return-Math.log(-t)}function k2(t){return-Math.exp(-t)}function L2(t){return isFinite(t)?+("1e"+t):t<0?0:t}function D2(t){return t===10?L2:t===Math.E?Math.exp:n=>Math.pow(t,n)}function I2(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),n=>Math.log(n)/t)}function Zc(t){return(n,e)=>-t(-n,e)}function Ll(t){const n=t(Gc,jc),e=n.domain;let r=10,i,a;function o(){return i=I2(r),a=D2(r),e()[0]<0?(i=Zc(i),a=Zc(a),t(N2,k2)):t(Gc,jc),n}return n.base=function(f){return arguments.length?(r=+f,o()):r},n.domain=function(f){return arguments.length?(e(f),o()):e()},n.ticks=f=>{const c=e();let s=c[0],u=c[c.length-1];const d=u<s;d&&([s,u]=[u,s]);let l=i(s),h=i(u),p,g;const m=f==null?10:+f;let v=[];if(!(r%1)&&h-l<m){if(l=Math.floor(l),h=Math.ceil(h),s>0){for(;l<=h;++l)for(p=1;p<r;++p)if(g=l<0?p/a(-l):p*a(l),!(g<s)){if(g>u)break;v.push(g)}}else for(;l<=h;++l)for(p=r-1;p>=1;--p)if(g=l>0?p/a(-l):p*a(l),!(g<s)){if(g>u)break;v.push(g)}v.length*2<m&&(v=pi(s,u,m))}else v=pi(l,h,Math.min(h-l,m)).map(a);return d?v.reverse():v},n.tickFormat=(f,c)=>{if(f==null&&(f=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=lr(c)).precision==null&&(c.trim=!0),c=Fe(c)),f===1/0)return c;const s=Math.max(1,r*f/n.ticks().length);return u=>{let d=u/a(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=s?c(u):""}},n.nice=()=>e(kl(e(),{floor:f=>a(Math.floor(i(f))),ceil:f=>a(Math.ceil(i(f)))})),n}function Dl(){const t=Ll(fa()).domain([1,10]);return t.copy=()=>Sr(t,Dl()).base(t.base()),un.apply(t,arguments),t}function Kc(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function Qc(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function Il(t){var n=1,e=t(Kc(n),Qc(n));return e.constant=function(r){return arguments.length?t(Kc(n=+r),Qc(n)):n},Tr(e)}function Fl(){var t=Il(fa());return t.copy=function(){return Sr(t,Fl()).constant(t.constant())},un.apply(t,arguments)}function Jc(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function F2(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function R2(t){return t<0?-t*t:t*t}function Rl(t){var n=t(Pt,Pt),e=1;function r(){return e===1?t(Pt,Pt):e===.5?t(F2,R2):t(Jc(e),Jc(1/e))}return n.exponent=function(i){return arguments.length?(e=+i,r()):e},Tr(n)}function Pl(){var t=Rl(fa());return t.copy=function(){return Sr(t,Pl()).exponent(t.exponent())},un.apply(t,arguments),t}function Ol(){var t=[],n=[],e=[],r;function i(){var o=0,f=Math.max(1,n.length);for(e=new Array(f-1);++o<f;)e[o-1]=C1(t,o/f);return a}function a(o){return o==null||isNaN(o=+o)?r:n[af(e,o)]}return a.invertExtent=function(o){var f=n.indexOf(o);return f<0?[NaN,NaN]:[f>0?e[f-1]:t[0],f<e.length?e[f]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let f of o)f!=null&&!isNaN(f=+f)&&t.push(f);return t.sort(nn),i()},a.range=function(o){return arguments.length?(n=Array.from(o),i()):n.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return e.slice()},a.copy=function(){return Ol().domain(t).range(n).unknown(r)},un.apply(a,arguments)}function Ul(){var t=[.5],n=[0,1],e,r=1;function i(a){return a!=null&&a<=a?n[af(t,a,0,r)]:e}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(a){return arguments.length?(n=Array.from(a),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(a){var o=n.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(e=a,i):e},i.copy=function(){return Ul().domain(t).range(n).unknown(e)},un.apply(i,arguments)}const Ya=new Date,Ha=new Date;function dt(t,n,e,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),n(a,1),t(a),a),i.round=a=>{const o=i(a),f=i.ceil(a);return a-o<f-a?o:f},i.offset=(a,o)=>(n(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,f)=>{const c=[];if(a=i.ceil(a),f=f==null?1:Math.floor(f),!(a<o)||!(f>0))return c;let s;do c.push(s=new Date(+a)),n(a,f),t(a);while(s<a&&a<o);return c},i.filter=a=>dt(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,f)=>{if(o>=o)if(f<0)for(;++f<=0;)for(;n(o,-1),!a(o););else for(;--f>=0;)for(;n(o,1),!a(o););}),e&&(i.count=(a,o)=>(Ya.setTime(+a),Ha.setTime(+o),t(Ya),t(Ha),Math.floor(e(Ya,Ha))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Oi=dt(()=>{},(t,n)=>{t.setTime(+t+n)},(t,n)=>n-t);Oi.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?dt(n=>{n.setTime(Math.floor(n/t)*t)},(n,e)=>{n.setTime(+n+e*t)},(n,e)=>(e-n)/t):Oi);Oi.range;const bn=1e3,Ot=bn*60,yn=Ot*60,xn=yn*24,Tf=xn*7,tu=xn*30,Wa=xn*365,Jt=dt(t=>{t.setTime(t-t.getMilliseconds())},(t,n)=>{t.setTime(+t+n*bn)},(t,n)=>(n-t)/bn,t=>t.getUTCSeconds());Jt.range;const ca=dt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*bn)},(t,n)=>{t.setTime(+t+n*Ot)},(t,n)=>(n-t)/Ot,t=>t.getMinutes());ca.range;const Ar=dt(t=>{t.setUTCSeconds(0,0)},(t,n)=>{t.setTime(+t+n*Ot)},(t,n)=>(n-t)/Ot,t=>t.getUTCMinutes());Ar.range;const ua=dt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*bn-t.getMinutes()*Ot)},(t,n)=>{t.setTime(+t+n*yn)},(t,n)=>(n-t)/yn,t=>t.getHours());ua.range;const Cr=dt(t=>{t.setUTCMinutes(0,0,0)},(t,n)=>{t.setTime(+t+n*yn)},(t,n)=>(n-t)/yn,t=>t.getUTCHours());Cr.range;const ie=dt(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ot)/xn,t=>t.getDate()-1);ie.range;const sa=dt(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/xn,t=>t.getUTCDate()-1);sa.range;const la=dt(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/xn,t=>Math.floor(t/xn));la.range;function ae(t){return dt(n=>{n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},(n,e)=>{n.setDate(n.getDate()+e*7)},(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*Ot)/Tf)}const Ae=ae(0),hr=ae(1),ql=ae(2),zl=ae(3),te=ae(4),Yl=ae(5),Hl=ae(6);Ae.range;hr.range;ql.range;zl.range;te.range;Yl.range;Hl.range;function oe(t){return dt(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e*7)},(n,e)=>(e-n)/Tf)}const Ce=oe(0),pr=oe(1),Wl=oe(2),Bl=oe(3),ne=oe(4),Vl=oe(5),Xl=oe(6);Ce.range;pr.range;Wl.range;Bl.range;ne.range;Vl.range;Xl.range;const Er=dt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,n)=>{t.setMonth(t.getMonth()+n)},(t,n)=>n.getMonth()-t.getMonth()+(n.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Er.range;const Nr=dt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCMonth(t.getUTCMonth()+n)},(t,n)=>n.getUTCMonth()-t.getUTCMonth()+(n.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Nr.range;const Vt=dt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n)},(t,n)=>n.getFullYear()-t.getFullYear(),t=>t.getFullYear());Vt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:dt(n=>{n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e*t)});Vt.range;const Xt=dt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n)},(t,n)=>n.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Xt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:dt(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e*t)});Xt.range;function Gl(t,n,e,r,i,a){const o=[[Jt,1,bn],[Jt,5,5*bn],[Jt,15,15*bn],[Jt,30,30*bn],[a,1,Ot],[a,5,5*Ot],[a,15,15*Ot],[a,30,30*Ot],[i,1,yn],[i,3,3*yn],[i,6,6*yn],[i,12,12*yn],[r,1,xn],[r,2,2*xn],[e,1,Tf],[n,1,tu],[n,3,3*tu],[t,1,Wa]];function f(s,u,d){const l=u<s;l&&([s,u]=[u,s]);const h=d&&typeof d.range=="function"?d:c(s,u,d),p=h?h.range(s,+u+1):[];return l?p.reverse():p}function c(s,u,d){const l=Math.abs(u-s)/d,h=Xi(([,,m])=>m).right(o,l);if(h===o.length)return t.every(lo(s/Wa,u/Wa,d));if(h===0)return Oi.every(Math.max(lo(s,u,d),1));const[p,g]=o[l/o[h-1][2]<o[h][2]/l?h-1:h];return p.every(g)}return[f,c]}const[P2,O2]=Gl(Xt,Nr,Ce,la,Cr,Ar),[U2,q2]=Gl(Vt,Er,Ae,ie,ua,ca);function Ba(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Va(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ye(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}function z2(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,f=t.months,c=t.shortMonths,s=He(i),u=We(i),d=He(a),l=We(a),h=He(o),p=We(o),g=He(f),m=We(f),v=He(c),b=We(c),M={a:W,A:H,b:k,B:U,c:null,d:ou,e:ou,f:sy,g:vy,G:My,H:fy,I:cy,j:uy,L:jl,m:ly,M:dy,p:q,q:R,Q:uu,s:su,S:hy,u:py,U:gy,V:my,w:by,W:yy,x:null,X:null,y:wy,Y:xy,Z:$y,"%":cu},y={a:Y,A:Q,b:B,B:X,c:null,d:fu,e:fu,f:Ay,g:Py,G:Uy,H:_y,I:Sy,j:Ty,L:Kl,m:Cy,M:Ey,p:P,q:tt,Q:uu,s:su,S:Ny,u:ky,U:Ly,V:Dy,w:Iy,W:Fy,x:null,X:null,y:Ry,Y:Oy,Z:qy,"%":cu},x={a:N,A:_,b:L,B:I,c:D,d:iu,e:iu,f:ry,g:ru,G:eu,H:au,I:au,j:J2,L:ey,m:Q2,M:ty,p:T,q:K2,Q:ay,s:oy,S:ny,u:V2,U:X2,V:G2,w:B2,W:j2,x:S,X:F,y:ru,Y:eu,Z:Z2,"%":iy};M.x=w(e,M),M.X=w(r,M),M.c=w(n,M),y.x=w(e,y),y.X=w(r,y),y.c=w(n,y);function w(E,O){return function(z){var A=[],at=-1,V=0,ct=E.length,lt,Ct,Ue;for(z instanceof Date||(z=new Date(+z));++at<ct;)E.charCodeAt(at)===37&&(A.push(E.slice(V,at)),(Ct=nu[lt=E.charAt(++at)])!=null?lt=E.charAt(++at):Ct=lt==="e"?" ":"0",(Ue=O[lt])&&(lt=Ue(z,Ct)),A.push(lt),V=at+1);return A.push(E.slice(V,at)),A.join("")}}function $(E,O){return function(z){var A=Ye(1900,void 0,1),at=C(A,E,z+="",0),V,ct;if(at!=z.length)return null;if("Q"in A)return new Date(A.Q);if("s"in A)return new Date(A.s*1e3+("L"in A?A.L:0));if(O&&!("Z"in A)&&(A.Z=0),"p"in A&&(A.H=A.H%12+A.p*12),A.m===void 0&&(A.m="q"in A?A.q:0),"V"in A){if(A.V<1||A.V>53)return null;"w"in A||(A.w=1),"Z"in A?(V=Va(Ye(A.y,0,1)),ct=V.getUTCDay(),V=ct>4||ct===0?pr.ceil(V):pr(V),V=sa.offset(V,(A.V-1)*7),A.y=V.getUTCFullYear(),A.m=V.getUTCMonth(),A.d=V.getUTCDate()+(A.w+6)%7):(V=Ba(Ye(A.y,0,1)),ct=V.getDay(),V=ct>4||ct===0?hr.ceil(V):hr(V),V=ie.offset(V,(A.V-1)*7),A.y=V.getFullYear(),A.m=V.getMonth(),A.d=V.getDate()+(A.w+6)%7)}else("W"in A||"U"in A)&&("w"in A||(A.w="u"in A?A.u%7:"W"in A?1:0),ct="Z"in A?Va(Ye(A.y,0,1)).getUTCDay():Ba(Ye(A.y,0,1)).getDay(),A.m=0,A.d="W"in A?(A.w+6)%7+A.W*7-(ct+5)%7:A.w+A.U*7-(ct+6)%7);return"Z"in A?(A.H+=A.Z/100|0,A.M+=A.Z%100,Va(A)):Ba(A)}}function C(E,O,z,A){for(var at=0,V=O.length,ct=z.length,lt,Ct;at<V;){if(A>=ct)return-1;if(lt=O.charCodeAt(at++),lt===37){if(lt=O.charAt(at++),Ct=x[lt in nu?O.charAt(at++):lt],!Ct||(A=Ct(E,z,A))<0)return-1}else if(lt!=z.charCodeAt(A++))return-1}return A}function T(E,O,z){var A=s.exec(O.slice(z));return A?(E.p=u.get(A[0].toLowerCase()),z+A[0].length):-1}function N(E,O,z){var A=h.exec(O.slice(z));return A?(E.w=p.get(A[0].toLowerCase()),z+A[0].length):-1}function _(E,O,z){var A=d.exec(O.slice(z));return A?(E.w=l.get(A[0].toLowerCase()),z+A[0].length):-1}function L(E,O,z){var A=v.exec(O.slice(z));return A?(E.m=b.get(A[0].toLowerCase()),z+A[0].length):-1}function I(E,O,z){var A=g.exec(O.slice(z));return A?(E.m=m.get(A[0].toLowerCase()),z+A[0].length):-1}function D(E,O,z){return C(E,n,O,z)}function S(E,O,z){return C(E,e,O,z)}function F(E,O,z){return C(E,r,O,z)}function W(E){return o[E.getDay()]}function H(E){return a[E.getDay()]}function k(E){return c[E.getMonth()]}function U(E){return f[E.getMonth()]}function q(E){return i[+(E.getHours()>=12)]}function R(E){return 1+~~(E.getMonth()/3)}function Y(E){return o[E.getUTCDay()]}function Q(E){return a[E.getUTCDay()]}function B(E){return c[E.getUTCMonth()]}function X(E){return f[E.getUTCMonth()]}function P(E){return i[+(E.getUTCHours()>=12)]}function tt(E){return 1+~~(E.getUTCMonth()/3)}return{format:function(E){var O=w(E+="",M);return O.toString=function(){return E},O},parse:function(E){var O=$(E+="",!1);return O.toString=function(){return E},O},utcFormat:function(E){var O=w(E+="",y);return O.toString=function(){return E},O},utcParse:function(E){var O=$(E+="",!0);return O.toString=function(){return E},O}}}var nu={"-":"",_:" ",0:"0"},bt=/^\s*\d+/,Y2=/^%/,H2=/[\\^$*+?|[\]().{}]/g;function et(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<e?new Array(e-a+1).join(n)+i:i)}function W2(t){return t.replace(H2,"\\$&")}function He(t){return new RegExp("^(?:"+t.map(W2).join("|")+")","i")}function We(t){return new Map(t.map((n,e)=>[n.toLowerCase(),e]))}function B2(t,n,e){var r=bt.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function V2(t,n,e){var r=bt.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function X2(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function G2(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function j2(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function eu(t,n,e){var r=bt.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function ru(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function Z2(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function K2(t,n,e){var r=bt.exec(n.slice(e,e+1));return r?(t.q=r[0]*3-3,e+r[0].length):-1}function Q2(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function iu(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function J2(t,n,e){var r=bt.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function au(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function ty(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function ny(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function ey(t,n,e){var r=bt.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function ry(t,n,e){var r=bt.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function iy(t,n,e){var r=Y2.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function ay(t,n,e){var r=bt.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function oy(t,n,e){var r=bt.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function ou(t,n){return et(t.getDate(),n,2)}function fy(t,n){return et(t.getHours(),n,2)}function cy(t,n){return et(t.getHours()%12||12,n,2)}function uy(t,n){return et(1+ie.count(Vt(t),t),n,3)}function jl(t,n){return et(t.getMilliseconds(),n,3)}function sy(t,n){return jl(t,n)+"000"}function ly(t,n){return et(t.getMonth()+1,n,2)}function dy(t,n){return et(t.getMinutes(),n,2)}function hy(t,n){return et(t.getSeconds(),n,2)}function py(t){var n=t.getDay();return n===0?7:n}function gy(t,n){return et(Ae.count(Vt(t)-1,t),n,2)}function Zl(t){var n=t.getDay();return n>=4||n===0?te(t):te.ceil(t)}function my(t,n){return t=Zl(t),et(te.count(Vt(t),t)+(Vt(t).getDay()===4),n,2)}function by(t){return t.getDay()}function yy(t,n){return et(hr.count(Vt(t)-1,t),n,2)}function wy(t,n){return et(t.getFullYear()%100,n,2)}function vy(t,n){return t=Zl(t),et(t.getFullYear()%100,n,2)}function xy(t,n){return et(t.getFullYear()%1e4,n,4)}function My(t,n){var e=t.getDay();return t=e>=4||e===0?te(t):te.ceil(t),et(t.getFullYear()%1e4,n,4)}function $y(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+et(n/60|0,"0",2)+et(n%60,"0",2)}function fu(t,n){return et(t.getUTCDate(),n,2)}function _y(t,n){return et(t.getUTCHours(),n,2)}function Sy(t,n){return et(t.getUTCHours()%12||12,n,2)}function Ty(t,n){return et(1+sa.count(Xt(t),t),n,3)}function Kl(t,n){return et(t.getUTCMilliseconds(),n,3)}function Ay(t,n){return Kl(t,n)+"000"}function Cy(t,n){return et(t.getUTCMonth()+1,n,2)}function Ey(t,n){return et(t.getUTCMinutes(),n,2)}function Ny(t,n){return et(t.getUTCSeconds(),n,2)}function ky(t){var n=t.getUTCDay();return n===0?7:n}function Ly(t,n){return et(Ce.count(Xt(t)-1,t),n,2)}function Ql(t){var n=t.getUTCDay();return n>=4||n===0?ne(t):ne.ceil(t)}function Dy(t,n){return t=Ql(t),et(ne.count(Xt(t),t)+(Xt(t).getUTCDay()===4),n,2)}function Iy(t){return t.getUTCDay()}function Fy(t,n){return et(pr.count(Xt(t)-1,t),n,2)}function Ry(t,n){return et(t.getUTCFullYear()%100,n,2)}function Py(t,n){return t=Ql(t),et(t.getUTCFullYear()%100,n,2)}function Oy(t,n){return et(t.getUTCFullYear()%1e4,n,4)}function Uy(t,n){var e=t.getUTCDay();return t=e>=4||e===0?ne(t):ne.ceil(t),et(t.getUTCFullYear()%1e4,n,4)}function qy(){return"+0000"}function cu(){return"%"}function uu(t){return+t}function su(t){return Math.floor(+t/1e3)}var de,Af,kr;zy({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function zy(t){return de=z2(t),Af=de.format,de.parse,kr=de.utcFormat,de.utcParse,de}function Yy(t){return new Date(t)}function Hy(t){return t instanceof Date?+t:+new Date(+t)}function Cf(t,n,e,r,i,a,o,f,c,s){var u=El(),d=u.invert,l=u.domain,h=s(".%L"),p=s(":%S"),g=s("%I:%M"),m=s("%I %p"),v=s("%a %d"),b=s("%b %d"),M=s("%B"),y=s("%Y");function x(w){return(c(w)<w?h:f(w)<w?p:o(w)<w?g:a(w)<w?m:r(w)<w?i(w)<w?v:b:e(w)<w?M:y)(w)}return u.invert=function(w){return new Date(d(w))},u.domain=function(w){return arguments.length?l(Array.from(w,Hy)):l().map(Yy)},u.ticks=function(w){var $=l();return t($[0],$[$.length-1],w??10)},u.tickFormat=function(w,$){return $==null?x:s($)},u.nice=function(w){var $=l();return(!w||typeof w.range!="function")&&(w=n($[0],$[$.length-1],w??10)),w?l(kl($,w)):u},u.copy=function(){return Sr(u,Cf(t,n,e,r,i,a,o,f,c,s))},u}function Wy(){return un.apply(Cf(U2,q2,Vt,Er,Ae,ie,ua,ca,Jt,Af).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function By(){return un.apply(Cf(P2,O2,Xt,Nr,Ce,sa,Cr,Ar,Jt,kr).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function da(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function ha(){var t=0,n=.5,e=1,r=1,i,a,o,f,c,s=Pt,u,d=!1,l;function h(g){return isNaN(g=+g)?l:(g=.5+((g=+u(g))-a)*(r*g<r*a?f:c),s(d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,n,e]=g,i=u(t=+t),a=u(n=+n),o=u(e=+e),f=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,h):[t,n,e]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(s=g,h):s};function p(g){return function(m){var v,b,M;return arguments.length?([v,b,M]=m,s=Ji(g,[v,b,M]),h):[s(0),s(.5),s(1)]}}return h.range=p($r),h.rangeRound=p(hf),h.unknown=function(g){return arguments.length?(l=g,h):l},function(g){return u=g,i=g(t),a=g(n),o=g(e),f=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,h}}function Jl(){var t=Tr(ha()(Pt));return t.copy=function(){return da(t,Jl())},aa.apply(t,arguments)}function td(){var t=Ll(ha()).domain([.1,1,10]);return t.copy=function(){return da(t,td()).base(t.base())},aa.apply(t,arguments)}function nd(){var t=Il(ha());return t.copy=function(){return da(t,nd()).constant(t.constant())},aa.apply(t,arguments)}function ed(){var t=Rl(ha());return t.copy=function(){return da(t,ed()).exponent(t.exponent())},aa.apply(t,arguments)}function Z(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(r*6,++r*6);return e}const Vy=Z("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Xy=Z("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Gy=Z("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),jy=Z("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Zy=Z("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Ky=Z("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Qy=Z("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Jy=Z("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),t6=Z("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),n6=Z("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ot=t=>Hg(t[t.length-1]);var rd=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Z);const id=ot(rd);var ad=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Z);const od=ot(ad);var fd=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Z);const cd=ot(fd);var ud=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Z);const sd=ot(ud);var Bo=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Z);const Ui=ot(Bo);var ld=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Z);const dd=ot(ld);var Vo=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Z);const qi=ot(Vo);var hd=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Z);const pd=ot(hd);var gd=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Z);const md=ot(gd);var bd=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Z);const yd=ot(bd);var wd=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Z);const vd=ot(wd);var xd=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Z);const Md=ot(xd);var $d=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Z);const _d=ot($d);var Sd=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Z);const Td=ot(Sd);var Ad=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Z);const Cd=ot(Ad);var Ed=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Z);const Nd=ot(Ed);var kd=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Z);const Ld=ot(kd);var Dd=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Z);const Id=ot(Dd);var Fd=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Z);const Rd=ot(Fd);var Pd=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Z);const Od=ot(Pd);var Ud=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Z);const qd=ot(Ud);var zd=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Z);const Yd=ot(zd);var Hd=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Z);const Wd=ot(Hd);var Bd=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Z);const Vd=ot(Bd);var Xd=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Z);const Gd=ot(Xd);var jd=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Z);const Zd=ot(jd);var Kd=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Z);const Qd=ot(Kd);function Jd(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const t0=pf(on(300,.5,0),on(-240,.5,1));var n0=pf(on(-100,.75,.35),on(80,1.5,.8)),e0=pf(on(260,.75,.35),on(80,1.5,.8)),Qr=on();function r0(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return Qr.h=360*t-100,Qr.s=1.5-1.5*n,Qr.l=.8-.9*n,Qr+""}var Jr=kn(),e6=Math.PI/3,r6=Math.PI*2/3;function i0(t){var n;return t=(.5-t)*Math.PI,Jr.r=255*(n=Math.sin(t))*n,Jr.g=255*(n=Math.sin(t+e6))*n,Jr.b=255*(n=Math.sin(t+r6))*n,Jr+""}function a0(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function pa(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}const o0=pa(Z("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var f0=pa(Z("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),c0=pa(Z("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),u0=pa(Z("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const s0=Math.cos,Ef=Math.min,zi=Math.sin,ht=Math.sqrt,Yi=Math.PI,ga=2*Yi,i6=ht(3),l0={draw(t,n){const e=ht(n+Ef(n/28,.75))*.59436,r=e/2,i=r*i6;t.moveTo(0,e),t.lineTo(0,-e),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},gr={draw(t,n){const e=ht(n/Yi);t.moveTo(e,0),t.arc(0,0,e,0,ga)}},d0={draw(t,n){const e=ht(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},h0=ht(1/3),a6=h0*2,p0={draw(t,n){const e=ht(n/a6),r=e*h0;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},g0={draw(t,n){const e=ht(n)*.62625;t.moveTo(0,-e),t.lineTo(e,0),t.lineTo(0,e),t.lineTo(-e,0),t.closePath()}},m0={draw(t,n){const e=ht(n-Ef(n/7,2))*.87559;t.moveTo(-e,0),t.lineTo(e,0),t.moveTo(0,e),t.lineTo(0,-e)}},b0={draw(t,n){const e=ht(n),r=-e/2;t.rect(r,r,e,e)}},y0={draw(t,n){const e=ht(n)*.4431;t.moveTo(e,e),t.lineTo(e,-e),t.lineTo(-e,-e),t.lineTo(-e,e),t.closePath()}},o6=.8908130915292852,w0=zi(Yi/10)/zi(7*Yi/10),f6=zi(ga/10)*w0,c6=-s0(ga/10)*w0,v0={draw(t,n){const e=ht(n*o6),r=f6*e,i=c6*e;t.moveTo(0,-e),t.lineTo(r,i);for(let a=1;a<5;++a){const o=ga*a/5,f=s0(o),c=zi(o);t.lineTo(c*e,-f*e),t.lineTo(f*r-c*i,c*r+f*i)}t.closePath()}},Xa=ht(3),x0={draw(t,n){const e=-ht(n/(Xa*3));t.moveTo(0,e*2),t.lineTo(-Xa*e,-e),t.lineTo(Xa*e,-e),t.closePath()}},u6=ht(3),M0={draw(t,n){const e=ht(n)*.6824,r=e/2,i=e*u6/2;t.moveTo(0,-e),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},Dt=-.5,It=ht(3)/2,Xo=1/ht(12),s6=(Xo/2+1)*3,$0={draw(t,n){const e=ht(n/s6),r=e/2,i=e*Xo,a=r,o=e*Xo+e,f=-a,c=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(f,c),t.lineTo(Dt*r-It*i,It*r+Dt*i),t.lineTo(Dt*a-It*o,It*a+Dt*o),t.lineTo(Dt*f-It*c,It*f+Dt*c),t.lineTo(Dt*r+It*i,Dt*i-It*r),t.lineTo(Dt*a+It*o,Dt*o-It*a),t.lineTo(Dt*f+It*c,Dt*c-It*f),t.closePath()}},_0={draw(t,n){const e=ht(n-Ef(n/6,1.7))*.6189;t.moveTo(-e,-e),t.lineTo(e,e),t.moveTo(-e,e),t.lineTo(e,-e)}},l6=[gr,d0,p0,b0,v0,x0,$0],d6=[gr,m0,_0,M0,l0,y0,g0];function tr(t,n,e){this.k=t,this.x=n,this.y=e}tr.prototype={constructor:tr,scale:function(t){return t===1?this:new tr(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new tr(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};tr.prototype;function ee(t){return t!=null&&!Number.isNaN(t)}function Ee(t,n){return+ee(n)-+ee(t)||nn(t,n)}function Go(t,n){return+ee(n)-+ee(t)||Xn(t,n)}function S0(t){return t!=null&&`${t}`!=""}function T0(t){return isFinite(t)?t:NaN}function Lr(t){return t>0&&isFinite(t)?t:NaN}function ma(t){return t<0&&isFinite(t)?t:NaN}function h6(t,n){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof n=="function"?n(t):n;const e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),a=t.getUTCMilliseconds();return`${p6(t.getUTCFullYear())}-${gn(t.getUTCMonth()+1,2)}-${gn(t.getUTCDate(),2)}${e||r||i||a?`T${gn(e,2)}:${gn(r,2)}${i||a?`:${gn(i,2)}${a?`.${gn(a,3)}`:""}`:""}Z`:""}`}function p6(t){return t<0?`-${gn(-t,6)}`:t>9999?`+${gn(t,6)}`:gn(t,4)}function gn(t,n){return`${t}`.padStart(n,"0")}const g6=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function A0(t,n){return g6.test(t+="")?new Date(t):typeof n=="function"?n(t):n}const me=1e3,zn=me*60,Yn=zn*60,Mn=Yn*24,Zt=Mn*7,Bn=Mn*30,Cn=Mn*365,Ga=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",me],["5 seconds",5*me],["15 seconds",15*me],["30 seconds",30*me],["minute",zn],["5 minutes",5*zn],["15 minutes",15*zn],["30 minutes",30*zn],["hour",Yn],["3 hours",3*Yn],["6 hours",6*Yn],["12 hours",12*Yn],["day",Mn],["2 days",2*Mn],["week",Zt],["2 weeks",2*Zt],["month",Bn],["3 months",3*Bn],["6 months",6*Bn],["year",Cn],["2 years",2*Cn],["5 years",5*Cn],["10 years",10*Cn],["20 years",20*Cn],["50 years",50*Cn],["100 years",100*Cn]],Nf=new Map([["second",me],["minute",zn],["hour",Yn],["day",Mn],["monday",Zt],["tuesday",Zt],["wednesday",Zt],["thursday",Zt],["friday",Zt],["saturday",Zt],["sunday",Zt],["week",Zt],["month",Bn],["year",Cn]]),C0=new Map([["second",Jt],["minute",ca],["hour",ua],["day",ie],["monday",hr],["tuesday",ql],["wednesday",zl],["thursday",te],["friday",Yl],["saturday",Hl],["sunday",Ae],["week",Ae],["month",Er],["year",Vt]]),E0=new Map([["second",Jt],["minute",Ar],["hour",Cr],["day",la],["monday",pr],["tuesday",Wl],["wednesday",Bl],["thursday",ne],["friday",Vl],["saturday",Xl],["sunday",Ce],["week",Ce],["month",Nr],["year",Xt]]),Dr=Symbol("intervalDuration"),ba=Symbol("intervalType");for(const[t,n]of C0)n[Dr]=Nf.get(t),n[ba]="time";for(const[t,n]of E0)n[Dr]=Nf.get(t),n[ba]="utc";const m6=[["year",Xt,"utc"],["year",Vt,"time"],["month",Nr,"utc"],["month",Er,"time"],["day",la,"utc",6*Bn],["day",ie,"time",6*Bn],["hour",Cr,"utc",3*Mn],["minute",Ar,"utc",6*Yn],["second",Jt,"utc",30*zn]];function N0(t,n,e){let r=`${t}`.toLowerCase();r.endsWith("s")&&(r=r.slice(0,-1));let i=1;const a=/^(?:(\d+)\s+)/.exec(r);switch(a&&(r=r.slice(a[0].length),i=+a[1]),r){case"quarter":r="month",i*=3;break;case"half":r="month",i*=6;break}let o=n.get(r);if(!o)throw new Error(`unknown interval: ${t}`);if(i>1){if(!o.every)throw new Error(`non-periodic interval: ${r}`);o=o.every(i),o[Dr]=Nf.get(r)*i,o[ba]=e}return o}function k0(t){return N0(t,C0,"time")}function L0(t){return N0(t,E0,"utc")}function lu(t,n){if(!(n>1))return;const e=t[Dr];if(!Ga.some(([,i])=>i===e)||e%Mn===0&&Mn<e&&e<Bn)return;const[r]=Ga[Xi(([,i])=>Math.log(i)).center(Ga,Math.log(e*n))];return(t[ba]==="time"?k0:L0)(r)}function du(t,n,e){const r=n==="time"?Af:kr;if(e==null)return r(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=b6(e);switch(t){case"millisecond":return he(r(".%L"),r(":%M:%S"),i);case"second":return he(r(":%S"),r("%-I:%M"),i);case"minute":return he(r("%-I:%M"),r("%p"),i);case"hour":return he(r("%-I %p"),r("%b %-d"),i);case"day":return he(r("%-d"),r("%b"),i);case"month":return he(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function b6(t){return t==="left"||t==="right"?(n,e)=>`
${n}
${e}`:t==="top"?(n,e)=>`${e}
${n}`:(n,e)=>`${n}
${e}`}function y6(t,n){const e=an(L1(t,(r,i)=>Math.abs(i-r)));if(e<1e3)return du("millisecond","utc",n);for(const[r,i,a,o]of m6){if(e>o||r==="hour"&&!e)break;if(t.every(f=>i.floor(f)>=f))return du(r,a,n)}}function he(t,n,e){return(r,i,a)=>{const o=t(r,i),f=n(r,i),c=i-ke(a);return i!==c&&a[c]!==void 0&&f===n(a[c],c)?o:e(o,f)}}const mr=Object.getPrototypeOf(Uint8Array),w6=Object.prototype.toString,v6=Symbol("reindex");function $n(t,n,e){const r=typeof n;return r==="string"?hu(t,$6(n),e):r==="function"?hu(t,n,e):r==="number"||n instanceof Date||r==="boolean"?St(t,fe(n),e):typeof n?.transform=="function"?pu(n.transform(t),e):x6(pu(n,e),t?.[v6])}function x6(t,n){return n?Df(t,n):t}function hu(t,n,e){return St(t,e?.prototype instanceof mr?M6(n):n,e)}function pu(t,n){return n===void 0?Lt(t):t instanceof n?t:n.prototype instanceof mr&&!(t instanceof mr)?n.from(t,kf):n.from(t)}function M6(t){return(n,e)=>kf(t(n,e))}const li=[null],$6=t=>n=>n[t],_6={transform:Ir},jt={transform:t=>t},S6=()=>!0,_t=t=>t==null?t:`${t}`,gt=t=>t==null?t:+t,D0=t=>t?t[0]:void 0,T6=t=>t?t[1]:void 0,fe=t=>()=>t;function A6(t){const n=+`${t}`.slice(1)/100;return(e,r)=>gi(e,n,r)}function gu(t){return t instanceof mr?t:St(t,kf,Float64Array)}function kf(t){return t==null?NaN:Number(t)}function C6(t){return St(t,E6)}function E6(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?A0(t):t==null||isNaN(t=+t)?void 0:new Date(t)}function br(t,n){return t===void 0&&(t=n),t===null?[void 0,"none"]:xa(t)?[void 0,t]:[t,void 0]}function xt(t,n){return t===void 0&&(t=n),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function I0(t,n,e){if(t!=null)return qt(t,n,e)}function qt(t,n,e){const r=`${t}`.toLowerCase();if(!e.includes(r))throw new Error(`invalid ${n}: ${t}`);return r}function Lt(t){return t==null||t instanceof Array||t instanceof mr?t:Array.from(t)}function St(t,n,e=Array){return t==null?t:t instanceof e?t.map(n):e.from(t,n)}function jo(t,n=Array){return t instanceof n?t.slice():n.from(t)}function ce(t){return t?.toString===w6}function Zo(t){return ce(t)&&(t.type!==void 0||t.domain!==void 0)}function ya(t){return ce(t)&&typeof t.transform!="function"}function Ne(t){return ya(t)&&t.value===void 0&&t.channel===void 0}function Lf(t,n){return t===void 0&&n===void 0?[D0,T6]:[t,n]}function Ir(t){const n=t.length,e=new Uint32Array(n);for(let r=0;r<n;++r)e[r]=r;return e}function Df(t,n){return St(n,e=>t[e],t.constructor)}function N6(t,n,e){return t.subarray?t.subarray(n,e):t.slice(n,e)}function ti(t){return t!==null&&typeof t=="object"?t.valueOf():t}function wa(t,n){return typeof t=="string"?t:t&&t.label!==void 0?t.label:n}function k6(t,n){const e=If(t,n);return e&&(r=>ee(r)?e.floor(r):r)}function If(t,n){if(t!=null){if(typeof t=="number"){0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const e=Math.abs(t);return t<0?{floor:r=>Math.floor(r*e)/e,offset:r=>(r*e+1)/e,range:(r,i)=>po(Math.ceil(r*e),i*e).map(a=>a/e)}:{floor:r=>Math.floor(r/e)*e,offset:r=>r+e,range:(r,i)=>po(Math.ceil(r/e),i/e).map(a=>a*e)}}if(typeof t=="string")return(n==="time"?k0:L0)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function Fr(t,n){if(t=If(t,n),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function L6(t,n){if(t=Fr(t,n),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function D6(t){return typeof t?.range=="function"}function va(t){return t===void 0||ya(t)?t:{value:t}}function I6(t){return t==null?null:{transform:n=>$n(n,t,Float64Array),label:wa(t)}}function ue(t){return t&&typeof t[Symbol.iterator]=="function"}function F0(t){for(const n of t)if(n!=null)return typeof n!="object"||n instanceof Date}function mu(t){for(const n of t){if(n==null)continue;const e=typeof n;return e==="string"||e==="boolean"}}function fn(t){for(const n of t)if(n!=null)return n instanceof Date}function F6(t){for(const n of t)if(n!=null)return typeof n=="string"&&isNaN(n)&&A0(n)}function R6(t){for(const n of t)if(n!=null){if(typeof n!="string")return!1;if(n.trim())return!isNaN(n)}}function P6(t){for(const n of t)if(n!=null)return typeof n=="number"}function ja(t,n){let e;for(const r of t)if(r!=null){if(!n(r))return!1;e=!0}return e}const O6=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function xa(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||O6.has(t))}function U6(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function Tt(t){return t==null||yr(t)}function yr(t){return/^\s*none\s*$/i.test(t)}function q6(t){return/^\s*round\s*$/i.test(t)}function R0(t,n){return I0(t,n,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function Ma(t="middle"){return R0(t,"frameAnchor")}function ke(t){if(t==null)return;const n=t[0],e=t[t.length-1];return Xn(n,e)}function z6(t={},...n){let e=t;for(const r of n)for(const i in r)if(e[i]===void 0){const a=r[i];e===t?e={...e,[i]:a}:e[i]=a}return e}function Y6(t){console.warn("named iterables are deprecated; please use an object instead");const n=new Set;return Object.fromEntries(Array.from(t,e=>{const{name:r}=e;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(n.has(i))throw new Error(`duplicate name: ${i}`);return n.add(i),[r,e]}))}function P0(t){return ue(t)?Y6(t):t}const tn=Symbol("position"),_n=Symbol("color"),Rr=Symbol("radius"),Pr=Symbol("length"),Or=Symbol("opacity"),$a=Symbol("symbol"),O0=Symbol("projection"),st=new Map([["x",tn],["y",tn],["fx",tn],["fy",tn],["r",Rr],["color",_n],["opacity",Or],["symbol",$a],["length",Pr],["projection",O0]]);function H6(t){return t===tn||t===O0}function W6(t){return t===tn||t===Rr||t===Pr||t===Or}const B6=Math.sqrt(3),V6=2/B6,X6={draw(t,n){const e=Math.sqrt(n/Math.PI),r=e*V6,i=r/2;t.moveTo(0,r),t.lineTo(e,i),t.lineTo(e,-i),t.lineTo(0,-r),t.lineTo(-e,-i),t.lineTo(-e,i),t.closePath()}},Ff=new Map([["asterisk",l0],["circle",gr],["cross",d0],["diamond",p0],["diamond2",g0],["hexagon",X6],["plus",m0],["square",b0],["square2",y0],["star",v0],["times",_0],["triangle",x0],["triangle2",M0],["wye",$0]]);function Rf(t){return t&&typeof t.draw=="function"}function G6(t){return Rf(t)?!0:typeof t!="string"?!1:Ff.has(t.toLowerCase())}function Pf(t){if(t==null||Rf(t))return t;const n=Ff.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid symbol: ${t}`)}function j6(t){if(t==null||Rf(t))return[void 0,t];if(typeof t=="string"){const n=Ff.get(`${t}`.toLowerCase());if(n)return[void 0,n]}return[t,void 0]}function U0({filter:t,sort:n,reverse:e,transform:r,initializer:i,...a}={},o){if(r===void 0&&(t!=null&&(r=q0(t)),n!=null&&!Ne(n)&&(r=Za(r,Of(n))),e&&(r=Za(r,z0))),o!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...a,...(n===null||Ne(n))&&{sort:n},transform:Za(r,o)}}function re({filter:t,sort:n,reverse:e,initializer:r,...i}={},a){return r===void 0&&(t!=null&&(r=q0(t)),n!=null&&!Ne(n)&&(r=Ka(r,Of(n))),e&&(r=Ka(r,z0))),{...i,...(n===null||Ne(n))&&{sort:n},initializer:Ka(r,a)}}function Za(t,n){return t==null?n===null?void 0:n:n==null?t===null?void 0:t:function(e,r,i){return{data:e,facets:r}=t.call(this,e,r,i),n.call(this,Lt(e),r,i)}}function Ka(t,n){return t==null?n===null?void 0:n:n==null?t===null?void 0:t:function(e,r,i,...a){let o,f,c,s,u,d;return{data:f=e,facets:c=r,channels:o}=t.call(this,e,r,i,...a),{data:u=f,facets:d=c,channels:s}=n.call(this,f,c,{...i,...o},...a),{data:u,facets:d,channels:{...o,...s}}}}function Z6(t,n){return(t.initializer!=null?re:U0)(t,n)}function q0(t){return(n,e)=>{const r=$n(n,t);return{data:n,facets:e.map(i=>i.filter(a=>r[a]))}}}function z0(t,n){return{data:t,facets:n.map(e=>e.slice().reverse())}}function K6(t,{sort:n,...e}={}){return{...(ya(t)&&t.channel!==void 0?re:Z6)(e,Of(t)),sort:Ne(n)?n:null}}function Of(t){return(typeof t=="function"&&t.length!==1?Q6:J6)(t)}function Q6(t){return(n,e)=>{const r=(i,a)=>t(n[i],n[a]);return{data:n,facets:e.map(i=>i.slice().sort(r))}}}function J6(t){let n,e;({channel:n,value:t,order:e}={...va(t)});const r=n?.startsWith("-");if(r&&(n=n.slice(1)),e===void 0&&(e=r?Go:Ee),typeof e!="function")switch(`${e}`.toLowerCase()){case"ascending":e=Ee;break;case"descending":e=Go;break;default:throw new Error(`invalid order: ${e}`)}return(i,a,o)=>{let f;if(n===void 0)f=$n(i,t);else{if(o===void 0)throw new Error("channel sort requires an initializer");if(f=o[n],!f)return{};f=f.value}const c=(s,u)=>e(f[s],f[u]);return{data:i,facets:a.map(s=>s.slice().sort(c))}}}function t8(t,n,e=n8){if(t==null)return e(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&ce(t))return e8(t);if(typeof t=="function")return r8(t);if(/^p\d{2}$/i.test(t))return pn(A6(t));switch(`${t}`.toLowerCase()){case"first":return a8;case"last":return o8;case"identity":return i8;case"count":return yu;case"distinct":return f8;case"sum":return n==null?yu:c8;case"proportion":return wu(n,"data");case"proportion-facet":return wu(n,"facet");case"deviation":return pn(y1);case"min":return pn(fr);case"min-index":return pn(A1);case"max":return pn(an);case"max-index":return pn(T1);case"mean":return bu(E1);case"median":return bu(ho);case"variance":return pn(rs);case"mode":return pn(k1)}return e(t)}function n8(t){throw new Error(`invalid reduce: ${t}`)}function e8(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function r8(t){return{reduceIndex(n,e,r){return t(Df(e,n),r)}}}function pn(t){return{reduceIndex(n,e){return t(n,r=>e[r])}}}function bu(t){return{reduceIndex(n,e){const r=t(n,i=>e[i]);return fn(e)?new Date(r):r}}}const i8={reduceIndex(t,n){return Df(n,t)}},a8={reduceIndex(t,n){return n[t[0]]}},o8={reduceIndex(t,n){return n[t[t.length-1]]}},yu={label:"Frequency",reduceIndex(t){return t.length}},f8={label:"Distinct",reduceIndex(t,n){const e=new Gi;for(const r of t)e.add(n[r]);return e.size}},c8=pn(of);function wu(t,n){return t==null?{scope:n,label:"Frequency",reduceIndex:(e,r,i=1)=>e.length/i}:{scope:n,reduceIndex:(e,r,i=1)=>of(e,a=>r[a])/i}}function wr(t,{scale:n,type:e,value:r,filter:i,hint:a,label:o=wa(r)},f){return a===void 0&&typeof r?.transform=="function"&&(a=r.hint),Y0(f,{scale:n,type:e,value:$n(t,r),label:o,filter:i,hint:a})}function u8(t,n){return Object.fromEntries(Object.entries(t).map(([e,r])=>[e,wr(n,r,e)]))}function s8(t,n){const e=Object.fromEntries(Object.entries(t).map(([r,{scale:i,value:a}])=>{const o=i==null?null:n[i];return[r,o==null?a:St(a,o)]}));return e.channels=t,e}function Y0(t,n){const{scale:e,value:r}=n;if(e===!0||e==="auto")switch(t){case"fill":case"stroke":case"color":n.scale=e!==!0&&ja(r,xa)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":n.scale=e!==!0&&ja(r,U6)?null:"opacity";break;case"symbol":e!==!0&&ja(r,G6)?(n.scale=null,n.value=St(r,Pf)):n.scale="symbol";break;default:n.scale=st.has(t)?t:null;break}else if(e===!1)n.scale=null;else if(e!=null&&!st.has(e))throw new Error(`unknown scale: ${e}`);return n}function l8(t,n,e,r,i){const{order:a,reverse:o,reduce:f=!0,limit:c}=i;for(const s in i){if(!st.has(s))continue;let{value:u,order:d=a,reverse:l=o,reduce:h=f,limit:p=c}=va(i[s]);const g=u?.startsWith("-");if(g&&(u=u.slice(1)),d=d===void 0?g!==(u==="width"||u==="height")?W0:H0:p8(d),h==null||h===!1)continue;const m=s==="fx"||s==="fy"?h8(n,r[s]):d8(e,s);if(!m)throw new Error(`missing channel for scale: ${s}`);const v=m.value,[b=0,M=1/0]=ue(p)?p:p<0?[p]:[0,p];if(u==null)m.domain=()=>{let y=Array.from(new Gi(v));return l&&(y=y.reverse()),(b!==0||M!==1/0)&&(y=y.slice(b,M)),y};else{const y=u==="data"?t:u==="height"?vu(e,"y1","y2"):u==="width"?vu(e,"x1","x2"):Ko(e,u,u==="y"?"y2":u==="x"?"x2":void 0),x=t8(h===!0?"max":h,y);m.domain=()=>{let w=v1(Ir(v),$=>x.reduceIndex($,y),$=>v[$]);return d&&w.sort(d),l&&w.reverse(),(b!==0||M!==1/0)&&(w=w.slice(b,M)),w.map(D0)}}}}function d8(t,n){for(const e in t){const r=t[e];if(r.scale===n)return r}}function h8(t,n){const e=t.original;if(e===t)return n;const r=n.value,i=n.value=[];for(let a=0;a<e.length;++a){const o=r[e[a][0]];for(const f of t[a])i[f]=o}return n}function vu(t,n,e){const r=Ko(t,n),i=Ko(t,e);return St(i,(a,o)=>Math.abs(a-r[o]),Float64Array)}function Ko(t,n,e){let r=t[n];if(!r&&e!==void 0&&(r=t[e]),r)return r.value;throw new Error(`missing channel: ${n}`)}function p8(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return H0;case"descending":return W0}throw new Error(`invalid order: ${t}`)}function H0([t,n],[e,r]){return Ee(n,r)||Ee(t,e)}function W0([t,n],[e,r]){return Go(n,r)||Ee(t,e)}function xu(t,n){let e=t[n];if(e){for(;e.source;)e=e.source;return e.source===null?null:e}}function g8(t){let n,e;return(...r)=>((e?.length!==r.length||e.some((i,a)=>i!==r[a]))&&(e=r,n=t(...r)),n)}const m8=g8(t=>new Intl.NumberFormat(t));function b8(t="en-US"){const n=m8(t);return e=>e!=null&&!isNaN(e)?n.format(e):void 0}function y8(t){return h6(t,"Invalid Date")}function w8(t="en-US"){const n=b8(t);return e=>(e instanceof Date?y8:typeof e=="number"?n:_t)(e)}const Le=w8();let Qo=0,Jo;function v8(){const t=Qo;return Qo=0,Jo=void 0,t}function Vn(t){t!==Jo&&(Jo=t,console.warn(t),++Qo)}const Et=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let x8=0;function Mu(){return`plot-clip-${++x8}`}function M8(t,{title:n,href:e,ariaLabel:r,ariaDescription:i,ariaHidden:a,target:o,fill:f,fillOpacity:c,stroke:s,strokeWidth:u,strokeOpacity:d,strokeLinejoin:l,strokeLinecap:h,strokeMiterlimit:p,strokeDasharray:g,strokeDashoffset:m,opacity:v,mixBlendMode:b,imageFilter:M,paintOrder:y,pointerEvents:x,shapeRendering:w,channels:$},{ariaLabel:C,fill:T="currentColor",fillOpacity:N,stroke:_="none",strokeOpacity:L,strokeWidth:I,strokeLinecap:D,strokeLinejoin:S,strokeMiterlimit:F,paintOrder:W}){T===null&&(f=null,c=null),_===null&&(s=null,d=null),Tt(T)?!Tt(_)&&(!Tt(f)||$?.fill)&&(_="none"):Tt(_)&&(!Tt(s)||$?.stroke)&&(T="none");const[H,k]=br(f,T),[U,q]=xt(c,N),[R,Y]=br(s,_),[Q,B]=xt(d,L),[X,P]=xt(v);yr(Y)||(u===void 0&&(u=I),h===void 0&&(h=D),l===void 0&&(l=S),p===void 0&&!q6(l)&&(p=F),!yr(k)&&y===void 0&&(y=W));const[tt,E]=xt(u);return T!==null&&(t.fill=$t(k,"currentColor"),t.fillOpacity=Be(q,1)),_!==null&&(t.stroke=$t(Y,"none"),t.strokeWidth=Be(E,1),t.strokeOpacity=Be(B,1),t.strokeLinejoin=$t(l,"miter"),t.strokeLinecap=$t(h,"butt"),t.strokeMiterlimit=Be(p,4),t.strokeDasharray=$t(g,"none"),t.strokeDashoffset=$t(m,"0")),t.target=_t(o),t.ariaLabel=_t(C),t.ariaDescription=_t(i),t.ariaHidden=_t(a),t.opacity=Be(P,1),t.mixBlendMode=$t(b,"normal"),t.imageFilter=$t(M,"none"),t.paintOrder=$t(y,"normal"),t.pointerEvents=$t(x,"auto"),t.shapeRendering=$t(w,"auto"),{title:{value:n,optional:!0,filter:null},href:{value:e,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:H,scale:"auto",optional:!0},fillOpacity:{value:U,scale:"auto",optional:!0},stroke:{value:R,scale:"auto",optional:!0},strokeOpacity:{value:Q,scale:"auto",optional:!0},strokeWidth:{value:tt,optional:!0},opacity:{value:X,scale:"auto",optional:!0}}}function $8(t,n){n&&t.filter(e=>S0(n[e])).append("title").call(_8,n)}function _8(t,n){n&&t.text(e=>Le(n[e]))}function In(t,{target:n,tip:e},{ariaLabel:r,title:i,fill:a,fillOpacity:o,stroke:f,strokeOpacity:c,strokeWidth:s,opacity:u,href:d}){r&&nt(t,"aria-label",l=>r[l]),a&&nt(t,"fill",l=>a[l]),o&&nt(t,"fill-opacity",l=>o[l]),f&&nt(t,"stroke",l=>f[l]),c&&nt(t,"stroke-opacity",l=>c[l]),s&&nt(t,"stroke-width",l=>s[l]),u&&nt(t,"opacity",l=>u[l]),d&&T8(t,l=>d[l],n),e||$8(t,i)}function B0(t){return t===!0?t="frame":t===!1?t=null:t!=null&&(t=qt(t,"clip",["frame","sphere"])),t}function S8(t,n,e,r){let i;const{clip:a=r.clip}=n;switch(a){case"frame":{const{width:o,height:f,marginLeft:c,marginRight:s,marginTop:u,marginBottom:d}=e,l=Mu();i=`url(#${l})`,t=Mt("svg:g",r).call(h=>h.append("svg:clipPath").attr("id",l).append("rect").attr("x",c).attr("y",u).attr("width",o-s-c).attr("height",f-u-d)).each(function(){this.appendChild(t.node()),t.node=()=>this});break}case"sphere":{const{projection:o}=r;if(!o)throw new Error('the "sphere" clip option requires a projection');const f=Mu();i=`url(#${f})`,t.append("clipPath").attr("id",f).append("path").attr("d",ea(o)({type:"Sphere"}));break}}nt(t,"aria-label",n.ariaLabel),nt(t,"aria-description",n.ariaDescription),nt(t,"aria-hidden",n.ariaHidden),nt(t,"clip-path",i)}function Sn(t,n,e,r){S8(t,n,e,r),nt(t,"fill",n.fill),nt(t,"fill-opacity",n.fillOpacity),nt(t,"stroke",n.stroke),nt(t,"stroke-width",n.strokeWidth),nt(t,"stroke-opacity",n.strokeOpacity),nt(t,"stroke-linejoin",n.strokeLinejoin),nt(t,"stroke-linecap",n.strokeLinecap),nt(t,"stroke-miterlimit",n.strokeMiterlimit),nt(t,"stroke-dasharray",n.strokeDasharray),nt(t,"stroke-dashoffset",n.strokeDashoffset),nt(t,"shape-rendering",n.shapeRendering),nt(t,"filter",n.imageFilter),nt(t,"paint-order",n.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=n;nt(t,"pointer-events",i)}function Tn(t,n){A8(t,"mix-blend-mode",n.mixBlendMode),nt(t,"opacity",n.opacity)}function T8(t,n,e){t.each(function(r){const i=n(r);if(i!=null){const a=this.ownerDocument.createElementNS(ve.svg,"a");a.setAttribute("fill","inherit"),a.setAttributeNS(ve.xlink,"href",i),e!=null&&a.setAttribute("target",e),this.parentNode.insertBefore(a,this).appendChild(this)}})}function nt(t,n,e){e!=null&&t.attr(n,e)}function A8(t,n,e){e!=null&&t.style(n,e)}function An(t,n,{x:e,y:r},i=Et,a=Et){i+=n.dx,a+=n.dy,e?.bandwidth&&(i+=e.bandwidth()/2),r?.bandwidth&&(a+=r.bandwidth()/2),(i||a)&&t.attr("transform",`translate(${i},${a})`)}function $t(t,n){if((t=_t(t))!==n)return t}function Be(t,n){if((t=gt(t))!==n)return t}const C8=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function Uf(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!C8.test(t))throw new Error(`invalid class name: ${t}`);return t}function qf(t,n){if(typeof n=="string")t.property("style",n);else if(n!=null)for(const e of t)Object.assign(e.style,n)}function Ur({frameAnchor:t},{width:n,height:e,marginTop:r,marginRight:i,marginBottom:a,marginLeft:o}){return[/left$/.test(t)?o:/right$/.test(t)?n-i:(o+n-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?e-a:(r+e-a)/2]}function zf(t={}){const{document:n=typeof window<"u"?window.document:void 0,clip:e}=t;return{document:n,clip:B0(e)}}function Mt(t,{document:n}){return nr(Zi(t).call(n.documentElement))}const V0=Math.PI,ln=2*V0,$u=.618;function E8({projection:t,inset:n=0,insetTop:e=n,insetRight:r=n,insetBottom:i=n,insetLeft:a=n}={},o){if(t==null)return;if(typeof t.stream=="function")return t;let f,c,s="frame";if(ce(t)){let x;if({type:t,domain:c,inset:x,insetTop:e=x!==void 0?x:e,insetRight:r=x!==void 0?x:r,insetBottom:i=x!==void 0?x:i,insetLeft:a=x!==void 0?x:a,clip:s=s,...f}=t,t==null)return}typeof t!="function"&&({type:t}=X0(t));const{width:u,height:d,marginLeft:l,marginRight:h,marginTop:p,marginBottom:g}=o,m=u-l-h-a-r,v=d-p-g-e-i;if(t=t?.({width:m,height:v,clip:s,...f}),t==null)return;s=N8(s,l,p,u-h,d-g);let b=l+a,M=p+e,y;if(c!=null){const[[x,w],[$,C]]=ea(t).bounds(c),T=Math.min(m/($-x),v/(C-w));T>0?(b-=(T*(x+$)-m)/2,M-=(T*(w+C)-v)/2,y=Ii({point(N,_){this.stream.point(N*T+b,_*T+M)}})):Vn("Warning: the projection could not be fit to the specified domain; using the default scale.")}return y??=b===0&&M===0?G0():Ii({point(x,w){this.stream.point(x+b,w+M)}}),{stream:x=>t.stream(y.stream(s(x)))}}function X0(t){switch(`${t}`.toLowerCase()){case"albers-usa":return Yt(u2,.7463,.4673);case"albers":return ni(yl,.7463,.4673);case"azimuthal-equal-area":return Yt(s2,4,4);case"azimuthal-equidistant":return Yt(l2,ln,ln);case"conic-conformal":return ni(p2,ln,ln);case"conic-equal-area":return ni(Fi,6.1702,2.9781);case"conic-equidistant":return ni(b2,7.312,3.6282);case"equal-earth":return Yt(w2,5.4133,2.6347);case"equirectangular":return Yt(g2,ln,V0);case"gnomonic":return Yt(v2,3.4641,3.4641);case"identity":return{type:G0};case"reflect-y":return{type:k8};case"mercator":return Yt(d2,ln,ln);case"orthographic":return Yt(x2,2,2);case"stereographic":return Yt(M2,2,2);case"transverse-mercator":return Yt($2,ln,ln);default:throw new Error(`unknown projection type: ${t}`)}}function N8(t,n,e,r,i){if(t===!1||t==null||typeof t=="number")return a=>a;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return el(n,e,r,i);default:throw new Error(`unknown projection clip type: ${t}`)}}function Yt(t,n,e){return{type:({width:r,height:i,rotate:a,precision:o=.15,clip:f})=>{const c=t();return o!=null&&c.precision?.(o),a!=null&&c.rotate?.(a),typeof f=="number"&&c.clipAngle?.(f),c.scale(Math.min(r/n,i/e)),c.translate([r/2,i/2]),c},aspectRatio:e/n}}function ni(t,n,e){const{type:r,aspectRatio:i}=Yt(t,n,e);return{type:a=>{const{parallels:o,domain:f,width:c,height:s}=a,u=r(a);return o!=null&&(u.parallels(o),f===void 0&&u.fitSize([c,s],{type:"Sphere"})),u},aspectRatio:i}}const G0=fe({stream:t=>t}),k8=fe(Ii({point(t,n){this.stream.point(t,-n)}}));function L8(t,n,e,r){const i=e[t],a=e[n],o=i.length,f=e[t]=new Float64Array(o).fill(NaN),c=e[n]=new Float64Array(o).fill(NaN);let s;const u=r.stream({point(d,l){f[s]=d,c[s]=l}});for(s=0;s<o;++s)u.point(i[s],a[s])}function D8({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(ce(t)&&(t=t.type),t!=null)}function I8(t){if(typeof t?.stream=="function")return $u;if(ce(t)&&(t=t.type),t!=null){if(typeof t!="function"){const{aspectRatio:n}=X0(t);if(n)return n}return $u}}function F8(t){const n=[],e=[],r={scale:"x",value:n},i={scale:"y",value:e},a={point(o,f){n.push(o),e.push(f)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const o of t.value)On(o,a);return[r,i]}const j0=new Map([["accent",Xy],["category10",Vy],["dark2",Gy],["paired",jy],["pastel1",Zy],["pastel2",Ky],["set1",Qy],["set2",Jy],["set3",t6],["tableau10",n6]]);function R8(t){return t!=null&&j0.has(`${t}`.toLowerCase())}const _u=new Map([...j0,["brbg",dn(rd,id)],["prgn",dn(ad,od)],["piyg",dn(fd,cd)],["puor",dn(ud,sd)],["rdbu",dn(Bo,Ui)],["rdgy",dn(ld,dd)],["rdylbu",dn(Vo,qi)],["rdylgn",dn(hd,pd)],["spectral",dn(gd,md)],["burd",Su(Bo,Ui)],["buylrd",Su(Vo,qi)],["blues",pt(zd,Yd)],["greens",pt(Hd,Wd)],["greys",pt(Bd,Vd)],["oranges",pt(Kd,Qd)],["purples",pt(Xd,Gd)],["reds",pt(jd,Zd)],["turbo",hn(a0)],["viridis",hn(o0)],["magma",hn(f0)],["inferno",hn(c0)],["plasma",hn(u0)],["cividis",hn(Jd)],["cubehelix",hn(t0)],["warm",hn(n0)],["cool",hn(e0)],["bugn",pt(bd,yd)],["bupu",pt(wd,vd)],["gnbu",pt(xd,Md)],["orrd",pt($d,_d)],["pubu",pt(Ad,Cd)],["pubugn",pt(Sd,Td)],["purd",pt(Ed,Nd)],["rdpu",pt(kd,Ld)],["ylgn",pt(Fd,Rd)],["ylgnbu",pt(Dd,Id)],["ylorbr",pt(Pd,Od)],["ylorrd",pt(Ud,qd)],["rainbow",Tu(r0)],["sinebow",Tu(i0)]]);function pt(t,n){return({length:e})=>e===1?[t[3][1]]:e===2?[t[3][1],t[3][2]]:(e=Math.max(3,Math.floor(e)),e>9?Bt(n,e):t[e])}function dn(t,n){return({length:e})=>e===2?[t[3][0],t[3][2]]:(e=Math.max(3,Math.floor(e)),e>11?Bt(n,e):t[e])}function Su(t,n){return({length:e})=>e===2?[t[3][2],t[3][0]]:(e=Math.max(3,Math.floor(e)),e>11?Bt(r=>n(1-r),e):t[e].slice().reverse())}function hn(t){return({length:n})=>Bt(t,Math.max(2,Math.floor(n)))}function Tu(t){return({length:n})=>Bt(t,Math.floor(n)+1).slice(0,-1)}function Z0(t){const n=`${t}`.toLowerCase();if(!_u.has(n))throw new Error(`unknown ordinal scheme: ${n}`);return _u.get(n)}function _a(t,n){const e=Z0(t),r=typeof e=="function"?e({length:n}):e;return r.length!==n?r.slice(0,n):r}function P8(t,n="greys"){const e=new Set,[r,i]=_a(n,2);for(const a of t)if(a!=null)if(a===!0)e.add(i);else if(a===!1)e.add(r);else return;return[...e]}const Au=new Map([["brbg",id],["prgn",od],["piyg",cd],["puor",sd],["rdbu",Ui],["rdgy",dd],["rdylbu",qi],["rdylgn",pd],["spectral",md],["burd",t=>Ui(1-t)],["buylrd",t=>qi(1-t)],["blues",Yd],["greens",Wd],["greys",Vd],["purples",Gd],["reds",Zd],["oranges",Qd],["turbo",a0],["viridis",o0],["magma",f0],["inferno",c0],["plasma",u0],["cividis",Jd],["cubehelix",t0],["warm",n0],["cool",e0],["bugn",yd],["bupu",vd],["gnbu",Md],["orrd",_d],["pubugn",Td],["pubu",Cd],["purd",Nd],["rdpu",Ld],["ylgnbu",Id],["ylgn",Rd],["ylorbr",Od],["ylorrd",qd],["rainbow",r0],["sinebow",i0]]);function Yf(t){const n=`${t}`.toLowerCase();if(!Au.has(n))throw new Error(`unknown quantitative scheme: ${n}`);return Au.get(n)}const O8=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function U8(t){return t!=null&&O8.has(`${t}`.toLowerCase())}const K0=t=>n=>t(1-n),Qa=[0,1],Cu=new Map([["number",wt],["rgb",Kn],["hsl",em],["hcl",am],["lab",rm]]);function Q0(t){const n=`${t}`.toLowerCase();if(!Cu.has(n))throw new Error(`unknown interpolator: ${n}`);return Cu.get(n)}function qr(t,n,e,{type:r,nice:i,clamp:a,zero:o,domain:f=th(t,e),unknown:c,round:s,scheme:u,interval:d,range:l=st.get(t)===Rr?Z8(e,f):st.get(t)===Pr?K8(e,f):st.get(t)===Or?Qa:void 0,interpolate:h=st.get(t)===_n?u==null&&l!==void 0?Kn:Yf(u!==void 0?u:r==="cyclical"?"rainbow":"turbo"):s?hf:wt,reverse:p}){if(d=Fr(d,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof h!="function"&&(h=Q0(h)),p=!!p,l!==void 0){const g=(f=Lt(f)).length,m=(l=Lt(l)).length;if(g!==m){if(h.length===1)throw new Error("invalid piecewise interpolator");h=Ji(h,l),l=void 0}}if(h.length===1?(p&&(h=K0(h),p=!1),l===void 0&&(l=Float64Array.from(f,(g,m)=>m/(f.length-1)),l.length===2&&(l=Qa)),n.interpolate((l===Qa?fe:Wf)(h))):n.interpolate(h),o){const[g,m]=Nn(f);(g>0||m<0)&&(f=jo(f),ke(f)!==Math.sign(g)?f[f.length-1]=0:f[0]=0)}return p&&(f=mi(f)),n.domain(f).unknown(c),i&&(n.nice(q8(i,r)),f=n.domain()),l!==void 0&&n.range(l),a&&n.clamp(a),{type:r,domain:f,range:l,scale:n,interpolate:h,interval:d}}function q8(t,n){return t===!0?void 0:typeof t=="number"?t:L6(t,n)}function z8(t,n,e){return qr(t,Sf(),n,e)}function Y8(t,n,e){return J0(t,n,{...e,exponent:.5})}function J0(t,n,{exponent:e=1,...r}){return qr(t,Pl().exponent(e),n,{...r,type:"pow"})}function H8(t,n,{base:e=10,domain:r=Q8(n),...i}){return qr(t,Dl().base(e),n,{...i,domain:r})}function W8(t,n,{constant:e=1,...r}){return qr(t,Fl().constant(e),n,r)}function B8(t,n,{range:e,quantiles:r=e===void 0?5:(e=[...e]).length,n:i=r,scheme:a="rdylbu",domain:o=J8(n),unknown:f,interpolate:c,reverse:s}){return e===void 0&&(e=c!==void 0?Bt(c,i):st.get(t)===_n?_a(a,i):void 0),o.length>0&&(o=Ol(o,e===void 0?{length:i}:e).quantiles()),Hf(t,n,{domain:o,range:e,reverse:s,unknown:f})}function V8(t,n,{range:e,n:r=e===void 0?5:(e=[...e]).length,scheme:i="rdylbu",domain:a=th(t,n),unknown:o,interpolate:f,reverse:c}){const[s,u]=Nn(a);let d;return e===void 0?(d=pi(s,u,r),d[0]<=s&&d.splice(0,1),d[d.length-1]>=u&&d.pop(),r=d.length+1,e=f!==void 0?Bt(f,r):st.get(t)===_n?_a(i,r):void 0):(d=Bt(wt(s,u),r+1).slice(1,-1),s instanceof Date&&(d=d.map(l=>new Date(l)))),ke(Lt(a))<0&&d.reverse(),Hf(t,n,{domain:d,range:e,reverse:c,unknown:o})}function Hf(t,n,{domain:e=[0],unknown:r,scheme:i="rdylbu",interpolate:a,range:o=a!==void 0?Bt(a,e.length+1):st.get(t)===_n?_a(i,e.length+1):void 0,reverse:f}){e=Lt(e);const c=ke(e);if(!isNaN(c)&&!X8(e,c))throw new Error(`the ${t} scale has a non-monotonic domain`);return f&&(o=mi(o)),{type:"threshold",scale:Ul(c<0?mi(e):e,o===void 0?[]:o).unknown(r),domain:e,range:o}}function X8(t,n){for(let e=1,r=t.length,i=t[0];e<r;++e){const a=Xn(i,i=t[e]);if(a!==0&&a!==n)return!1}return!0}function G8(t){return{type:"identity",scale:W6(st.get(t))?Nl():n=>n}}function vr(t,n=T0){return t.length?[fr(t,({value:e})=>e===void 0?e:fr(e,n)),an(t,({value:e})=>e===void 0?e:an(e,n))]:[0,1]}function th(t,n){const e=st.get(t);return(e===Rr||e===Or||e===Pr?j8:vr)(n)}function j8(t){return[0,t.length?an(t,({value:n})=>n===void 0?n:an(n,T0)):1]}function Z8(t,n){const e=t.find(({radius:o})=>o!==void 0);if(e!==void 0)return[0,e.radius];const r=gi(t,.5,({value:o})=>o===void 0?NaN:gi(o,.25,Lr)),i=n.map(o=>3*Math.sqrt(o/r)),a=30/an(i);return a<1?i.map(o=>o*a):i}function K8(t,n){const e=ho(t,({value:a})=>a===void 0?NaN:ho(a,Math.abs)),r=n.map(a=>12*a/e),i=60/an(r);return i<1?r.map(a=>a*i):r}function Q8(t){for(const{value:n}of t)if(n!==void 0)for(let e of n){if(e>0)return vr(t,Lr);if(e<0)return vr(t,ma)}return[1,10]}function J8(t){const n=[];for(const{value:e}of t)if(e!==void 0)for(const r of e)n.push(r);return n}function Wf(t){return(n,e)=>r=>t(n+r*(e-n))}function Sa(t,n,e,r,{type:i,nice:a,clamp:o,domain:f=vr(r),unknown:c,pivot:s=0,scheme:u,range:d,symmetric:l=!0,interpolate:h=st.get(t)===_n?u==null&&d!==void 0?Kn:Yf(u!==void 0?u:"rdbu"):wt,reverse:p}){s=+s,f=Lt(f);let[g,m]=f;if(f.length>2&&Vn(`Warning: the diverging ${t} scale domain contains extra elements.`),Xn(g,m)<0&&([g,m]=[m,g],p=!p),g=Math.min(g,s),m=Math.max(m,s),typeof h!="function"&&(h=Q0(h)),d!==void 0&&(h=h.length===1?Wf(h)(...d):Ji(h,d)),p&&(h=K0(h)),l){const v=e.apply(s),b=v-e.apply(g),M=e.apply(m)-v;b<M?g=e.invert(v-M):b>M&&(m=e.invert(v+b))}return n.domain([g,s,m]).unknown(c).interpolator(h),o&&n.clamp(o),a&&n.nice(a),{type:i,domain:[g,m],pivot:s,interpolate:h,scale:n}}function t5(t,n,e){return Sa(t,Jl(),i5,n,e)}function n5(t,n,e){return nh(t,n,{...e,exponent:.5})}function nh(t,n,{exponent:e=1,...r}){return Sa(t,ed().exponent(e=+e),f5(e),n,{...r,type:"diverging-pow"})}function e5(t,n,{base:e=10,pivot:r=1,domain:i=vr(n,r<0?ma:Lr),...a}){return Sa(t,td().base(e=+e),a5,n,{domain:i,pivot:r,...a})}function r5(t,n,{constant:e=1,...r}){return Sa(t,nd().constant(e=+e),c5(e),n,r)}const i5={apply(t){return t},invert(t){return t}},a5={apply:Math.log,invert:Math.exp},o5={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function f5(t){return t===.5?o5:{apply(n){return Math.sign(n)*Math.pow(Math.abs(n),t)},invert(n){return Math.sign(n)*Math.pow(Math.abs(n),1/t)}}}function c5(t){return{apply(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))},invert(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}}function eh(t,n,e,r){return qr(t,n,e,r)}function u5(t,n,e){return eh(t,Wy(),n,e)}function s5(t,n,e){return eh(t,By(),n,e)}const zr=Symbol("ordinal");function rh(t,n,e,{type:r,interval:i,domain:a,range:o,reverse:f,hint:c}){return i=Fr(i,r),a===void 0&&(a=ah(e,i,t)),(r==="categorical"||r===zr)&&(r="ordinal"),f&&(a=mi(a)),a=n.domain(a).domain(),o!==void 0&&(typeof o=="function"&&(o=o(a)),n.range(o)),{type:r,domain:a,range:o,scale:n,hint:c,interval:i}}function l5(t,n,{type:e,interval:r,domain:i,range:a,scheme:o,unknown:f,...c}){r=Fr(r,e),i===void 0&&(i=ah(n,r,t));let s;if(st.get(t)===$a)s=p5(n),a=a===void 0?g5(s):St(a,Pf);else if(st.get(t)===_n&&(a===void 0&&(e==="ordinal"||e===zr)&&(a=P8(i,o),a!==void 0&&(o=void 0)),o===void 0&&a===void 0&&(o=e==="ordinal"?"turbo":"tableau10"),o!==void 0))if(a!==void 0){const u=Yf(o),d=a[0],l=a[1]-a[0];a=({length:h})=>Bt(p=>u(d+l*p),h)}else a=Z0(o);if(f===Yo)throw new Error(`implicit unknown on ${t} scale is not supported`);return rh(t,_f().unknown(f),n,{...c,type:e,domain:i,range:a,hint:s})}function d5(t,n,{align:e=.5,padding:r=.5,...i}){return ih(_2().align(e).padding(r),n,i,t)}function h5(t,n,{align:e=.5,padding:r=.1,paddingInner:i=r,paddingOuter:a=t==="fx"||t==="fy"?0:r,...o}){return ih(oa().align(e).paddingInner(i).paddingOuter(a),n,o,t)}function ih(t,n,e,r){let{round:i}=e;return i!==void 0&&t.round(i=!!i),t=rh(r,t,n,e),t.round=i,t}function ah(t,n,e){const r=new Gi;for(const{value:i,domain:a}of t){if(a!==void 0)return a();if(i!==void 0)for(const o of i)r.add(o)}if(n!==void 0){const[i,a]=Nn(r).map(n.floor,n);return n.range(i,n.offset(a))}if(r.size>1e4&&st.get(e)===tn)throw new Error(`implicit ordinal domain of ${e} scale has more than 10,000 values`);return M1(r,Ee)}function Eu(t,n){let e;for(const{hint:r}of t){const i=r?.[n];if(i!==void 0){if(e===void 0)e=i;else if(e!==i)return}}return e}function p5(t){return{fill:Eu(t,"fill"),stroke:Eu(t,"stroke")}}function g5(t){return Tt(t.fill)?d6:l6}function tf(t,{label:n,inset:e=0,insetTop:r=e,insetRight:i=e,insetBottom:a=e,insetLeft:o=e,round:f,nice:c,clamp:s,zero:u,align:d,padding:l,projection:h,facet:{label:p=n}={},...g}={}){const m={};for(const[v,b]of t){const M=g[v],y=w5(v,b,{round:st.get(v)===tn?f:void 0,nice:c,clamp:s,zero:u,align:d,padding:l,projection:h,...M});if(y){let{label:x=v==="fx"||v==="fy"?p:n,percent:w,transform:$,inset:C,insetTop:T=C!==void 0?C:v==="y"?r:0,insetRight:N=C!==void 0?C:v==="x"?i:0,insetBottom:_=C!==void 0?C:v==="y"?a:0,insetLeft:L=C!==void 0?C:v==="x"?o:0}=M||{};if($==null)$=void 0;else if(typeof $!="function")throw new Error("invalid scale transform; not a function");y.percent=!!w,y.label=x===void 0?b5(b,y):x,y.transform=$,v==="x"||v==="fx"?(y.insetLeft=+L,y.insetRight=+N):(v==="y"||v==="fy")&&(y.insetTop=+T,y.insetBottom=+_),m[v]=y}}return m}function Nu(t){const n={},e={scales:n};for(const[r,i]of Object.entries(t)){const{scale:a,type:o,interval:f,label:c}=i;n[r]=_5(i),e[r]=a,a.type=o,f!=null&&(a.interval=f),c!=null&&(a.label=c)}return e}function m5(t,n){const{x:e,y:r,fx:i,fy:a}=t,o=i||a?Bf(n):n;i&&ku(i,o),a&&Lu(a,o);const f=i||a?oh(t,n):n;e&&ku(e,f),r&&Lu(r,f)}function b5(t=[],n){let e;for(const{label:r}of t)if(r!==void 0){if(e===void 0)e=r;else if(e!==r)return}if(e!==void 0)return!se(n)&&n.percent&&(e=`${e} (%)`),{inferred:!0,toString:()=>e}}function Bf(t){const{marginTop:n,marginRight:e,marginBottom:r,marginLeft:i,width:a,height:o,facet:{marginTop:f,marginRight:c,marginBottom:s,marginLeft:u}}=t;return{marginTop:Math.max(n,f),marginRight:Math.max(e,c),marginBottom:Math.max(r,s),marginLeft:Math.max(i,u),width:a,height:o}}function oh({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:f,height:c}=Bf(e);return{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:t?t.scale.bandwidth()+o+i:f,height:n?n.scale.bandwidth()+r+a:c,facet:{width:f,height:c}}}function ku(t,n){if(t.range===void 0){const{insetLeft:e,insetRight:r}=t,{width:i,marginLeft:a=0,marginRight:o=0}=n,f=a+e,c=i-o-r;t.range=[f,Math.max(f,c)],se(t)||(t.range=ch(t)),t.scale.range(t.range)}fh(t)}function Lu(t,n){if(t.range===void 0){const{insetTop:e,insetBottom:r}=t,{height:i,marginTop:a=0,marginBottom:o=0}=n,f=a+e,c=i-o-r;t.range=[Math.max(f,c),f],se(t)?t.range.reverse():t.range=ch(t),t.scale.range(t.range)}fh(t)}function fh(t){t.round===void 0&&x5(t)&&y5(t)<=30&&t.scale.round(!0)}function y5({scale:t}){const n=t.domain().length,[e,r]=t.range(),i=t.paddingInner?t.paddingInner():1,a=t.paddingOuter?t.paddingOuter():t.padding(),o=n-i,f=Math.abs(r-e)/Math.max(1,o+a*2);return(f-Math.floor(f))*o}function ch(t){const n=t.scale.domain().length+uh(t);if(!(n>2))return t.range;const[e,r]=t.range;return Array.from({length:n},(i,a)=>e+a/(n-1)*(r-e))}function w5(t,n=[],e={}){const r=v5(t,n,e);if(e.type===void 0&&e.domain===void 0&&e.range===void 0&&e.interval==null&&t!=="fx"&&t!=="fy"&&se({type:r})){const i=n.map(({value:a})=>a).filter(a=>a!==void 0);i.some(fn)?Vn(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${pe(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${pe(r)}".`):i.some(F6)?Vn(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${pe(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${pe(r)}".`):i.some(R6)&&Vn(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${pe(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${pe(r)}".`)}switch(e.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":e=ei(n,e,gu);break;case"identity":switch(st.get(t)){case tn:e=ei(n,e,gu);break;case $a:e=ei(n,e,M5);break}break;case"utc":case"time":e=ei(n,e,C6);break}switch(r){case"diverging":return t5(t,n,e);case"diverging-sqrt":return n5(t,n,e);case"diverging-pow":return nh(t,n,e);case"diverging-log":return e5(t,n,e);case"diverging-symlog":return r5(t,n,e);case"categorical":case"ordinal":case zr:return l5(t,n,e);case"cyclical":case"sequential":case"linear":return z8(t,n,e);case"sqrt":return Y8(t,n,e);case"threshold":return Hf(t,n,e);case"quantile":return B8(t,n,e);case"quantize":return V8(t,n,e);case"pow":return J0(t,n,e);case"log":return H8(t,n,e);case"symlog":return W8(t,n,e);case"utc":return s5(t,n,e);case"time":return u5(t,n,e);case"point":return d5(t,n,e);case"band":return h5(t,n,e);case"identity":return G8(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function pe(t){return typeof t=="symbol"?t.description:t}const Du={toString:()=>"projection"};function v5(t,n,{type:e,domain:r,range:i,scheme:a,pivot:o,projection:f}){if(t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&f!=null&&(e=Du);for(const{type:s}of n)if(s!==void 0){if(e===void 0)e=s;else if(e!==s)throw new Error(`scale incompatible with channel: ${e} !== ${s}`)}if(e===Du)return;if(e!==void 0)return e;if(r===void 0&&!n.some(({value:s})=>s!==void 0))return;const c=st.get(t);if(c===Rr)return"sqrt";if(c===Or||c===Pr)return"linear";if(c===$a)return"ordinal";if((r||i||[]).length>2)return Ja(c);if(r!==void 0){if(mu(r))return Ja(c);if(fn(r))return"utc"}else{const s=n.map(({value:u})=>u).filter(u=>u!==void 0);if(s.some(mu))return Ja(c);if(s.some(fn))return"utc"}if(c===_n){if(o!=null||U8(a))return"diverging";if(R8(a))return"categorical"}return"linear"}function Ja(t){switch(t){case tn:return"point";case _n:return zr;default:return"ordinal"}}function se({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===zr}function uh({type:t}){return t==="threshold"}function x5({type:t}){return t==="point"||t==="band"}function Hi(t){if(t===void 0)return!0;const n=t.domain(),e=t(n[0]);for(let r=1,i=n.length;r<i;++r)if(t(n[r])-e)return!1;return!0}function ei(t,{domain:n,...e},r){for(const i of t)i.value!==void 0&&(i.value=r(i.value));return{domain:n===void 0?n:r(n),...e}}function M5(t){return St(t,Pf)}function $5(t){return n=>{if(!st.has(n=`${n}`))throw new Error(`unknown scale: ${n}`);return t[n]}}function _5({scale:t,type:n,domain:e,range:r,interpolate:i,interval:a,transform:o,percent:f,pivot:c}){if(n==="identity")return{type:"identity",apply:u=>u,invert:u=>u};const s=t.unknown?t.unknown():void 0;return{type:n,domain:jo(e),...r!==void 0&&{range:jo(r)},...o!==void 0&&{transform:o},...f&&{percent:f},...s!==void 0&&{unknown:s},...a!==void 0&&{interval:a},...i!==void 0&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...c!==void 0&&{pivot:c,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:u=>t(u),...t.invert&&{invert:u=>t.invert(u)}}}function S5(t,n,e={}){let r=.5-Et,i=.5+Et,a=.5+Et,o=.5-Et;for(const{marginTop:g,marginRight:m,marginBottom:v,marginLeft:b}of n)g>r&&(r=g),m>i&&(i=m),v>a&&(a=v),b>o&&(o=b);let{margin:f,marginTop:c=f!==void 0?f:r,marginRight:s=f!==void 0?f:i,marginBottom:u=f!==void 0?f:a,marginLeft:d=f!==void 0?f:o}=e;c=+c,s=+s,u=+u,d=+d;let{width:l=640,height:h=T5(t,e,{width:l,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:a,marginLeftDefault:o})+Math.max(0,c-r+u-a)}=e;l=+l,h=+h;const p={width:l,height:h,marginTop:c,marginRight:s,marginBottom:u,marginLeft:d};if(t.fx||t.fy){let{margin:g,marginTop:m=g!==void 0?g:c,marginRight:v=g!==void 0?g:s,marginBottom:b=g!==void 0?g:u,marginLeft:M=g!==void 0?g:d}=e.facet??{};m=+m,v=+v,b=+b,M=+M,p.facet={marginTop:m,marginRight:v,marginBottom:b,marginLeft:M}}return p}function T5({x:t,y:n,fy:e,fx:r},{projection:i,aspectRatio:a},{width:o,marginTopDefault:f,marginRightDefault:c,marginBottomDefault:s,marginLeftDefault:u}){const d=e?e.scale.domain().length:1,l=I8(i);if(l){const p=r?r.scale.domain().length:1,g=(1.1*d-.1)/(1.1*p-.1)*l,m=Math.max(.1,Math.min(10,g));return Math.round((o-u-c)*m+f+s)}const h=n?se(n)?n.scale.domain().length:Math.max(7,17/d):1;if(a!=null){if(a=+a,!(isFinite(a)&&a>0))throw new Error(`invalid aspectRatio: ${a}`);const p=Iu("y",n)/(Iu("x",t)*a),g=r?r.scale.bandwidth():1,m=e?e.scale.bandwidth():1,v=g*(o-u-c)-t.insetLeft-t.insetRight;return(p*v+n.insetTop+n.insetBottom)/m+f+s}return!!(n||e)*Math.max(1,Math.min(60,h*d))*20+!!r*30+60}function Iu(t,n){if(!n)throw new Error(`aspectRatio requires ${t} scale`);const{type:e,domain:r}=n;let i;switch(e){case"linear":case"utc":case"time":i=Number;break;case"pow":{const f=n.scale.exponent();i=c=>Math.pow(c,f);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${e}`)}const[a,o]=Nn(r);return Math.abs(i(o)-i(a))}function A5(t,n){const{fx:e,fy:r}=tf(t,n),i=e?.scale.domain(),a=r?.scale.domain();return i&&a?b1(i,a).map(([o,f],c)=>({x:o,y:f,i:c})):i?i.map((o,f)=>({x:o,i:f})):a?a.map((o,f)=>({y:o,i:f})):void 0}function C5(t,{x:n,y:e}){return n&&=nf(n),e&&=nf(e),t.filter(n&&e?r=>n.has(r.x)&&e.has(r.y):n?r=>n.has(r.x):r=>e.has(r.y)).sort(n&&e?(r,i)=>n.get(r.x)-n.get(i.x)||e.get(r.y)-e.get(i.y):n?(r,i)=>n.get(r.x)-n.get(i.x):(r,i)=>e.get(r.y)-e.get(i.y))}function Vf(t,{fx:n,fy:e}){const r=Ir(t),i=n?.value,a=e?.value;return n&&e?Ca(r,o=>(o.fx=i[o[0]],o.fy=a[o[0]],o),o=>i[o],o=>a[o]):n?Ca(r,o=>(o.fx=i[o[0]],o),o=>i[o]):Ca(r,o=>(o.fy=a[o[0]],o),o=>a[o])}function E5(t,n,{marginTop:e,marginLeft:r}){return t&&n?({x:i,y:a})=>`translate(${t(i)-r},${n(a)-e})`:t?({x:i})=>`translate(${t(i)-r},0)`:({y:i})=>`translate(0,${n(i)-e})`}function N5(t){const n=[],e=new Uint32Array(of(t,r=>r.length));for(const r of t){let i=0;for(const a of t)r!==a&&(e.set(a,i),i+=a.length);n.push(e.slice(0,i))}return n}const k5=new Map([["top",to],["right",ro],["bottom",no],["left",eo],["top-left",ri(to,eo)],["top-right",ri(to,ro)],["bottom-left",ri(no,eo)],["bottom-right",ri(no,ro)],["top-empty",I5],["right-empty",P5],["bottom-empty",F5],["left-empty",R5],["empty",O5]]);function L5(t){if(t==null)return null;const n=k5.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid facet anchor: ${t}`)}const Fu=new WeakMap;function nf(t){let n=Fu.get(t);return n||Fu.set(t,n=new or(St(t,(e,r)=>[e,r]))),n}function Fn(t,n){return nf(t).get(n)}function D5(t,n,e){return n=ti(n),e=ti(e),t.find(r=>Object.is(ti(r.x),n)&&Object.is(ti(r.y),e))}function Ta(t,n,e){return D5(t,n,e)?.empty}function to(t,{y:n},{y:e}){return n?Fn(n,e)===0:!0}function no(t,{y:n},{y:e}){return n?Fn(n,e)===n.length-1:!0}function eo(t,{x:n},{x:e}){return n?Fn(n,e)===0:!0}function ro(t,{x:n},{x:e}){return n?Fn(n,e)===n.length-1:!0}function I5(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const a=Fn(n,r);if(a>0)return Ta(t,e,n[a-1])}function F5(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const a=Fn(n,r);if(a<n.length-1)return Ta(t,e,n[a+1])}function R5(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const a=Fn(n,e);if(a>0)return Ta(t,n[a-1],r)}function P5(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const a=Fn(n,e);if(a<n.length-1)return Ta(t,n[a+1],r)}function O5(t,n,{empty:e}){return e}function ri(t,n){return function(){return t.apply(null,arguments)&&n.apply(null,arguments)}}function io(t,{channels:{fx:n,fy:e},groups:r}){return n&&e?t.map(({x:i,y:a})=>r.get(i)?.get(a)??[]):n?t.map(({x:i})=>r.get(i)??[]):t.map(({y:i})=>r.get(i)??[])}class zt{constructor(n,e={},r={},i){const{facet:a="auto",facetAnchor:o,fx:f,fy:c,sort:s,dx:u=0,dy:d=0,margin:l=0,marginTop:h=l,marginRight:p=l,marginBottom:g=l,marginLeft:m=l,clip:v=i?.clip,channels:b,tip:M,render:y}=r;if(this.data=n,this.sort=Ne(s)?s:null,this.initializer=re(r).initializer,this.transform=this.initializer?r.transform:U0(r).transform,a===null||a===!1?this.facet=null:(this.facet=qt(a===!0?"include":a,"facet",["auto","include","exclude","super"]),this.fx=n===li&&typeof f=="string"?[f]:f,this.fy=n===li&&typeof c=="string"?[c]:c),this.facetAnchor=L5(o),e=P0(e),b!==void 0&&(e={...U5(b),...e}),i!==void 0&&(e={...M8(this,r,i),...e}),this.channels=Object.fromEntries(Object.entries(e).map(([x,w])=>{if(ya(w.value)){const{value:$,label:C=w.label,scale:T=w.scale}=w.value;w={...w,label:C,scale:T,value:$}}if(n===li&&typeof w.value=="string"){const{value:$}=w;w={...w,value:[$]}}return[x,w]}).filter(([x,{value:w,optional:$}])=>{if(w!=null)return!0;if($)return!1;throw new Error(`missing channel value: ${x}`)})),this.dx=+u,this.dy=+d,this.marginTop=+h,this.marginRight=+p,this.marginBottom=+g,this.marginLeft=+m,this.clip=B0(v),this.tip=q5(M),this.facet==="super"){if(f||c)throw new Error("super-faceting cannot use fx or fy");for(const x in this.channels){const{scale:w}=e[x];if(!(w!=="x"&&w!=="y"))throw new Error("super-faceting cannot use x or y")}}y!=null&&(this.render=lh(y,this.render))}initialize(n,e,r){let i=Lt(this.data);n===void 0&&i!=null&&(n=[Ir(i)]);const a=n;this.transform!=null&&({facets:n,data:i}=this.transform(i,n,r),i=Lt(i)),n!==void 0&&(n.original=a);const o=u8(this.channels,i);return this.sort!=null&&l8(i,n,o,e,this.sort),{data:i,facets:n,channels:o}}filter(n,e,r){for(const i in e){const{filter:a=ee}=e[i];if(a!==null){const o=r[i];n=n.filter(f=>a(o[f]))}}return n}project(n,e,r){for(const i in n)if(n[i].scale==="x"&&/^x|x$/.test(i)){const a=i.replace(/^x|x$/,"y");a in n&&n[a].scale==="y"&&L8(i,a,e,r.projection)}}scale(n,e,r){const i=s8(n,e);return r.projection&&this.project(n,i,r),i}}function sh(...t){return t.plot=zt.prototype.plot,t}function lh(t,n){if(t==null)return n===null?void 0:n;if(n==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof n!="function")throw new TypeError(`invalid render transform: ${n}`);return function(e,r,i,a,o,f){return t.call(this,e,r,i,a,o,(c,s,u,d,l)=>n.call(this,c,s,u,d,l,f))}}function U5(t){return Object.fromEntries(Object.entries(P0(t)).map(([n,e])=>(e=typeof e=="string"?{value:e,label:n}:va(e),e.filter===void 0&&e.scale==null&&(e={...e,filter:null}),[n,e])))}function q5(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?qt(t,"tip",["x","y","xy"]):t}function dh(t,n){return t?.tip===!0?{...t,tip:n}:ce(t?.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:n}}:t}const Ru=new WeakMap;function Xf(t,n,{x:e,y:r,px:i,py:a,maxRadius:o=40,channels:f,render:c,...s}={}){return o=+o,i!=null&&(e??=null,f={...f,px:{value:i,scale:"x"}}),a!=null&&(r??=null,f={...f,py:{value:a,scale:"y"}}),{x:e,y:r,channels:f,...s,render:lh(function(u,d,l,h,p,g){p={...p,pointerSticky:!1};const m=p.ownerSVGElement,{data:v}=p.getMarkState(this);let b=Ru.get(m);b||Ru.set(m,b={sticky:!1,roots:[],renders:[]});let M=b.renders.push(Y)-1;const{x:y,y:x,fx:w,fy:$}=d;let C=w?w(u.fx)-h.marginLeft:0,T=$?$(u.fy)-h.marginTop:0;y?.bandwidth&&(C+=y.bandwidth()/2),x?.bandwidth&&(T+=x.bandwidth()/2);const N=u.fi!=null;let _;if(N){let P=b.facetStates;P||(b.facetStates=P=new Map),_=P.get(this),_||P.set(this,_=new Map)}const[L,I]=Ur(this,h),{px:D,py:S}=l,F=D?P=>D[P]:hh(l,L),W=S?P=>S[P]:ph(l,I);let H,k,U,q;function R(P,tt){if(N)if(q&&(q=cancelAnimationFrame(q)),P==null)_.delete(u.fi);else{_.set(u.fi,tt),q=requestAnimationFrame(()=>{q=null;for(const[E,O]of _)if(O<tt||O===tt&&E<u.fi){P=null;break}Y(P)});return}Y(P)}function Y(P){if(H===P&&U===b.sticky)return;H=P,U=p.pointerSticky=b.sticky;const tt=H==null?[]:[H];N&&(tt.fx=u.fx,tt.fy=u.fy,tt.fi=u.fi);const E=g(tt,d,l,h,p);if(k){if(N){const O=k.parentNode,z=k.getAttribute("transform"),A=E.getAttribute("transform");z?E.setAttribute("transform",z):E.removeAttribute("transform"),A?O.setAttribute("transform",A):O.removeAttribute("transform"),E.removeAttribute("aria-label"),E.removeAttribute("aria-description"),E.removeAttribute("aria-hidden")}k.replaceWith(E)}return b.roots[M]=k=E,H==null&&_?.size>1||p.dispatchValue(H==null?null:v[H]),E}function Q(P){if(b.sticky||P.pointerType==="mouse"&&P.buttons===1)return;let[tt,E]=_g(P);tt-=C,E-=T;const O=tt<h.marginLeft||tt>h.width-h.marginRight?1:t,z=E<h.marginTop||E>h.height-h.marginBottom?1:n;let A=null,at=o*o;for(const V of u){const ct=O*(F(V)-tt),lt=z*(W(V)-E),Ct=ct*ct+lt*lt;Ct<=at&&(A=V,at=Ct)}if(A!=null&&(t!==1||n!==1)){const V=F(A)-tt,ct=W(A)-E;at=V*V+ct*ct}R(A,at)}function B(P){P.pointerType==="mouse"&&H!=null&&(b.sticky&&b.roots.some(tt=>tt?.contains(P.target))||(b.sticky?(b.sticky=!1,b.renders.forEach(tt=>tt(null))):(b.sticky=!0,Y(H)),P.stopImmediatePropagation()))}function X(P){P.pointerType==="mouse"&&(b.sticky||R(null))}return m.addEventListener("pointerenter",Q),m.addEventListener("pointermove",Q),m.addEventListener("pointerdown",B),m.addEventListener("pointerleave",X),Y(null)},c)}}function z5(t){return Xf(1,1,t)}function Y5(t){return Xf(1,.01,t)}function H5(t){return Xf(.01,1,t)}function hh({x1:t,x2:n,x:e=t},r){return t&&n?i=>(t[i]+n[i])/2:e?i=>e[i]:()=>r}function ph({y1:t,y2:n,y:e=t},r){return t&&n?i=>(t[i]+n[i])/2:e?i=>e[i]:()=>r}function gh(t){return se(t)&&t.interval===void 0?void 0:"tabular-nums"}function W5(t,n){let{label:e=t.label,tickSize:r=6,width:i=240,height:a=44+r,marginTop:o=18,marginRight:f=0,marginBottom:c=16+r,marginLeft:s=0,style:u,ticks:d=(i-s-f)/64,tickFormat:l,fontVariant:h=gh(t),round:p=!0,opacity:g,className:m}=n;const v=zf(n);m=Uf(m),g=xt(g)[1],l===null&&(l=()=>null);const b=Mt("svg",v).attr("class",`${m}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",a).attr("viewBox",`0 0 ${i} ${a}`).call(L=>L.append("style").text(`.${m}-ramp {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
.${m}-ramp text {
  white-space: pre;
}`)).call(qf,u);let M=L=>L.selectAll(".tick line").attr("y1",o+c-a),y;const x=p?(L,I)=>L.rangeRound(I):(L,I)=>L.range(I),{type:w,domain:$,range:C,interpolate:T,scale:N,pivot:_}=t;if(T){const L=C===void 0?T:Ji(T.length===1?Wf(T):T,C);y=x(N.copy(),Bt(wt(s,i-f),Math.min($.length+(_!==void 0),C===void 0?1/0:C.length)));const I=256,D=v.document.createElement("canvas");D.width=I,D.height=1;const S=D.getContext("2d");for(let F=0,W=I-1;F<I;++F)S.fillStyle=L(F/W),S.fillRect(F,0,1,1);b.append("image").attr("opacity",g).attr("x",s).attr("y",o).attr("width",i-s-f).attr("height",a-o-c).attr("preserveAspectRatio","none").attr("xlink:href",D.toDataURL())}else if(w==="threshold"){const L=$,I=l===void 0?D=>D:typeof l=="string"?Fe(l):l;y=x(Sf().domain([-1,C.length-1]),[s,i-f]),b.append("g").attr("fill-opacity",g).selectAll().data(C).enter().append("rect").attr("x",(D,S)=>y(S-1)).attr("y",o).attr("width",(D,S)=>y(S)-y(S-1)).attr("height",a-o-c).attr("fill",D=>D),d=St(L,(D,S)=>S),l=D=>I(L[D],D)}else y=x(oa().domain($),[s,i-f]),b.append("g").attr("fill-opacity",g).selectAll().data($).enter().append("rect").attr("x",y).attr("y",o).attr("width",Math.max(0,y.bandwidth()-1)).attr("height",a-o-c).attr("fill",N),M=()=>{};return b.append("g").attr("transform",`translate(0,${a-c})`).call(z1(y).ticks(Array.isArray(d)?null:d,typeof l=="string"?l:void 0).tickFormat(typeof l=="function"?l:void 0).tickSize(r).tickValues(Array.isArray(d)?d:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",$t(h,"normal")).call(M).call(L=>L.select(".domain").remove()),e!==void 0&&b.append("text").attr("x",s).attr("y",o-6).attr("fill","currentColor").attr("font-weight","bold").text(e),b.node()}const Wi=Math.PI/180;function mh(t,{marker:n,markerStart:e=n,markerMid:r=n,markerEnd:i=n}={}){t.markerStart=ao(e),t.markerMid=ao(r),t.markerEnd=ao(i)}function ao(t){if(t==null||t===!1)return null;if(t===!0)return Ou;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return Pu("auto");case"arrow-reverse":return Pu("auto-start-reverse");case"dot":return B5;case"circle":case"circle-fill":return Ou;case"circle-stroke":return V5}throw new Error(`invalid marker: ${t}`)}function Pu(t){return(n,e)=>Mt("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",n).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function B5(t,n){return Mt("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(e=>e.append("circle").attr("r",2.5)).node()}function Ou(t,n){return Mt("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","white").attr("stroke-width",1.5).call(e=>e.append("circle").attr("r",3)).node()}function V5(t,n){return Mt("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","white").attr("stroke",t).attr("stroke-width",1.5).call(e=>e.append("circle").attr("r",3)).node()}let X5=0;function bh(t,n,{stroke:e},r){return G5(t,n,e&&(i=>e[i]),r)}function G5(t,{markerStart:n,markerMid:e,markerEnd:r,stroke:i},a=()=>i,o){const f=new Map;function c(s){return function(u){const d=a(u);let l=f.get(s);l||f.set(s,l=new Map);let h=l.get(d);if(!h){const p=this.parentNode.insertBefore(s(d,o),this),g=`plot-marker-${++X5}`;p.setAttribute("id",g),l.set(d,h=`url(#${g})`)}return h}}n&&t.attr("marker-start",c(n)),e&&t.attr("marker-mid",c(e)),r&&t.attr("marker-end",c(r))}function yh({inset:t,insetLeft:n,insetRight:e,...r}={}){return[n,e]=vh(t,n,e),{inset:t,insetLeft:n,insetRight:e,...r}}function wh({inset:t,insetTop:n,insetBottom:e,...r}={}){return[n,e]=vh(t,n,e),{inset:t,insetTop:n,insetBottom:e,...r}}function vh(t,n,e){return t===void 0&&n===void 0&&e===void 0?Et?[1,0]:[.5,.5]:[n,e]}function xh(t,{interval:n}){return t={...va(t)},t.interval=If(t.interval===void 0?n:t.interval),t}function Mh(t,n,e,r){const{[t]:i,[`${t}1`]:a,[`${t}2`]:o}=e,{value:f,interval:c}=xh(i,e);if(f==null||c==null&&!r)return e;const s=wa(i);if(c==null){let h;const p={transform:g=>h||(h=$n(g,f)),label:s};return{...e,[t]:void 0,[`${t}1`]:a===void 0?p:a,[`${t}2`]:o===void 0?p:o}}let u,d;function l(h){return d!==void 0&&h===u?d:d=St($n(u=h,f),p=>c.floor(p))}return n({...e,[t]:void 0,[`${t}1`]:a===void 0?{transform:l,label:s}:a,[`${t}2`]:o===void 0?{transform:h=>l(h).map(p=>c.offset(p)),label:s}:o})}function $h(t,n,e){const{[t]:r}=e,{value:i,interval:a}=xh(r,e);return i==null||a==null?e:n({...e,[t]:{label:wa(r),transform:o=>{const f=St($n(o,i),s=>a.floor(s)),c=f.map(s=>a.offset(s));return f.map(fn(f)?(s,u)=>s==null||isNaN(s=+s)||(u=c[u],u==null)||isNaN(u=+u)?void 0:new Date((s+u)/2):(s,u)=>s==null||(u=c[u],u==null)?NaN:(+s+ +u)/2)}}})}function j5(t={}){return Mh("x",yh,t)}function Z5(t={}){return Mh("y",wh,t)}function K5(t={}){return $h("x",yh,t)}function Q5(t={}){return $h("y",wh,t)}const _h={ariaLabel:"rule",fill:null,stroke:"currentColor"};class J5 extends zt{constructor(n,e={}){const{x:r,y1:i,y2:a,inset:o=0,insetTop:f=o,insetBottom:c=o}=e;super(n,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:a,scale:"y",optional:!0}},dh(e,"x"),_h),this.insetTop=gt(f),this.insetBottom=gt(c),mh(this,e)}render(n,e,r,i,a){const{x:o,y:f}=e,{x:c,y1:s,y2:u}=r,{width:d,height:l,marginTop:h,marginRight:p,marginLeft:g,marginBottom:m}=i,{insetTop:v,insetBottom:b}=this;return Mt("svg:g",a).call(Sn,this,i,a).call(An,this,{x:c&&o},Et,0).call(M=>M.selectAll().data(n).enter().append("line").call(Tn,this).attr("x1",c?y=>c[y]:(g+d-p)/2).attr("x2",c?y=>c[y]:(g+d-p)/2).attr("y1",s&&!Hi(f)?y=>s[y]+v:h+v).attr("y2",u&&!Hi(f)?f.bandwidth?y=>u[y]+f.bandwidth()-b:y=>u[y]-b:l-m-b).call(In,this,r).call(bh,this,r,a)).node()}}class tw extends zt{constructor(n,e={}){const{x1:r,x2:i,y:a,inset:o=0,insetRight:f=o,insetLeft:c=o}=e;super(n,{y:{value:a,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},dh(e,"y"),_h),this.insetRight=gt(f),this.insetLeft=gt(c),mh(this,e)}render(n,e,r,i,a){const{x:o,y:f}=e,{y:c,x1:s,x2:u}=r,{width:d,height:l,marginTop:h,marginRight:p,marginLeft:g,marginBottom:m}=i,{insetLeft:v,insetRight:b}=this;return Mt("svg:g",a).call(Sn,this,i,a).call(An,this,{y:c&&f},0,Et).call(M=>M.selectAll().data(n).enter().append("line").call(Tn,this).attr("x1",s&&!Hi(o)?y=>s[y]+v:g+v).attr("x2",u&&!Hi(o)?o.bandwidth?y=>u[y]+o.bandwidth()-b:y=>u[y]-b:d-p-b).attr("y1",c?y=>c[y]:(h+l-m)/2).attr("y2",c?y=>c[y]:(h+l-m)/2).call(In,this,r).call(bh,this,r,a)).node()}}function nw(t,n){let{x:e=jt,y:r,y1:i,y2:a,...o}=Z5(n);return[i,a]=Sh(r,i,a),new J5(t,{...o,x:e,y1:i,y2:a})}function ew(t,n){let{y:e=jt,x:r,x1:i,x2:a,...o}=j5(n);return[i,a]=Sh(r,i,a),new tw(t,{...o,y:e,x1:i,x2:a})}function Sh(t,n,e){if(t==null){if(n===void 0){if(e!==void 0)return[0,e]}else if(e===void 0)return[0,n]}else{if(n===void 0)return e===void 0?[0,t]:[t,e];if(e===void 0)return[t,n]}return[n,e]}function Gf(t,...n){let e=n.length;for(let r=0,i=!0;r<e;++r)typeof n[r]!="function"&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+n[r]+t[r+1]),n.splice(r,1),--r,--e);return r=>{let i=t[0];for(let a=0;a<e;++a)i+=n[a](r)+t[a+1];return i}}const rw={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},Th="";class jf extends zt{constructor(n,e={}){const{x:r,y:i,text:a=ue(n)&&F0(n)?jt:_6,frameAnchor:o,textAnchor:f=/right$/i.test(o)?"end":/left$/i.test(o)?"start":"middle",lineAnchor:c=/^top/i.test(o)?"top":/^bottom/i.test(o)?"bottom":"middle",lineHeight:s=1,lineWidth:u=1/0,textOverflow:d,monospace:l,fontFamily:h=l?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:g,fontVariant:m,fontWeight:v,rotate:b}=e,[M,y]=xt(b,0),[x,w]=uw(p);if(super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:x,optional:!0},rotate:{value:I6(M),optional:!0},text:{value:a,filter:S0,optional:!0}},e,rw),this.rotate=y,this.textAnchor=$t(f,"middle"),this.lineAnchor=qt(c,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+s,this.lineWidth=+u,this.textOverflow=Ah(d),this.monospace=!!l,this.fontFamily=_t(h),this.fontSize=w,this.fontStyle=_t(g),this.fontVariant=_t(m),this.fontWeight=_t(v),this.frameAnchor=Ma(o),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${u}`);this.splitLines=Eh(this),this.clipLine=Nh(this)}render(n,e,r,i,a){const{x:o,y:f}=e,{x:c,y:s,rotate:u,text:d,title:l,fontSize:h}=r,{rotate:p}=this,[g,m]=Ur(this,i);return Mt("svg:g",a).call(Sn,this,i,a).call(Ch,this,d,i).call(An,this,{x:c&&o,y:s&&f}).call(v=>v.selectAll().data(n).enter().append("text").call(Tn,this).call(iw,this,d,l).attr("transform",Gf`translate(${c?b=>c[b]:g},${s?b=>s[b]:m})${u?b=>` rotate(${u[b]})`:p?` rotate(${p})`:""}`).call(nt,"font-size",h&&(b=>h[b])).call(In,this,r)).node()}}function Ah(t){return t==null?null:qt(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function iw(t,n,e,r){if(!e)return;const{lineAnchor:i,lineHeight:a,textOverflow:o,splitLines:f,clipLine:c}=n;t.each(function(s){const u=f(Le(e[s])??"").map(c),d=u.length,l=i==="top"?.71:i==="bottom"?1-d:(164-d*100)/200;if(d>1){let h=0;for(let p=0;p<d;++p){if(++h,!u[p])continue;const g=this.ownerDocument.createElementNS(ve.svg,"tspan");g.setAttribute("x",0),p===h-1?g.setAttribute("y",`${(l+p)*a}em`):g.setAttribute("dy",`${h*a}em`),g.textContent=u[p],this.appendChild(g),h=0}}else l&&this.setAttribute("y",`${l*a}em`),this.textContent=u[0];if(o&&!r&&u[0]!==e[s]){const h=this.ownerDocument.createElementNS(ve.svg,"title");h.textContent=e[s],this.appendChild(h)}})}function Zf(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=Lf(n,e)),new jf(t,{...r,x:n,y:e})}function aw(t,{x:n=jt,...e}={}){return new jf(t,Q5({...e,x:n}))}function ow(t,{y:n=jt,...e}={}){return new jf(t,K5({...e,y:n}))}function Ch(t,n,e){nt(t,"text-anchor",n.textAnchor),nt(t,"font-family",n.fontFamily),nt(t,"font-size",n.fontSize),nt(t,"font-style",n.fontStyle),nt(t,"font-variant",n.fontVariant===void 0?fw(e):n.fontVariant),nt(t,"font-weight",n.fontWeight)}function fw(t){return t&&(P6(t)||fn(t))?"tabular-nums":void 0}const cw=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function uw(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),cw.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function sw(t,n,e){const r=[];let i,a=0;for(const[o,f,c]of lw(t)){if(i===void 0&&(i=o),a>i&&e(t,i,f)>n&&(r.push(t.slice(i,a)+(t[a-1]===Th?"-":"")),i=o),c){r.push(t.slice(i,f)),i=void 0;continue}a=f}return r}function*lw(t){let n=0,e=0;const r=t.length;for(;e<r;){let i=1;switch(t[e]){case Th:case"-":++e,yield[n,e,!1],n=e;break;case" ":for(yield[n,e,!1];t[++e]===" ";);n=e;break;case"\r":t[e+1]===`
`&&++i;case`
`:yield[n,e,!0],e+=i,n=e;break;default:++e;break}}yield[n,e,!0]}const Uu={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"":31,"":31,"":47,"":47,"":82};function Kf(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=Pe(t,i))r+=Uu[t[i]]??(Lh(t,i)?120:Uu.e);return r}function Qf(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=Pe(t,i))r+=Lh(t,i)?200:100;return r}function Eh({monospace:t,lineWidth:n,textOverflow:e}){if(e!=null||n==1/0)return a=>a.split(/\r\n?|\n/g);const r=t?Qf:Kf,i=n*100;return a=>sw(a,i,r)}function Nh({monospace:t,lineWidth:n,textOverflow:e}){if(e==null||n==1/0)return a=>a;const r=t?Qf:Kf,i=n*100;switch(e){case"clip-start":return a=>zu(a,i,r,"");case"clip-end":return a=>qu(a,i,r,"");case"ellipsis-start":return a=>zu(a,i,r,we);case"ellipsis-middle":return a=>dw(a,i,r,we);case"ellipsis-end":return a=>qu(a,i,r,we)}}const we="";function De(t,n,e,r){const i=[];let a=0;for(let o=0,f=0,c=t.length;o<c;o=f){f=Pe(t,o);const s=e(t,o,f);if(a+s>n){for(a+=r;a>n&&o>0;)f=o,o=i.pop(),a-=e(t,o,f);return[o,n-a]}a+=s,i.push(o)}return[-1,0]}function qu(t,n,e,r){t=t.trim();const i=e(r),[a]=De(t,n,e,i);return a<0?t:t.slice(0,a).trimEnd()+r}function dw(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const a=e(r)/2,[o,f]=De(t,n/2,e,a),[c]=De(t,i-n/2-f+a,e,-a);return c<0?r:t.slice(0,o).trimEnd()+r+t.slice(Pe(t,c)).trimStart()}function zu(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const a=e(r),[o]=De(t,i-n+a,e,-a);return o<0?r:r+t.slice(Pe(t,o)).trimStart()}const ef=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,Yu=/\p{Extended_Pictographic}/uy;function Pe(t,n){return n+=hw(t,n)?2:1,gw(t,n)&&(n=ef.lastIndex),pw(t,n)?Pe(t,n+1):n}function kh(t,n){return t.charCodeAt(n)<128}function hw(t,n){const e=t.charCodeAt(n);if(e>=55296&&e<56320){const r=t.charCodeAt(n+1);return r>=56320&&r<57344}return!1}function pw(t,n){return t.charCodeAt(n)===8205}function gw(t,n){return kh(t,n)?!1:(ef.lastIndex=n,ef.test(t))}function Lh(t,n){return kh(t,n)?!1:(Yu.lastIndex=n,Yu.test(t))}const mw={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},Dh=3.5,bw=Dh*5,Ih={draw(t,n,e){const r=n*e/bw;t.moveTo(0,0),t.lineTo(0,-n),t.moveTo(-r,r-n),t.lineTo(0,-n),t.lineTo(r,r-n)}},yw={draw(t,n,e){t.moveTo(-e,0),t.lineTo(0,-n),t.lineTo(e,0)}},ww=new Map([["arrow",Ih],["spike",yw]]);function vw(t){return t&&typeof t.draw=="function"}function xw(t){if(vw(t))return t;const n=ww.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid shape: ${t}`)}class Fh extends zt{constructor(n,e={}){const{x:r,y:i,r:a=Dh,length:o,rotate:f,shape:c=Ih,anchor:s="middle",frameAnchor:u}=e,[d,l]=xt(o,12),[h,p]=xt(f,0);super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:d,scale:"length",optional:!0},rotate:{value:h,optional:!0}},e,mw),this.r=+a,this.length=l,this.rotate=p,this.shape=xw(c),this.anchor=qt(s,"anchor",["start","middle","end"]),this.frameAnchor=Ma(u)}render(n,e,r,i,a){const{x:o,y:f}=e,{x:c,y:s,length:u,rotate:d}=r,{length:l,rotate:h,anchor:p,shape:g,r:m}=this,[v,b]=Ur(this,i);return Mt("svg:g",a).call(Sn,this,i,a).call(An,this,{x:c&&o,y:s&&f}).call(M=>M.selectAll().data(n).enter().append("path").call(Tn,this).attr("transform",Gf`translate(${c?y=>c[y]:v},${s?y=>s[y]:b})${d?y=>` rotate(${d[y]})`:h?` rotate(${h})`:""}${p==="start"?"":p==="end"?u?y=>` translate(0,${u[y]})`:` translate(0,${l})`:u?y=>` translate(0,${u[y]/2})`:` translate(0,${l/2})`}`).attr("d",u?y=>{const x=qn();return g.draw(x,u[y],m),x}:(()=>{const y=qn();return g.draw(y,l,m),y})()).call(In,this,r)).node()}}function Mw(t,n={}){const{x:e=jt,...r}=n;return new Fh(t,{...r,x:e})}function $w(t,n={}){const{y:e=jt,...r}=n;return new Fh(t,{...r,y:e})}function Rn(t,n){return arguments.length<2&&!ue(t)&&(n=t,t=null),n===void 0&&(n={}),[t,n]}function Aa({anchor:t}={},n){return t===void 0?n[0]:qt(t,"anchor",n)}function Rh(t){return Aa(t,["left","right"])}function Ph(t){return Aa(t,["right","left"])}function Oh(t){return Aa(t,["bottom","top"])}function Uh(t){return Aa(t,["top","bottom"])}function qh(){const[t,n]=Rn(...arguments);return Yh("y",Rh(n),t,n)}function _w(){const[t,n]=Rn(...arguments);return Yh("fy",Ph(n),t,n)}function zh(){const[t,n]=Rn(...arguments);return Hh("x",Oh(n),t,n)}function Sw(){const[t,n]=Rn(...arguments);return Hh("fx",Uh(n),t,n)}function Yh(t,n,e,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:o=i,strokeWidth:f=1,fill:c=r,fillOpacity:s=i,textAnchor:u,textStroke:d,textStrokeOpacity:l,textStrokeWidth:h,tickSize:p=t==="y"?6:0,tickPadding:g,tickRotate:m,x:v,margin:b,marginTop:M=b===void 0?20:b,marginRight:y=b===void 0?n==="right"?40:0:b,marginBottom:x=b===void 0?20:b,marginLeft:w=b===void 0?n==="left"?40:0:b,label:$,labelAnchor:C,labelArrow:T,labelOffset:N,..._}){return p=gt(p),g=gt(g),m=gt(m),C!==void 0&&(C=qt(C,"labelAnchor",["center","top","bottom"])),T=Kh(T),sh(p&&!Tt(a)?Tw(t,n,e,{stroke:a,strokeOpacity:o,strokeWidth:f,tickSize:p,tickPadding:g,tickRotate:m,x:v,..._}):null,Tt(c)?null:Cw(t,n,e,{fill:c,fillOpacity:s,stroke:d,strokeOpacity:l,strokeWidth:h,textAnchor:u,tickSize:p,tickPadding:g,tickRotate:m,x:v,marginTop:M,marginRight:y,marginBottom:x,marginLeft:w,..._}),!Tt(c)&&$!==null?Zf([],Xh({fill:c,fillOpacity:s,..._},function(L,I,D,S,F){const W=S[t],{marginTop:H,marginRight:k,marginBottom:U,marginLeft:q}=t==="y"&&F.inset||F,R=C??(W.bandwidth?"center":"top"),Y=N??(n==="right"?k:q)-3;return R==="center"?(this.textAnchor=void 0,this.lineAnchor=n==="right"?"bottom":"top",this.frameAnchor=n,this.rotate=-90):(this.textAnchor=n==="right"?"end":"start",this.lineAnchor=R,this.frameAnchor=`${R}-${n}`,this.rotate=0),this.dy=R==="top"?3-H:R==="bottom"?U-3:0,this.dx=n==="right"?Y:-Y,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[Zh(t,W,{anchor:n,label:$,labelAnchor:R,labelArrow:T})]}}}})):null)}function Hh(t,n,e,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:o=i,strokeWidth:f=1,fill:c=r,fillOpacity:s=i,textAnchor:u,textStroke:d,textStrokeOpacity:l,textStrokeWidth:h,tickSize:p=t==="x"?6:0,tickPadding:g,tickRotate:m,y:v,margin:b,marginTop:M=b===void 0?n==="top"?30:0:b,marginRight:y=b===void 0?20:b,marginBottom:x=b===void 0?n==="bottom"?30:0:b,marginLeft:w=b===void 0?20:b,label:$,labelAnchor:C,labelArrow:T,labelOffset:N,..._}){return p=gt(p),g=gt(g),m=gt(m),C!==void 0&&(C=qt(C,"labelAnchor",["center","left","right"])),T=Kh(T),sh(p&&!Tt(a)?Aw(t,n,e,{stroke:a,strokeOpacity:o,strokeWidth:f,tickSize:p,tickPadding:g,tickRotate:m,y:v,..._}):null,Tt(c)?null:Ew(t,n,e,{fill:c,fillOpacity:s,stroke:d,strokeOpacity:l,strokeWidth:h,textAnchor:u,tickSize:p,tickPadding:g,tickRotate:m,y:v,marginTop:M,marginRight:y,marginBottom:x,marginLeft:w,..._}),!Tt(c)&&$!==null?Zf([],Xh({fill:c,fillOpacity:s,..._},function(L,I,D,S,F){const W=S[t],{marginTop:H,marginRight:k,marginBottom:U,marginLeft:q}=t==="x"&&F.inset||F,R=C??(W.bandwidth?"center":"right"),Y=N??(n==="top"?H:U)-3;return R==="center"?(this.frameAnchor=n,this.textAnchor=void 0):(this.frameAnchor=`${n}-${R}`,this.textAnchor=R==="right"?"end":"start"),this.lineAnchor=n,this.dy=n==="top"?-Y:Y,this.dx=R==="right"?k-3:R==="left"?3-q:0,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[Zh(t,W,{anchor:n,label:$,labelAnchor:R,labelArrow:T})]}}}})):null)}function Tw(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:o=n+(t==="y"?"-empty":""),frameAnchor:f=n,tickSize:c,inset:s=0,insetLeft:u=s,insetRight:d=s,dx:l=0,y:h=t==="y"?void 0:null,...p}){return Oe($w,t,n,`${t}-axis tick`,e,{strokeWidth:r,strokeLinecap:i,strokeLinejoin:a,facetAnchor:o,frameAnchor:f,y:h,...p,dx:n==="left"?+l-Et+ +u:+l+Et-d,anchor:"start",length:c,shape:n==="left"?Pw:Ow})}function Aw(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:o=n+(t==="x"?"-empty":""),frameAnchor:f=n,tickSize:c,inset:s=0,insetTop:u=s,insetBottom:d=s,dy:l=0,x:h=t==="x"?void 0:null,...p}){return Oe(Mw,t,n,`${t}-axis tick`,e,{strokeWidth:r,strokeLinejoin:a,strokeLinecap:i,facetAnchor:o,frameAnchor:f,x:h,...p,dy:n==="bottom"?+l-Et-d:+l+Et+ +u,anchor:"start",length:c,shape:n==="bottom"?Fw:Rw})}function Cw(t,n,e,{facetAnchor:r=n+(t==="y"?"-empty":""),frameAnchor:i=n,tickSize:a,tickRotate:o=0,tickPadding:f=Math.max(3,9-a)+(Math.abs(o)>60?4*Math.cos(o*Wi):0),text:c,textAnchor:s=Math.abs(o)>60?"middle":n==="left"?"end":"start",lineAnchor:u=o>60?"top":o<-60?"bottom":"middle",fontVariant:d,inset:l=0,insetLeft:h=l,insetRight:p=l,dx:g=0,y:m=t==="y"?void 0:null,...v}){return Oe(ow,t,n,`${t}-axis tick label`,e,{facetAnchor:r,frameAnchor:i,text:c,textAnchor:s,lineAnchor:u,fontVariant:d,rotate:o,y:m,...v,dx:n==="left"?+g-a-f+ +h:+g+ +a+ +f-p},function(b,M,y,x,w){d===void 0&&(this.fontVariant=jh(b)),c===void 0&&(w.text=Gh(b,M,y,x,n))})}function Ew(t,n,e,{facetAnchor:r=n+(t==="x"?"-empty":""),frameAnchor:i=n,tickSize:a,tickRotate:o=0,tickPadding:f=Math.max(3,9-a)+(Math.abs(o)>=10?4*Math.cos(o*Wi):0),text:c,textAnchor:s=Math.abs(o)>=10?o<0^n==="bottom"?"start":"end":"middle",lineAnchor:u=Math.abs(o)>=10?"middle":n==="bottom"?"top":"bottom",fontVariant:d,inset:l=0,insetTop:h=l,insetBottom:p=l,dy:g=0,x:m=t==="x"?void 0:null,...v}){return Oe(aw,t,n,`${t}-axis tick label`,e,{facetAnchor:r,frameAnchor:i,text:c===void 0?null:c,textAnchor:s,lineAnchor:u,fontVariant:d,rotate:o,x:m,...v,dy:n==="bottom"?+g+ +a+ +f-p:+g-a-f+ +h},function(b,M,y,x,w){d===void 0&&(this.fontVariant=jh(b)),c===void 0&&(w.text=Gh(b,M,y,x,n))})}function Nw(){const[t,n]=Rn(...arguments);return Wh("y",Rh(n),t,n)}function kw(){const[t,n]=Rn(...arguments);return Wh("fy",Ph(n),t,n)}function Lw(){const[t,n]=Rn(...arguments);return Bh("x",Oh(n),t,n)}function Dw(){const[t,n]=Rn(...arguments);return Bh("fx",Uh(n),t,n)}function Wh(t,n,e,{y:r=t==="y"?void 0:null,x:i=null,x1:a=n==="left"?i:null,x2:o=n==="right"?i:null,...f}){return Oe(ew,t,n,`${t}-grid`,e,{y:r,x1:a,x2:o,...Vh(f)})}function Bh(t,n,e,{x:r=t==="x"?void 0:null,y:i=null,y1:a=n==="top"?i:null,y2:o=n==="bottom"?i:null,...f}){return Oe(nw,t,n,`${t}-grid`,e,{x:r,y1:a,y2:o,...Vh(f)})}function Vh({color:t="currentColor",opacity:n=.1,stroke:e=t,strokeOpacity:r=n,strokeWidth:i=1,...a}){return{stroke:e,strokeOpacity:r,strokeWidth:i,...a}}function Xh({fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:o,monospace:f,pointerEvents:c,shapeRendering:s,clip:u=!1},d){return[,t]=br(t),[,n]=xt(n),{facet:"super",x:null,y:null,fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:o,monospace:f,pointerEvents:c,shapeRendering:s,clip:u,initializer:d}}function Oe(t,n,e,r,i,a,o){let f;function c(d,l,h,p,g,m){const v=d==null&&(n==="fx"||n==="fy"),{[n]:b}=p;if(!b)throw new Error(`missing scale: ${n}`);const M=b.domain();let{interval:y,ticks:x,tickFormat:w,tickSpacing:$=n==="x"?80:35}=a;if(typeof x=="string"&&Qh(b)&&(y=x,x=void 0),x===void 0&&(x=Fr(y,b.type)??Iw(b,$)),d==null){if(ue(x))d=Lt(x);else if(D6(x))d=oo(x,...Nn(M));else if(b.interval){let T=b.interval;if(b.ticks){const[N,_]=Nn(M),L=(_-N)/T[Dr];T=lu(T,L/x)??T,d=oo(T,N,_)}else{d=M;const N=d.length;T=lu(T,N/x)??T,T!==b.interval&&(d=oo(T,...Nn(d)))}if(T===b.interval){const N=Math.round(d.length/x);N>1&&(d=d.filter((_,L)=>L%N===0))}}else b.ticks?d=b.ticks(x):d=M;if(!b.ticks&&d.length&&d!==M){const T=new Gi(M);d=d.filter(N=>T.has(N)),d.length||Vn(`Warning: the ${n}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}n==="y"||n==="x"?l=[Ir(d)]:f[n]={scale:n,value:jt}}o?.call(this,b,d,x,w,f);const C=Object.fromEntries(Object.entries(f).map(([T,N])=>[T,{...N,value:$n(d,N.value)}]));return v&&(l=m.filterFacets(d,C)),{data:d,facets:l,channels:C}}const s=re(a).initializer,u=t(i,re({...a,initializer:c},s));return i==null?(f=u.channels,u.channels={}):f={},u.ariaLabel=r,u.clip===void 0&&(u.clip=!1),u}function Iw(t,n){const[e,r]=Nn(t.range());return(r-e)/n}function Gh(t,n,e,r,i){return{value:Jf(t,n,e,r,i)}}function Jf(t,n,e,r,i){return typeof r=="function"?r:r===void 0&&n&&fn(n)?y6(n,i)??Le:t.tickFormat?t.tickFormat(typeof e=="number"?e:null,r):r===void 0?Le:typeof r=="string"?(fn(t.domain())?kr:Fe)(r):fe(r)}function oo(t,n,e){return t.range(n,t.offset(t.floor(e)))}const Fw={draw(t,n){t.moveTo(0,0),t.lineTo(0,n)}},Rw={draw(t,n){t.moveTo(0,0),t.lineTo(0,-n)}},Pw={draw(t,n){t.moveTo(0,0),t.lineTo(-n,0)}},Ow={draw(t,n){t.moveTo(0,0),t.lineTo(n,0)}};function jh(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function Uw(t){return Math.sign(ke(t.domain()))*Math.sign(ke(t.range()))}function Zh(t,n,{anchor:e,label:r=n.label,labelAnchor:i,labelArrow:a}={}){if(!(r==null||r.inferred&&Qh(n)&&/^(date|time|year)$/i.test(r))){if(r=String(r),a==="auto"&&(a=(!n.bandwidth||n.interval)&&!/[]/.test(r)),!a)return r;if(a===!0){const o=Uw(n);o&&(a=/x$/.test(t)||i==="center"?/x$/.test(t)===o<0?"left":"right":o<0?"up":"down")}switch(a){case"left":return` ${r}`;case"right":return`${r} `;case"up":return e==="right"?`${r} `:` ${r}`;case"down":return e==="right"?`${r} `:` ${r}`}return r}}function Kh(t="auto"){return Tt(t)?!1:typeof t=="boolean"?t:qt(t,"labelArrow",["auto","up","right","down","left"])}function Qh(t){return fn(t.domain())}function Hu(t,n){if(n==null)return n;const e=t(n);if(!e)throw new Error(`scale not found: ${n}`);return e}function qw(t,{opacity:n,...e}={}){if(!se(t)&&!uh(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return Jh(t,e,(r,i,a,o)=>r.append("svg").attr("width",a).attr("height",o).attr("fill",i.scale).attr("fill-opacity",xt(n)[1]).append("rect").attr("width","100%").attr("height","100%"))}function zw(t,{fill:n=t.hint?.fill!==void 0?t.hint.fill:"none",fillOpacity:e=1,stroke:r=t.hint?.stroke!==void 0?t.hint.stroke:Tt(n)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:a=1.5,r:o=4.5,...f}={},c){const[s,u]=br(n),[d,l]=br(r),h=Hu(c,s),p=Hu(c,d),g=o*o*Math.PI;return e=xt(e)[1],i=xt(i)[1],a=xt(a)[1],Jh(t,f,(m,v,b,M)=>m.append("svg").attr("viewBox","-8 -8 16 16").attr("width",b).attr("height",M).attr("fill",s==="color"?y=>h.scale(y):u).attr("fill-opacity",e).attr("stroke",d==="color"?y=>p.scale(y):l).attr("stroke-opacity",i).attr("stroke-width",a).append("path").attr("d",y=>{const x=qn();return t.scale(y).draw(x,g),x}))}function Jh(t,n={},e){let{columns:r,tickFormat:i,fontVariant:a=gh(t),swatchSize:o=15,swatchWidth:f=o,swatchHeight:c=o,marginLeft:s=0,className:u,style:d,width:l}=n;const h=zf(n);u=Uf(u),i=Jf(t.scale,t.domain,void 0,i);const p=Mt("div",h).attr("class",`${u}-swatches ${u}-swatches-${r!=null?"columns":"wrap"}`);let g;return r!=null?(g=`.${u}-swatches-columns .${u}-swatch {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
.${u}-swatches-columns .${u}-swatch::before {
  flex-shrink: 0;
}
.${u}-swatches-columns .${u}-swatch-label {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${u}-swatch`).call(e,t,f,c).call(m=>m.append("div").attr("class",`${u}-swatch-label`).attr("title",i).text(i))):(g=`.${u}-swatches-wrap {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
.${u}-swatches-wrap .${u}-swatch {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(t.domain).enter().append("span").attr("class",`${u}-swatch`).call(e,t,f,c).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(m=>m.insert("style","*").text(`.${u}-swatches {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
.${u}-swatch > svg {
  margin-right: 0.5em;
  overflow: visible;
}
${g}`)).style("margin-left",s?`${+s}px`:null).style("width",l===void 0?null:`${+l}px`).style("font-variant",$t(a,"normal")).call(qf,d).node()}const rf=new Map([["symbol",zw],["color",n1],["opacity",Hw]]);function Yw(t,n,e={}){return(r,i)=>{if(!rf.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return rf.get(r)(t[r],t1(n,e[r],i),a=>t[a])}}function t1({className:t,...n},{label:e,ticks:r,tickFormat:i}={},a){return z6(a,{className:t,...n},{label:e,ticks:r,tickFormat:i})}function n1(t,{legend:n=!0,...e}){if(n===!0&&(n=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${n}`.toLowerCase()){case"swatches":return qw(t,e);case"ramp":return W5(t,e);default:throw new Error(`unknown legend type: ${n}`)}}function Hw({type:t,interpolate:n,...e},{legend:r=!0,color:i=kn(0,0,0),...a}){if(!n)throw new Error(`${t} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return n1({type:t,...e,interpolate:Ww(i)},{legend:r,...a})}function Ww(t){const{r:n,g:e,b:r}=kn(t)||kn(0,0,0);return i=>`rgba(${n},${e},${r},${i})`}function Bw(t,n,e){const r=[];for(const[i,a]of rf){const o=e[i];if(o?.legend&&i in t){const f=a(t[i],t1(n,t[i],o),c=>t[c]);f!=null&&r.push(f)}}return r}const Vw={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},Xw={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class Gw extends zt{constructor(n={}){const{anchor:e=null,inset:r=0,insetTop:i=r,insetRight:a=r,insetBottom:o=r,insetLeft:f=r,rx:c,ry:s}=n;super(li,void 0,n,e==null?Vw:Xw),this.anchor=I0(e,"anchor",["top","right","bottom","left"]),this.insetTop=gt(i),this.insetRight=gt(a),this.insetBottom=gt(o),this.insetLeft=gt(f),this.rx=gt(c),this.ry=gt(s)}render(n,e,r,i,a){const{marginTop:o,marginRight:f,marginBottom:c,marginLeft:s,width:u,height:d}=i,{anchor:l,insetTop:h,insetRight:p,insetBottom:g,insetLeft:m,rx:v,ry:b}=this,M=s+m,y=u-f-p,x=o+h,w=d-c-g;return Mt(l?"svg:line":"svg:rect",a).datum(0).call(Sn,this,i,a).call(Tn,this).call(In,this,r).call(An,this,{}).call(l==="left"?$=>$.attr("x1",M).attr("x2",M).attr("y1",x).attr("y2",w):l==="right"?$=>$.attr("x1",y).attr("x2",y).attr("y1",x).attr("y2",w):l==="top"?$=>$.attr("x1",M).attr("x2",y).attr("y1",x).attr("y2",x):l==="bottom"?$=>$.attr("x1",M).attr("x2",y).attr("y1",w).attr("y2",w):$=>$.attr("x",M).attr("y",x).attr("width",y-M).attr("height",w-x).attr("rx",v).attr("ry",b)).node()}}function jw(t){return new Gw(t)}const fo={ariaLabel:"tip",fill:"white",stroke:"currentColor"},Zw=new Set(["geometry","href","src","ariaLabel","scales"]);class Kw extends zt{constructor(n,e={}){e.tip&&(e={...e,tip:!1}),e.title===void 0&&ue(n)&&F0(n)&&(e={...e,title:jt});const{x:r,y:i,x1:a,x2:o,y1:f,y2:c,anchor:s,monospace:u,fontFamily:d=u?"ui-monospace, monospace":void 0,fontSize:l,fontStyle:h,fontVariant:p,fontWeight:g,lineHeight:m=1,lineWidth:v=20,frameAnchor:b,format:M,textAnchor:y="start",textOverflow:x,textPadding:w=8,title:$,pointerSize:C=12,pathFilter:T="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=e;super(n,{x:{value:a!=null&&o!=null?null:r,scale:"x",optional:!0},y:{value:f!=null&&c!=null?null:i,scale:"y",optional:!0},x1:{value:a,scale:"x",optional:o==null},y1:{value:f,scale:"y",optional:c==null},x2:{value:o,scale:"x",optional:a==null},y2:{value:c,scale:"y",optional:f==null},title:{value:$,optional:!0}},e,fo),this.anchor=R0(s,"anchor"),this.previousAnchor=this.anchor??"top-left",this.frameAnchor=Ma(b),this.textAnchor=$t(y,"middle"),this.textPadding=+w,this.pointerSize=+C,this.pathFilter=_t(T),this.lineHeight=+m,this.lineWidth=+v,this.textOverflow=Ah(x),this.monospace=!!u,this.fontFamily=_t(d),this.fontSize=gt(l),this.fontStyle=_t(h),this.fontVariant=_t(p),this.fontWeight=_t(g);for(const N in fo)N in this.channels&&(this[N]=fo[N]);this.splitLines=Eh(this),this.clipLine=Nh(this),this.format={...M}}render(n,e,r,i,a){const o=this,{x:f,y:c,fx:s,fy:u}=e,{ownerSVGElement:d,document:l}=a,{anchor:h,monospace:p,lineHeight:g,lineWidth:m}=this,{textPadding:v,pointerSize:b,pathFilter:M}=this,{marginTop:y,marginLeft:x}=i,{x1:w,y1:$,x2:C,y2:T,x:N=w??C,y:_=$??T}=r,L=s?s(n.fx)-x:0,I=u?u(n.fy)-y:0,[D,S]=Ur(this,i),F=hh(r,D),W=ph(r,S),H=p?Qf:Kf,k=H(we);let U,q;"title"in r?(U=r.channels,q=r7):(U=e7.call(this,r,e),q=i7);const R=Mt("svg:g",a).call(Sn,this,i,a).call(Ch,this).call(An,this,{x:N&&f,y:_&&c}).call(B=>B.selectAll().data(n).enter().append("g").attr("transform",X=>`translate(${Math.round(F(X))},${Math.round(W(X))})`).call(Tn,this).call(X=>X.append("path").attr("filter",M)).call(X=>X.append("text").each(function(P){const tt=nr(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const E=q.call(o,P,n,U,e,r);if(typeof E=="string")for(const O of o.splitLines(E))Y(tt,{value:o.clipLine(O)});else{const O=new Set;for(const z of E){const{label:A=""}=z;A&&O.has(A)||(O.add(A),Y(tt,z))}}})));function Y(B,{label:X,value:P,color:tt,opacity:E}){X??="",P??="";const O=tt!=null||E!=null;let z,A=m*100;const[at]=De(X,A,H,k);if(at>=0)X=X.slice(0,at).trimEnd()+we,z=P.trim(),P="";else{(X||!P&&!O)&&(P=" "+P);const[ct]=De(P,A-H(X),H,k);ct>=0&&(P=P.slice(0,ct).trimEnd()+we,z=P.trim())}const V=B.append("tspan").attr("x",0).attr("dy",`${g}em`).text("");X&&V.append("tspan").attr("font-weight","bold").text(X),P&&V.append(()=>l.createTextNode(P)),O&&V.append("tspan").text(" ").attr("fill",tt).attr("fill-opacity",E).style("user-select","none"),z&&V.append("title").text(z)}function Q(){const{width:B,height:X}=i.facet??i;R.selectChildren().each(function(P){let{x:tt,width:E,height:O}=this.getBBox();E=Math.round(E),O=Math.round(O);let z=h;if(z===void 0){z=o.previousAnchor;const V=F(P)+L,ct=W(P)+I,lt=V+E+v*2<B,Ct=V-E-v*2>0,Ue=ct+O+b+v*2+7<X,nc=ct-O-b-v*2>0,f1=(/-left$/.test(z)?lt||!Ct:lt&&!Ct)?"left":"right",c1=(/^top-/.test(z)?Ue||!nc:Ue&&!nc)?"top":"bottom";z=o.previousAnchor=`${c1}-${f1}`}const A=this.firstChild,at=this.lastChild;if(A.setAttribute("d",n7(z,b,v,E,O)),tt)for(const V of at.childNodes)V.setAttribute("x",-tt);at.setAttribute("y",`${+Jw(z,at.childNodes.length,g).toFixed(6)}em`),at.setAttribute("transform",`translate(${t7(z,b,v,E,O)})`)}),R.attr("visibility",null)}return n.length&&(R.attr("visibility","hidden"),d.isConnected?Promise.resolve().then(Q):typeof requestAnimationFrame<"u"&&requestAnimationFrame(Q)),R.node()}}function Qw(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=Lf(n,e)),new Kw(t,{...r,x:n,y:e})}function Jw(t,n,e){return/^top(?:-|$)/.test(t)?.94-e:-.29-n*e}function t7(t,n,e,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[e,n+e];case"top":return[-r/2,n/2+e];case"top-right":return[-r-e,n+e];case"right":return[-n/2-r-e,i/2];case"bottom-left":return[e,-n-e];case"bottom":return[-r/2,-n/2-e];case"bottom-right":return[-r-e,-n-e];case"left":return[e+n/2,i/2]}}function n7(t,n,e,r,i){const a=r+e*2,o=i+e*2;switch(t){case"middle":return`M${-a/2},${-o/2}h${a}v${o}h${-a}z`;case"top-left":return`M0,0l${n},${n}h${a-n}v${o}h${-a}z`;case"top":return`M0,0l${n/2},${n/2}h${(a-n)/2}v${o}h${-a}v${-o}h${(a-n)/2}z`;case"top-right":return`M0,0l${-n},${n}h${n-a}v${o}h${a}z`;case"right":return`M0,0l${-n/2},${-n/2}v${n/2-o/2}h${-a}v${o}h${a}v${n/2-o/2}z`;case"bottom-left":return`M0,0l${n},${-n}h${a-n}v${-o}h${-a}z`;case"bottom":return`M0,0l${n/2},${-n/2}h${(a-n)/2}v${-o}h${-a}v${o}h${(a-n)/2}z`;case"bottom-right":return`M0,0l${-n},${-n}h${n-a}v${-o}h${a}z`;case"left":return`M0,0l${n/2},${-n/2}v${n/2-o/2}h${a}v${o}h${-a}v${n/2-o/2}z`}}function e7({channels:t},n){const e={};let r=this.format;r=Wu(r,t,"x"),r=Wu(r,t,"y"),this.format=r;for(const i in r){const a=r[i];if(!(a===null||a===!1))if(i==="fx"||i==="fy")e[i]=!0;else{const o=xu(t,i);o&&(e[i]=o)}}for(const i in t){if(i in e||i in r||Zw.has(i))continue;const a=xu(t,i);a&&(e[i]=a)}this.facet&&(n.fx&&!("fx"in r)&&(e.fx=!0),n.fy&&!("fy"in r)&&(e.fy=!0));for(const i in e){const a=this.format[i];if(typeof a=="string"){const o=e[i]?.value??n[i]?.domain()??[];this.format[i]=(fn(o)?kr:Fe)(a)}else if(a===void 0||a===!0){const o=n[i];this.format[i]=o?.bandwidth?Jf(o,o.domain()):Le}}return e}function Wu(t,n,e){if(!(e in t))return t;const r=`${e}1`,i=`${e}2`;if((r in t||!(r in n))&&(i in t||!(i in n)))return t;const a=Object.entries(t),o=t[e];return a.splice(a.findIndex(([f])=>f===e)+1,0,[r,o],[i,o]),Object.fromEntries(a)}function r7(t,n,{title:e}){return Le(e.value[t],t)}function*i7(t,n,e,r,i){for(const a in e){if(a==="fx"||a==="fy"){yield{label:Bi(r,e,a),value:this.format[a](n[a],t)};continue}if(a==="x1"&&"x2"in e||a==="y1"&&"y2"in e)continue;const o=e[a];if(a==="x2"&&"x1"in e)yield{label:Vu(r,e,"x"),value:Bu(this.format.x2,e.x1,o,t)};else if(a==="y2"&&"y1"in e)yield{label:Vu(r,e,"y"),value:Bu(this.format.y2,e.y1,o,t)};else{const f=o.value[t],c=o.scale;if(!ee(f)&&c==null)continue;yield{label:Bi(r,e,a),value:this.format[a](f,t),color:c==="color"?i[a][t]:null,opacity:c==="opacity"?i[a][t]:null}}}}function Bu(t,n,e,r){return e.hint?.length?`${t(e.value[r]-n.value[r],r)}`:`${t(n.value[r],r)}${t(e.value[r],r)}`}function Vu(t,n,e){const r=Bi(t,n,`${e}1`,e),i=Bi(t,n,`${e}2`,e);return r===i?r:`${r}${i}`}function Bi(t,n,e,r=e){const i=n[e],a=t[i?.scale??e];return String(a?.label??i?.label??r)}function e1(t={}){const{facet:n,style:e,title:r,subtitle:i,caption:a,ariaLabel:o,ariaDescription:f}=t,c=Uf(t.className),s=t.marks===void 0?[]:Gu(t.marks);s.push(...d7(s));const u=s7(n,t),d=new Map;for(const k of s){const U=ju(k,u,t);U&&d.set(k,U)}const l=new Map;u&&Ve(l,[u],t),Ve(l,d,t);const h=Gu(h7(s,l,t));for(const k of h){const U=ju(k,u,t);U&&d.set(k,U)}s.unshift(...h);let p=A5(l,t);if(p!==void 0){const k=u?io(p,u):void 0;for(const q of s){if(q.facet===null||q.facet==="super")continue;const R=d.get(q);R!==void 0&&(R.facetsIndex=q.fx!=null||q.fy!=null?io(p,R):k)}const U=new Set;for(const{facetsIndex:q}of d.values())q?.forEach((R,Y)=>{R?.length>0&&U.add(Y)});p.forEach(0<U.size&&U.size<p.length?(q,R)=>q.empty=!U.has(R):q=>q.empty=!1);for(const q of s)if(q.facet==="exclude"){const R=d.get(q);R!==void 0&&(R.facetsIndex=N5(R.facetsIndex))}}for(const k of st.keys())Zo(t[k])&&k!=="fx"&&k!=="fy"&&l.set(k,[]);const g=new Map;for(const k of s){if(g.has(k))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:U,channels:q}=d.get(k)??{},{data:R,facets:Y,channels:Q}=k.initialize(U,q,t);tc(Q,t),g.set(k,{data:R,facets:Y,channels:Q})}const m=tf(Ve(l,g,t),t),v=S5(m,s,t);m5(m,v);const b=Nu(m),{fx:M,fy:y}=b,x=M||y?oh(m,v):v,w=M||y?v7(b,v):v,$=zf(t),C=$.document,T=Zi("svg").call(C.documentElement);let N=T;$.ownerSVGElement=T,$.className=c,$.projection=E8(t,x),$.filterFacets=(k,U)=>io(p,{channels:U,groups:Vf(k,U)}),$.getMarkState=k=>{const U=g.get(k),q=d.get(k);return{...U,channels:{...U.channels,...q?.channels}}},$.dispatchValue=k=>{N.value!==k&&(N.value=k,N.dispatchEvent(new Event("input",{bubbles:!0})))};const _=new Set;for(const[k,U]of g)if(k.initializer!=null){const q=k.facet==="super"?w:x,R=k.initializer(U.data,U.facets,U.channels,b,q,$);if(R.data!==void 0&&(U.data=R.data),R.facets!==void 0&&(U.facets=R.facets),R.channels!==void 0){const{fx:Y,fy:Q,...B}=R.channels;u7(B),Object.assign(U.channels,B);for(const X of Object.values(B)){const{scale:P}=X;P!=null&&!H6(st.get(P))&&(r1(X,t),_.add(P))}(Y!=null||Q!=null)&&d.set(k,!0)}}if(_.size){const k=new Map;Ve(k,g,t,Y=>_.has(Y)),Ve(l,g,t,Y=>_.has(Y));const U=w7(tf(k,t),m),{scales:q,...R}=Nu(U);Object.assign(m,U),Object.assign(b,R),Object.assign(b.scales,q)}let L,I;p!==void 0&&(L={x:M?.domain(),y:y?.domain()},p=C5(p,L),I=E5(M,y,v));for(const[k,U]of g)U.values=k.scale(U.channels,b,$);const{width:D,height:S}=v;nr(T).attr("class",c).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",D).attr("height",S).attr("viewBox",`0 0 ${D} ${S}`).attr("aria-label",o).attr("aria-description",f).call(k=>k.append("style").text(`.${c} {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
.${c} text,
.${c} tspan {
  white-space: pre;
}`)).call(qf,e);for(const k of s){const{channels:U,values:q,facets:R}=g.get(k);if(p===void 0||k.facet==="super"){let Y=null;if(R&&(Y=R[0],Y=k.filter(Y,U,q),Y.length===0))continue;const Q=k.render(Y,b,q,w,$);if(Q==null)continue;T.appendChild(Q)}else{let Y;for(const Q of p){if(!(k.facetAnchor?.(p,L,Q)??!Q.empty))continue;let B=null;if(R){const P=d.has(k);if(B=R[P?Q.i:0],B=k.filter(B,U,q),B.length===0)continue;!P&&B===R[0]&&(B=N6(B)),B.fx=Q.x,B.fy=Q.y,B.fi=Q.i}const X=k.render(B,b,q,x,$);if(X!=null){(Y??=nr(T).append("g")).append(()=>X).datum(Q);for(const P of["aria-label","aria-description","aria-hidden","transform"])X.hasAttribute(P)&&(Y.attr(P,X.getAttribute(P)),X.removeAttribute(P))}}Y?.selectChildren().attr("transform",I)}}const F=Bw(m,$,t),{figure:W=r!=null||i!=null||a!=null||F.length>0}=t;W&&(N=C.createElement("figure"),N.className=`${c}-figure`,N.style.maxWidth="initial",r!=null&&N.append(Xu(C,r,"h2")),i!=null&&N.append(Xu(C,i,"h3")),N.append(...F,T),a!=null&&N.append(a7(C,a))),N.scale=$5(b.scales),N.legend=Yw(m,$,t);const H=v8();return H>0&&nr(T).append("text").attr("x",D).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("").append("title").text(`${H.toLocaleString("en-US")} warning${H===1?"":"s"}. Please check the console.`),N}function Xu(t,n,e){if(n.ownerDocument)return n;const r=t.createElement(e);return r.append(n),r}function a7(t,n){const e=t.createElement("figcaption");return e.append(n),e}function o7({marks:t=[],...n}={}){return e1({...n,marks:[...t,this]})}zt.prototype.plot=o7;function Gu(t){return t.flat(1/0).filter(n=>n!=null).map(f7)}function f7(t){return typeof t.render=="function"?t:new c7(t)}class c7 extends zt{constructor(n){if(typeof n!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=n}render(){}}function tc(t,n){for(const e in t)r1(t[e],n);return t}function r1(t,n){const{scale:e,transform:r=!0}=t;if(e==null||!r)return;const{type:i,percent:a,interval:o,transform:f=a?c=>c*100:k6(o,i)}=n[e]??{};f!=null&&(t.value=St(t.value,f),t.transform=!1)}function u7(t){for(const n in t)Y0(n,t[n])}function Ve(t,n,e,r=S6){for(const{channels:i}of n.values())for(const a in i){const o=i[a],{scale:f}=o;if(f!=null&&r(f))if(f==="projection"){if(!D8(e)){const c=e.x?.domain===void 0,s=e.y?.domain===void 0;if(c||s){const[u,d]=F8(o);c&&co(t,"x",u),s&&co(t,"y",d)}}}else co(t,f,o)}return t}function co(t,n,e){const r=t.get(n);r!==void 0?r.push(e):t.set(n,[e])}function s7(t,n){if(t==null)return;const{x:e,y:r}=t;if(e==null&&r==null)return;const i=Lt(t.data);if(i==null)throw new Error("missing facet data");const a={};e!=null&&(a.fx=wr(i,{value:e,scale:"fx"})),r!=null&&(a.fy=wr(i,{value:r,scale:"fy"})),tc(a,n);const o=Vf(i,a);return{channels:a,groups:o,data:t.data}}function ju(t,n,e){if(t.facet===null||t.facet==="super")return;const{fx:r,fy:i}=t;if(r!=null||i!=null){const c=Lt(t.data??r??i);if(c===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(c===null)return;const s={};return r!=null&&(s.fx=wr(c,{value:r,scale:"fx"})),i!=null&&(s.fy=wr(c,{value:i,scale:"fy"})),tc(s,e),{channels:s,groups:Vf(c,s)}}if(n===void 0)return;const{channels:a,groups:o,data:f}=n;if(t.facet!=="auto"||t.data===f)return{channels:a,groups:o};f.length>0&&(o.size>1||o.size===1&&a.fx&&a.fy&&[...o][0][1].size>1)&&Lt(t.data)?.length===f.length&&Vn(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isnt faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function l7(t,n={}){return re({...n,x:null,y:null},(e,r,i,a,o,f)=>f.getMarkState(t))}function d7(t){const n=[];for(const e of t){let r=e.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i}=r;i=/^x$/i.test(i)?Y5:/^y$/i.test(i)?H5:z5,r=i(l7(e,r)),r.title=null;const a=Qw(e.data,r);a.facet=e.facet,a.facetAnchor=e.facetAnchor,n.push(a)}}return n}function h7(t,n,e){let{projection:r,x:i={},y:a={},fx:o={},fy:f={},axis:c,grid:s,facet:u={},facet:{axis:d=c,grid:l}=u,x:{axis:h=c,grid:p=h===null?null:s}=i,y:{axis:g=c,grid:m=g===null?null:s}=a,fx:{axis:v=d,grid:b=v===null?null:l}=o,fy:{axis:M=d,grid:y=M===null?null:l}=f}=e;(r||!Zo(i)&&!Zu("x",t))&&(h=p=null),(r||!Zo(a)&&!Zu("y",t))&&(g=m=null),n.has("fx")||(v=b=null),n.has("fy")||(M=y=null),h===void 0&&(h=!oi(t,"x")),g===void 0&&(g=!oi(t,"y")),v===void 0&&(v=!oi(t,"fx")),M===void 0&&(M=!oi(t,"fy")),h===!0&&(h="bottom"),g===!0&&(g="left"),v===!0&&(v=h==="top"||h===null?"bottom":"top"),M===!0&&(M=g==="right"||g===null?"left":"right");const x=[];return ai(x,y,kw,f),ii(x,M,_w,"right","left",u,f),ai(x,b,Dw,o),ii(x,v,Sw,"top","bottom",u,o),ai(x,m,Nw,a),ii(x,g,qh,"left","right",e,a),ai(x,p,Lw,i),ii(x,h,zh,"bottom","top",e,i),x}function ii(t,n,e,r,i,a,o){if(!n)return;const f=p7(n);o=g7(f?r:n,a,o);const{line:c}=o;(e===qh||e===zh)&&c&&!yr(c)&&t.push(jw(m7(o))),t.push(e(o)),f&&t.push(e({...o,anchor:i,label:null}))}function ai(t,n,e,r){!n||yr(n)||t.push(e(b7(n,r)))}function p7(t){return/^\s*both\s*$/i.test(t)}function g7(t,n,{line:e=n.line,ticks:r,tickSize:i,tickSpacing:a,tickPadding:o,tickFormat:f,tickRotate:c,fontVariant:s,ariaLabel:u,ariaDescription:d,label:l=n.label,labelAnchor:h,labelArrow:p=n.labelArrow,labelOffset:g}){return{anchor:t,line:e,ticks:r,tickSize:i,tickSpacing:a,tickPadding:o,tickFormat:f,tickRotate:c,fontVariant:s,ariaLabel:u,ariaDescription:d,label:l,labelAnchor:h,labelArrow:p,labelOffset:g}}function m7(t){const{anchor:n,line:e}=t;return{anchor:n,facetAnchor:n+"-empty",stroke:e===!0?void 0:e}}function b7(t,{stroke:n=xa(t)?t:void 0,ticks:e=y7(t)?t:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:a}){return{stroke:n,ticks:e,tickSpacing:r,ariaLabel:i,ariaDescription:a}}function y7(t){switch(typeof t){case"number":return!0;case"string":return!xa(t)}return ue(t)||typeof t?.range=="function"}function oi(t,n){const e=`${n}-axis `;return t.some(r=>r.ariaLabel?.startsWith(e))}function Zu(t,n){for(const e of n)for(const r in e.channels){const{scale:i}=e.channels[r];if(i===t||i==="projection")return!0}return!1}function w7(t,n){for(const e in t){const r=t[e],i=n[e];r.label===void 0&&i&&(r.label=i.label)}return t}function v7({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:f,height:c}=Bf(e),s=t&&Ku(t),u=n&&Ku(n);return{marginTop:n?u[0]:r,marginRight:t?f-s[1]:i,marginBottom:n?c-u[1]:a,marginLeft:t?s[0]:o,inset:{marginTop:e.marginTop,marginRight:e.marginRight,marginBottom:e.marginBottom,marginLeft:e.marginLeft},width:f,height:c}}function Ku(t){const n=t.domain();let e=t(n[0]),r=t(n[n.length-1]);return r<e&&([e,r]=[r,e]),[e,r+t.bandwidth()]}function Qu(t,n,e){if(t===void 0){if(n===void 0){if(e!==void 0)return[e]}else if(e===void 0)return[n]}else{if(n===void 0)return e===void 0?[t]:[t,e];if(e===void 0)return[t,n]}return[n,e]}const x7={ariaLabel:"arrow",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:1,strokeWidth:1.5};class M7 extends zt{constructor(n,e={}){const{x1:r,y1:i,x2:a,y2:o,bend:f=0,headAngle:c=60,headLength:s=8,inset:u=0,insetStart:d=u,insetEnd:l=u,sweep:h}=e;super(n,{x1:{value:r,scale:"x"},y1:{value:i,scale:"y"},x2:{value:a,scale:"x",optional:!0},y2:{value:o,scale:"y",optional:!0}},e,x7),this.bend=f===!0?22.5:Math.max(-90,Math.min(90,f)),this.headAngle=+c,this.headLength=+s,this.insetStart=+d,this.insetEnd=+l,this.sweep=$7(h)}render(n,e,r,i,a){const{x1:o,y1:f,x2:c=o,y2:s=f,SW:u}=r,{strokeWidth:d,bend:l,headAngle:h,headLength:p,insetStart:g,insetEnd:m}=this,v=u?y=>u[y]:fe(d===void 0?1:d),b=h*Wi/2,M=p/1.5;return Mt("svg:g",a).call(Sn,this,i,a).call(An,this,e).call(y=>y.selectAll().data(n).enter().append("path").call(Tn,this).attr("d",x=>{let w=o[x],$=f[x],C=c[x],T=s[x];const N=Math.hypot(C-w,T-$);if(N<=g+m)return null;let _=Math.atan2(T-$,C-w);const L=Math.min(M*v(x),N/3),I=this.sweep(w,$,C,T)*l*Wi,D=Math.hypot(N/Math.tan(I),N)/2;if(g||m)if(D<1e5){const Q=Math.sign(I),[B,X]=_7([w,$],[C,T],D,Q);if(g&&([w,$]=Ju([B,X,D],[w,$,g],-Q*Math.sign(g))),m){const[P,tt]=Ju([B,X,D],[C,T,m],Q*Math.sign(m));_+=Math.atan2(tt-X,P-B)-Math.atan2(T-X,C-B),C=P,T=tt}}else{const Q=C-w,B=T-$,X=Math.hypot(Q,B);g&&(w+=Q/X*g,$+=B/X*g),m&&(C-=Q/X*m,T-=B/X*m)}const S=_+I,F=S+b,W=S-b,H=C-L*Math.cos(F),k=T-L*Math.sin(F),U=C-L*Math.cos(W),q=T-L*Math.sin(W),R=D<1e5?`A${D},${D} 0,0,${I>0?1:0} `:"L",Y=L?`M${H},${k}L${C},${T}L${U},${q}`:"";return`M${w},${$}${R}${C},${T}${Y}`}).call(In,this,r)).node()}}function $7(t=1){if(typeof t=="number")return fe(Math.sign(t));if(typeof t=="function")return(n,e,r,i)=>Math.sign(t(n,e,r,i));switch(qt(t,"sweep",["+x","-x","+y","-y"])){case"+x":return(n,e,r)=>nn(n,r);case"-x":return(n,e,r)=>Xn(n,r);case"+y":return(n,e,r,i)=>nn(e,i);case"-y":return(n,e,r,i)=>Xn(e,i)}}function _7([t,n],[e,r],i,a){const o=e-t,f=r-n,c=Math.hypot(o,f),s=a*Math.sqrt(i*i-c*c/4)/c;return[(t+e)/2-f*s,(n+r)/2+o*s]}function Ju([t,n,e],[r,i,a],o){const f=r-t,c=i-n,s=Math.hypot(f,c),u=(f*f+c*c-a*a+e*e)/(2*s),d=o*Math.sqrt(e*e-u*u);return[t+(f*u+c*d)/s,n+(c*u-f*d)/s]}function S7(t,{x:n,x1:e,x2:r,y:i,y1:a,y2:o,...f}={}){return[e,r]=Qu(n,e,r),[a,o]=Qu(i,a,o),new M7(t,{...f,x1:e,x2:r,y1:a,y2:o})}const T7={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function i1(t){return t.sort===void 0&&t.reverse===void 0?K6({channel:"-r"},t):t}class A7 extends zt{constructor(n,e={}){const{x:r,y:i,r:a,rotate:o,symbol:f=gr,frameAnchor:c}=e,[s,u]=xt(o,0),[d,l]=j6(f),[h,p]=xt(a,d==null?3:4.5);super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:h,scale:"r",filter:Lr,optional:!0},rotate:{value:s,optional:!0},symbol:{value:d,scale:"auto",optional:!0}},i1(e),T7),this.r=p,this.rotate=u,this.symbol=l,this.frameAnchor=Ma(c);const{channels:g}=this,{symbol:m}=g;if(m){const{fill:v,stroke:b}=g;m.hint={fill:v?v.value===m.value?"color":"currentColor":this.fill??"currentColor",stroke:b?b.value===m.value?"color":"currentColor":this.stroke??"none"}}}render(n,e,r,i,a){const{x:o,y:f}=e,{x:c,y:s,r:u,rotate:d,symbol:l}=r,{r:h,rotate:p,symbol:g}=this,[m,v]=Ur(this,i),b=g===gr,M=u?void 0:h*h*Math.PI;return ma(h)&&(n=[]),Mt("svg:g",a).call(Sn,this,i,a).call(An,this,{x:c&&o,y:s&&f}).call(y=>y.selectAll().data(n).enter().append(b?"circle":"path").call(Tn,this).call(b?x=>{x.attr("cx",c?w=>c[w]:m).attr("cy",s?w=>s[w]:v).attr("r",u?w=>u[w]:h)}:x=>{x.attr("transform",Gf`translate(${c?w=>c[w]:m},${s?w=>s[w]:v})${d?w=>` rotate(${d[w]})`:p?` rotate(${p})`:""}`).attr("d",u&&l?w=>{const $=qn();return l[w].draw($,u[w]*u[w]*Math.PI),$}:u?w=>{const $=qn();return g.draw($,u[w]*u[w]*Math.PI),$}:l?w=>{const $=qn();return l[w].draw($,M),$}:(()=>{const w=qn();return g.draw(w,M),w})())}).call(In,this,r)).node()}}function C7(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=Lf(n,e)),new A7(t,{...r,x:n,y:e})}const E7={ariaLabel:"geo",fill:"none",stroke:"currentColor",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class N7 extends zt{constructor(n,e={}){const[r,i]=xt(e.r,3);super(n,{geometry:{value:e.geometry,scale:"projection"},r:{value:r,scale:"r",filter:Lr,optional:!0}},i1(e),E7),this.r=i}render(n,e,r,i,a){const{geometry:o,r:f}=r,c=ea(a.projection??k7(e)),{r:s}=this;return ma(s)?n=[]:s!==void 0&&c.pointRadius(s),Mt("svg:g",a).call(Sn,this,i,a).call(An,this,e).call(u=>{u.selectAll().data(n).enter().append("path").call(Tn,this).attr("d",f?d=>c.pointRadius(f[d])(o[d]):d=>c(o[d])).call(In,this,r)}).node()}}function k7({x:t,y:n}){if(t||n)return t??=e=>e,n??=e=>e,Ii({point(e,r){this.stream.point(t(e),n(r))}})}function ts(t,{geometry:n=jt,...e}={}){switch(t?.type){case"FeatureCollection":t=t.features;break;case"GeometryCollection":t=t.geometries;break;case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":t=[t];break}return new N7(t,{geometry:n,...e})}function L7({geometry:t=jt,...n}={}){return re({...n,x:null,y:null},(e,r,i,a,o,{projection:f})=>{const c=$n(e,t),s=c.length,u=new Float64Array(s),d=new Float64Array(s),l=ea(f);for(let h=0;h<s;++h)[u[h],d[h]]=l.centroid(c[h]);return{data:e,facets:r,channels:{x:{value:u,scale:f==null?"x":null,source:null},y:{value:d,scale:f==null?"y":null,source:null}}}})}function D7(t){return t}function I7(t){if(t==null)return D7;var n,e,r=t.scale[0],i=t.scale[1],a=t.translate[0],o=t.translate[1];return function(f,c){c||(n=e=0);var s=2,u=f.length,d=new Array(u);for(d[0]=(n+=f[0])*r+a,d[1]=(e+=f[1])*i+o;s<u;)d[s]=f[s],++s;return d}}function F7(t,n){for(var e,r=t.length,i=r-n;i<--r;)e=t[i],t[i++]=t[r],t[r]=e}function a1(t,n){return n.type==="GeometryCollection"?{type:"FeatureCollection",features:n.geometries.map(function(e){return ns(t,e)})}:ns(t,n)}function ns(t,n){var e=n.id,r=n.bbox,i=n.properties==null?{}:n.properties,a=R7(t,n);return e==null&&r==null?{type:"Feature",properties:i,geometry:a}:r==null?{type:"Feature",id:e,properties:i,geometry:a}:{type:"Feature",id:e,bbox:r,properties:i,geometry:a}}function R7(t,n){var e=I7(t.transform),r=t.arcs;function i(u,d){d.length&&d.pop();for(var l=r[u<0?~u:u],h=0,p=l.length;h<p;++h)d.push(e(l[h],h));u<0&&F7(d,p)}function a(u){return e(u)}function o(u){for(var d=[],l=0,h=u.length;l<h;++l)i(u[l],d);return d.length<2&&d.push(d[0]),d}function f(u){for(var d=o(u);d.length<4;)d.push(d[0]);return d}function c(u){return u.map(f)}function s(u){var d=u.type,l;switch(d){case"GeometryCollection":return{type:d,geometries:u.geometries.map(s)};case"Point":l=a(u.coordinates);break;case"MultiPoint":l=u.coordinates.map(a);break;case"LineString":l=o(u.arcs);break;case"MultiLineString":l=u.arcs.map(o);break;case"Polygon":l=c(u.arcs);break;case"MultiPolygon":l=u.arcs.map(c);break;default:return null}return{type:d,coordinates:l}}return s(n)}const P7=await fetch("countries-50m.json"),Vi=await P7.json(),o1=await fetch("families.json").then(t=>t.json());console.log(o1);const O7=["#7F7F7F","#007F7F","#7F007F","#007F00","#7F7F00","#00007F","#7F0000","#000000","#007FFF","#7F00FF"],U7=a1(Vi,Vi.objects.countries),q7=a1(Vi,Vi.objects.land),z7=Db().center([0,20]).radius(65).precision(2)(),Y7=e1({width:document.body.clientWidth,height:800,projection:{type:"azimuthal-equidistant",domain:z7,inset:10},marks:[ts(q7,{fill:"#ddd"}),ts(U7,{stroke:"#aaa",strokeWidth:.5}),o1.families.map((t,n)=>{const e=t.places.filter(f=>f.latitude!==null&&f.longitude!==null),r=[];for(let f=0;f<e.length-1;f++)r.push([e[f],e[f+1]]);console.log(t.name,t.places);const i=r.map(f=>{const[c,s]=f;return S7([{x1:c.longitude,y1:c.latitude,x2:s.longitude,y2:s.latitude},{x1:c.longitude,y1:c.latitude,x2:s.longitude,y2:s.latitude}],{bend:27,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:6,headLength:14,headAngle:40,strokeWidth:1,x1:"x1",x2:"x2",y1:"y1",y2:"y2",stroke:O7[n],sweep:"-x"})}),a=Zf(e.map(f=>({type:"Feature",properties:{name:f.name},geometry:{type:"Point",coordinates:[f.longitude,f.latitude]}})),L7({text:f=>f.properties.name,frameAnchor:"left",dx:12}));return[C7(e,{x:"longitude",y:"latitude",r:2,stroke:"red",fill:"red",fillOpacity:.2}),...i,a]})]}),H7=document.querySelector("#app");H7.append(Y7);
